var ed=Object.defineProperty,rd=Object.defineProperties;var id=Object.getOwnPropertyDescriptors;var qi=Object.getOwnPropertySymbols;var ma=Object.prototype.hasOwnProperty,va=Object.prototype.propertyIsEnumerable;var nd=(Zt,Vt)=>(Vt=Symbol[Zt])?Vt:Symbol.for("Symbol."+Zt);var ga=(Zt,Vt,Qt)=>Vt in Zt?ed(Zt,Vt,{enumerable:!0,configurable:!0,writable:!0,value:Qt}):Zt[Vt]=Qt,Ve=(Zt,Vt)=>{for(var Qt in Vt||(Vt={}))ma.call(Vt,Qt)&&ga(Zt,Qt,Vt[Qt]);if(qi)for(var Qt of qi(Vt))va.call(Vt,Qt)&&ga(Zt,Qt,Vt[Qt]);return Zt},zr=(Zt,Vt)=>rd(Zt,id(Vt));var Qn=(Zt,Vt)=>{var Qt={};for(var he in Zt)ma.call(Zt,he)&&Vt.indexOf(he)<0&&(Qt[he]=Zt[he]);if(Zt!=null&&qi)for(var he of qi(Zt))Vt.indexOf(he)<0&&va.call(Zt,he)&&(Qt[he]=Zt[he]);return Qt};var Ut=(Zt,Vt,Qt)=>new Promise((he,qt)=>{var ke=de=>{try{_e(Qt.next(de))}catch(Se){qt(Se)}},ue=de=>{try{_e(Qt.throw(de))}catch(Se){qt(Se)}},_e=de=>de.done?he(de.value):Promise.resolve(de.value).then(ke,ue);_e((Qt=Qt.apply(Zt,Vt)).next())}),Ki=function(Zt,Vt){this[0]=Zt,this[1]=Vt},ba=(Zt,Vt,Qt)=>{var he=(ue,_e,de,Se)=>{try{var fe=Qt[ue](_e),kr=(_e=fe.value)instanceof Ki,Yi=fe.done;Promise.resolve(kr?_e[0]:_e).then($t=>kr?he(ue==="return"?ue:"next",_e[1]?{done:$t.done,value:$t.value}:$t,de,Se):de({value:$t,done:Yi})).catch($t=>he("throw",$t,de,Se))}catch($t){Se($t)}},qt=ue=>ke[ue]=_e=>new Promise((de,Se)=>he(ue,_e,de,Se)),ke={};return Qt=Qt.apply(Zt,Vt),ke[nd("asyncIterator")]=()=>ke,qt("next"),qt("throw"),qt("return"),ke};(function(){"use strict";var Zt=document.createElement("style");Zt.textContent='*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html,:host{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:Arial,Helvetica,Verdana,sans-serif;font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]:where(:not([hidden=until-found])){display:none}html{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}body{min-height:100vh}.container{width:100%}@media (min-width: 640px){.container{max-width:640px}}@media (min-width: 768px){.container{max-width:768px}}@media (min-width: 1024px){.container{max-width:1024px}}@media (min-width: 1280px){.container{max-width:1280px}}@media (min-width: 1536px){.container{max-width:1536px}}.prose{color:inherit;max-width:65ch}.prose :where(p):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:1.25em;margin-bottom:1.25em}.prose :where([class~=lead]):not(:where([class~=not-prose],[class~=not-prose] *)){color:var(--tw-prose-lead);font-size:1.25em;line-height:1.6;margin-top:1.2em;margin-bottom:1.2em}.prose :where(a):not(:where([class~=not-prose],[class~=not-prose] *)){color:inherit;text-decoration:underline;font-weight:500}.prose :where(strong):not(:where([class~=not-prose],[class~=not-prose] *)){color:var(--tw-prose-bold);font-weight:600}.prose :where(a strong):not(:where([class~=not-prose],[class~=not-prose] *)){color:inherit}.prose :where(blockquote strong):not(:where([class~=not-prose],[class~=not-prose] *)){color:inherit}.prose :where(thead th strong):not(:where([class~=not-prose],[class~=not-prose] *)){color:inherit}.prose :where(ol):not(:where([class~=not-prose],[class~=not-prose] *)){list-style-type:decimal;margin-top:1.25em;margin-bottom:1.25em;padding-inline-start:1.625em}.prose :where(ol[type=A]):not(:where([class~=not-prose],[class~=not-prose] *)){list-style-type:upper-alpha}.prose :where(ol[type=a]):not(:where([class~=not-prose],[class~=not-prose] *)){list-style-type:lower-alpha}.prose :where(ol[type=A s]):not(:where([class~=not-prose],[class~=not-prose] *)){list-style-type:upper-alpha}.prose :where(ol[type=a s]):not(:where([class~=not-prose],[class~=not-prose] *)){list-style-type:lower-alpha}.prose :where(ol[type=I]):not(:where([class~=not-prose],[class~=not-prose] *)){list-style-type:upper-roman}.prose :where(ol[type=i]):not(:where([class~=not-prose],[class~=not-prose] *)){list-style-type:lower-roman}.prose :where(ol[type=I s]):not(:where([class~=not-prose],[class~=not-prose] *)){list-style-type:upper-roman}.prose :where(ol[type=i s]):not(:where([class~=not-prose],[class~=not-prose] *)){list-style-type:lower-roman}.prose :where(ol[type="1"]):not(:where([class~=not-prose],[class~=not-prose] *)){list-style-type:decimal}.prose :where(ul):not(:where([class~=not-prose],[class~=not-prose] *)){list-style-type:disc;margin-top:1.25em;margin-bottom:1.25em;padding-inline-start:1.625em}.prose :where(ol>li):not(:where([class~=not-prose],[class~=not-prose] *))::marker{font-weight:400;color:var(--tw-prose-counters)}.prose :where(ul>li):not(:where([class~=not-prose],[class~=not-prose] *))::marker{color:var(--tw-prose-bullets)}.prose :where(dt):not(:where([class~=not-prose],[class~=not-prose] *)){color:var(--tw-prose-headings);font-weight:600;margin-top:1.25em}.prose :where(hr):not(:where([class~=not-prose],[class~=not-prose] *)){border-color:var(--tw-prose-hr);border-top-width:1px;margin-top:3em;margin-bottom:3em}.prose :where(blockquote):not(:where([class~=not-prose],[class~=not-prose] *)){font-weight:500;font-style:italic;color:var(--tw-prose-quotes);border-inline-start-width:.25rem;border-inline-start-color:var(--tw-prose-quote-borders);quotes:"“""”""‘""’";margin-top:1.6em;margin-bottom:1.6em;padding-inline-start:1em}.prose :where(blockquote p:first-of-type):not(:where([class~=not-prose],[class~=not-prose] *)):before{content:open-quote}.prose :where(blockquote p:last-of-type):not(:where([class~=not-prose],[class~=not-prose] *)):after{content:close-quote}.prose :where(h1):not(:where([class~=not-prose],[class~=not-prose] *)){color:var(--tw-prose-headings);font-weight:800;font-size:2.25em;margin-top:0;margin-bottom:.8888889em;line-height:1.1111111}.prose :where(h1 strong):not(:where([class~=not-prose],[class~=not-prose] *)){font-weight:900;color:inherit}.prose :where(h2):not(:where([class~=not-prose],[class~=not-prose] *)){color:var(--tw-prose-headings);font-weight:700;font-size:1.5em;margin-top:2em;margin-bottom:1em;line-height:1.3333333}.prose :where(h2 strong):not(:where([class~=not-prose],[class~=not-prose] *)){font-weight:800;color:inherit}.prose :where(h3):not(:where([class~=not-prose],[class~=not-prose] *)){color:var(--tw-prose-headings);font-weight:600;font-size:1.25em;margin-top:1.6em;margin-bottom:.6em;line-height:1.6}.prose :where(h3 strong):not(:where([class~=not-prose],[class~=not-prose] *)){font-weight:700;color:inherit}.prose :where(h4):not(:where([class~=not-prose],[class~=not-prose] *)){color:var(--tw-prose-headings);font-weight:600;margin-top:1.5em;margin-bottom:.5em;line-height:1.5}.prose :where(h4 strong):not(:where([class~=not-prose],[class~=not-prose] *)){font-weight:700;color:inherit}.prose :where(img):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:2em;margin-bottom:2em;max-width:100%}.prose :where(picture):not(:where([class~=not-prose],[class~=not-prose] *)){display:block;margin-top:2em;margin-bottom:2em}.prose :where(video):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:2em;margin-bottom:2em}.prose :where(kbd):not(:where([class~=not-prose],[class~=not-prose] *)){font-weight:500;font-family:inherit;color:var(--tw-prose-kbd);box-shadow:0 0 0 1px var(--tw-prose-kbd-shadows),0 3px 0 var(--tw-prose-kbd-shadows);font-size:.875em;border-radius:.3125rem;padding-top:.1875em;padding-inline-end:.375em;padding-bottom:.1875em;padding-inline-start:.375em}.prose :where(code):not(:where([class~=not-prose],[class~=not-prose] *)){color:var(--tw-prose-code);font-weight:600;font-size:.875em}.prose :where(code):not(:where([class~=not-prose],[class~=not-prose] *)):before{content:"`"}.prose :where(code):not(:where([class~=not-prose],[class~=not-prose] *)):after{content:"`"}.prose :where(a code):not(:where([class~=not-prose],[class~=not-prose] *)){color:inherit}.prose :where(h1 code):not(:where([class~=not-prose],[class~=not-prose] *)){color:inherit}.prose :where(h2 code):not(:where([class~=not-prose],[class~=not-prose] *)){color:inherit;font-size:.875em}.prose :where(h3 code):not(:where([class~=not-prose],[class~=not-prose] *)){color:inherit;font-size:.9em}.prose :where(h4 code):not(:where([class~=not-prose],[class~=not-prose] *)){color:inherit}.prose :where(blockquote code):not(:where([class~=not-prose],[class~=not-prose] *)){color:inherit}.prose :where(thead th code):not(:where([class~=not-prose],[class~=not-prose] *)){color:inherit}.prose :where(pre):not(:where([class~=not-prose],[class~=not-prose] *)){color:var(--tw-prose-pre-code);background-color:var(--tw-prose-pre-bg);overflow-x:auto;font-weight:400;font-size:.875em;line-height:1.7142857;margin-top:1.7142857em;margin-bottom:1.7142857em;border-radius:.375rem;padding-top:.8571429em;padding-inline-end:1.1428571em;padding-bottom:.8571429em;padding-inline-start:1.1428571em}.prose :where(pre code):not(:where([class~=not-prose],[class~=not-prose] *)){background-color:transparent;border-width:0;border-radius:0;padding:0;font-weight:inherit;color:inherit;font-size:inherit;font-family:inherit;line-height:inherit}.prose :where(pre code):not(:where([class~=not-prose],[class~=not-prose] *)):before{content:none}.prose :where(pre code):not(:where([class~=not-prose],[class~=not-prose] *)):after{content:none}.prose :where(table):not(:where([class~=not-prose],[class~=not-prose] *)){width:100%;table-layout:auto;margin-top:2em;margin-bottom:2em;font-size:.875em;line-height:1.7142857}.prose :where(thead):not(:where([class~=not-prose],[class~=not-prose] *)){border-bottom-width:1px;border-bottom-color:var(--tw-prose-th-borders)}.prose :where(thead th):not(:where([class~=not-prose],[class~=not-prose] *)){color:var(--tw-prose-headings);font-weight:600;vertical-align:bottom;padding-inline-end:.5714286em;padding-bottom:.5714286em;padding-inline-start:.5714286em}.prose :where(tbody tr):not(:where([class~=not-prose],[class~=not-prose] *)){border-bottom-width:1px;border-bottom-color:var(--tw-prose-td-borders)}.prose :where(tbody tr:last-child):not(:where([class~=not-prose],[class~=not-prose] *)){border-bottom-width:0}.prose :where(tbody td):not(:where([class~=not-prose],[class~=not-prose] *)){vertical-align:baseline}.prose :where(tfoot):not(:where([class~=not-prose],[class~=not-prose] *)){border-top-width:1px;border-top-color:var(--tw-prose-th-borders)}.prose :where(tfoot td):not(:where([class~=not-prose],[class~=not-prose] *)){vertical-align:top}.prose :where(th,td):not(:where([class~=not-prose],[class~=not-prose] *)){text-align:start}.prose :where(figure>*):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:0;margin-bottom:0}.prose :where(figcaption):not(:where([class~=not-prose],[class~=not-prose] *)){color:var(--tw-prose-captions);font-size:.875em;line-height:1.4285714;margin-top:.8571429em}.prose{--tw-prose-body: #374151;--tw-prose-headings: #111827;--tw-prose-lead: #4b5563;--tw-prose-links: #111827;--tw-prose-bold: #111827;--tw-prose-counters: #6b7280;--tw-prose-bullets: #d1d5db;--tw-prose-hr: #e5e7eb;--tw-prose-quotes: #111827;--tw-prose-quote-borders: #e5e7eb;--tw-prose-captions: #6b7280;--tw-prose-kbd: #111827;--tw-prose-kbd-shadows: rgb(17 24 39 / 10%);--tw-prose-code: #111827;--tw-prose-pre-code: #e5e7eb;--tw-prose-pre-bg: #1f2937;--tw-prose-th-borders: #d1d5db;--tw-prose-td-borders: #e5e7eb;--tw-prose-invert-body: #d1d5db;--tw-prose-invert-headings: #fff;--tw-prose-invert-lead: #9ca3af;--tw-prose-invert-links: #fff;--tw-prose-invert-bold: #fff;--tw-prose-invert-counters: #9ca3af;--tw-prose-invert-bullets: #4b5563;--tw-prose-invert-hr: #374151;--tw-prose-invert-quotes: #f3f4f6;--tw-prose-invert-quote-borders: #374151;--tw-prose-invert-captions: #9ca3af;--tw-prose-invert-kbd: #fff;--tw-prose-invert-kbd-shadows: rgb(255 255 255 / 10%);--tw-prose-invert-code: #fff;--tw-prose-invert-pre-code: #d1d5db;--tw-prose-invert-pre-bg: rgb(0 0 0 / 50%);--tw-prose-invert-th-borders: #4b5563;--tw-prose-invert-td-borders: #374151;font-size:1rem;line-height:1.75}.prose :where(picture>img):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:0;margin-bottom:0}.prose :where(li):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:.5em;margin-bottom:.5em}.prose :where(ol>li):not(:where([class~=not-prose],[class~=not-prose] *)){padding-inline-start:.375em}.prose :where(ul>li):not(:where([class~=not-prose],[class~=not-prose] *)){padding-inline-start:.375em}.prose :where(.prose>ul>li p):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:.75em;margin-bottom:.75em}.prose :where(.prose>ul>li>p:first-child):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:1.25em}.prose :where(.prose>ul>li>p:last-child):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:1.25em}.prose :where(.prose>ol>li>p:first-child):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:1.25em}.prose :where(.prose>ol>li>p:last-child):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:1.25em}.prose :where(ul ul,ul ol,ol ul,ol ol):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:.75em;margin-bottom:.75em}.prose :where(dl):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:1.25em;margin-bottom:1.25em}.prose :where(dd):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:.5em;padding-inline-start:1.625em}.prose :where(hr+*):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:0}.prose :where(h2+*):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:0}.prose :where(h3+*):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:0}.prose :where(h4+*):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:0}.prose :where(thead th:first-child):not(:where([class~=not-prose],[class~=not-prose] *)){padding-inline-start:0}.prose :where(thead th:last-child):not(:where([class~=not-prose],[class~=not-prose] *)){padding-inline-end:0}.prose :where(tbody td,tfoot td):not(:where([class~=not-prose],[class~=not-prose] *)){padding-top:.5714286em;padding-inline-end:.5714286em;padding-bottom:.5714286em;padding-inline-start:.5714286em}.prose :where(tbody td:first-child,tfoot td:first-child):not(:where([class~=not-prose],[class~=not-prose] *)){padding-inline-start:0}.prose :where(tbody td:last-child,tfoot td:last-child):not(:where([class~=not-prose],[class~=not-prose] *)){padding-inline-end:0}.prose :where(figure):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:2em;margin-bottom:2em}.prose :where(.prose>:first-child):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:0}.prose :where(.prose>:last-child):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:0}.prose-invert{--tw-prose-body: var(--tw-prose-invert-body);--tw-prose-headings: var(--tw-prose-invert-headings);--tw-prose-lead: var(--tw-prose-invert-lead);--tw-prose-links: var(--tw-prose-invert-links);--tw-prose-bold: var(--tw-prose-invert-bold);--tw-prose-counters: var(--tw-prose-invert-counters);--tw-prose-bullets: var(--tw-prose-invert-bullets);--tw-prose-hr: var(--tw-prose-invert-hr);--tw-prose-quotes: var(--tw-prose-invert-quotes);--tw-prose-quote-borders: var(--tw-prose-invert-quote-borders);--tw-prose-captions: var(--tw-prose-invert-captions);--tw-prose-kbd: var(--tw-prose-invert-kbd);--tw-prose-kbd-shadows: var(--tw-prose-invert-kbd-shadows);--tw-prose-code: var(--tw-prose-invert-code);--tw-prose-pre-code: var(--tw-prose-invert-pre-code);--tw-prose-pre-bg: var(--tw-prose-invert-pre-bg);--tw-prose-th-borders: var(--tw-prose-invert-th-borders);--tw-prose-td-borders: var(--tw-prose-invert-td-borders)}.pointer-events-none{pointer-events:none}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.sticky{position:sticky}.inset-0{inset:0}.bottom-0{bottom:0}.left-0{left:0}.left-3{left:.75rem}.right-0{right:0}.top-0{top:0}.top-1\\/2{top:50%}.top-16{top:4rem}.-z-10{z-index:-10}.z-10{z-index:10}.z-30{z-index:30}.z-40{z-index:40}.z-50{z-index:50}.mx-auto{margin-left:auto;margin-right:auto}.mb-1{margin-bottom:.25rem}.mb-2{margin-bottom:.5rem}.mb-3{margin-bottom:.75rem}.mb-4{margin-bottom:1rem}.mb-6{margin-bottom:1.5rem}.mb-8{margin-bottom:2rem}.ml-72{margin-left:18rem}.mr-1{margin-right:.25rem}.mr-80{margin-right:20rem}.mt-1{margin-top:.25rem}.mt-2{margin-top:.5rem}.mt-8{margin-top:2rem}.line-clamp-2{overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}.block{display:block}.flex{display:flex}.table{display:table}.grid{display:grid}.contents{display:contents}.hidden{display:none}.aspect-\\[2\\/3\\]{aspect-ratio:2/3}.h-1{height:.25rem}.h-1\\.5{height:.375rem}.h-10{height:2.5rem}.h-12{height:3rem}.h-16{height:4rem}.h-20{height:5rem}.h-24{height:6rem}.h-3\\.5{height:.875rem}.h-32{height:8rem}.h-4{height:1rem}.h-5{height:1.25rem}.h-6{height:1.5rem}.h-full{height:100%}.h-screen{height:100vh}.min-h-0{min-height:0px}.min-h-\\[2\\.5rem\\]{min-height:2.5rem}.min-h-screen{min-height:100vh}.w-10{width:2.5rem}.w-12{width:3rem}.w-16{width:4rem}.w-20{width:5rem}.w-24{width:6rem}.w-3\\.5{width:.875rem}.w-32{width:8rem}.w-4{width:1rem}.w-5{width:1.25rem}.w-6{width:1.5rem}.w-72{width:18rem}.w-80{width:20rem}.w-full{width:100%}.min-w-0{min-width:0px}.max-w-2xl{max-width:42rem}.max-w-7xl{max-width:80rem}.max-w-\\[200px\\]{max-width:200px}.max-w-full{max-width:100%}.max-w-none{max-width:none}.flex-1{flex:1 1 0%}.flex-shrink-0{flex-shrink:0}.-translate-y-1\\/2{--tw-translate-y: -50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.translate-y-full{--tw-translate-y: 100%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.scale-105{--tw-scale-x: 1.05;--tw-scale-y: 1.05;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}@keyframes spin{to{transform:rotate(360deg)}}.animate-spin{animation:spin 1s linear infinite}.cursor-pointer{cursor:pointer}.grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.flex-col{flex-direction:column}.items-start{align-items:flex-start}.items-center{align-items:center}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-0\\.5{gap:.125rem}.gap-1{gap:.25rem}.gap-1\\.5{gap:.375rem}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.space-x-1>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.25rem * var(--tw-space-x-reverse));margin-left:calc(.25rem * calc(1 - var(--tw-space-x-reverse)))}.space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.5rem * var(--tw-space-x-reverse));margin-left:calc(.5rem * calc(1 - var(--tw-space-x-reverse)))}.space-x-4>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(1rem * var(--tw-space-x-reverse));margin-left:calc(1rem * calc(1 - var(--tw-space-x-reverse)))}.space-y-1>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.25rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.25rem * var(--tw-space-y-reverse))}.space-y-3>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.75rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.75rem * var(--tw-space-y-reverse))}.overflow-hidden{overflow:hidden}.overflow-y-auto{overflow-y:auto}.scroll-smooth{scroll-behavior:smooth}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.rounded{border-radius:.25rem}.rounded-2xl{border-radius:1rem}.rounded-3xl{border-radius:1.5rem}.rounded-full{border-radius:9999px}.rounded-lg{border-radius:.5rem}.rounded-xl{border-radius:.75rem}.border{border-width:1px}.border-4{border-width:4px}.border-b{border-bottom-width:1px}.border-l{border-left-width:1px}.border-r{border-right-width:1px}.border-t{border-top-width:1px}.border-dashed{border-style:dashed}.border-gray-200{--tw-border-opacity: 1;border-color:rgb(229 231 235 / var(--tw-border-opacity, 1))}.border-gray-300{--tw-border-opacity: 1;border-color:rgb(209 213 219 / var(--tw-border-opacity, 1))}.border-indigo-500{--tw-border-opacity: 1;border-color:rgb(99 102 241 / var(--tw-border-opacity, 1))}.bg-\\[\\#f4ecd8\\]{--tw-bg-opacity: 1;background-color:rgb(244 236 216 / var(--tw-bg-opacity, 1))}.bg-\\[\\#faf9f6\\]{--tw-bg-opacity: 1;background-color:rgb(250 249 246 / var(--tw-bg-opacity, 1))}.bg-black\\/50{background-color:#00000080}.bg-gray-100{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity, 1))}.bg-gray-200{--tw-bg-opacity: 1;background-color:rgb(229 231 235 / var(--tw-bg-opacity, 1))}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity, 1))}.bg-indigo-100{--tw-bg-opacity: 1;background-color:rgb(224 231 255 / var(--tw-bg-opacity, 1))}.bg-indigo-50{--tw-bg-opacity: 1;background-color:rgb(238 242 255 / var(--tw-bg-opacity, 1))}.bg-indigo-500\\/10{background-color:#6366f11a}.bg-indigo-600{--tw-bg-opacity: 1;background-color:rgb(79 70 229 / var(--tw-bg-opacity, 1))}.bg-purple-100{--tw-bg-opacity: 1;background-color:rgb(243 232 255 / var(--tw-bg-opacity, 1))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1))}.bg-white\\/80{background-color:#fffc}.bg-white\\/90{background-color:#ffffffe6}.bg-gradient-to-b{background-image:linear-gradient(to bottom,var(--tw-gradient-stops))}.bg-gradient-to-br{background-image:linear-gradient(to bottom right,var(--tw-gradient-stops))}.bg-gradient-to-r{background-image:linear-gradient(to right,var(--tw-gradient-stops))}.bg-gradient-to-t{background-image:linear-gradient(to top,var(--tw-gradient-stops))}.from-black\\/60{--tw-gradient-from: rgb(0 0 0 / .6) var(--tw-gradient-from-position);--tw-gradient-to: rgb(0 0 0 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-gray-50{--tw-gradient-from: #f9fafb var(--tw-gradient-from-position);--tw-gradient-to: rgb(249 250 251 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-indigo-100{--tw-gradient-from: #e0e7ff var(--tw-gradient-from-position);--tw-gradient-to: rgb(224 231 255 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-indigo-400{--tw-gradient-from: #818cf8 var(--tw-gradient-from-position);--tw-gradient-to: rgb(129 140 248 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-indigo-50{--tw-gradient-from: #eef2ff var(--tw-gradient-from-position);--tw-gradient-to: rgb(238 242 255 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-indigo-500{--tw-gradient-from: #6366f1 var(--tw-gradient-from-position);--tw-gradient-to: rgb(99 102 241 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-indigo-600{--tw-gradient-from: #4f46e5 var(--tw-gradient-from-position);--tw-gradient-to: rgb(79 70 229 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.via-transparent{--tw-gradient-to: rgb(0 0 0 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), transparent var(--tw-gradient-via-position), var(--tw-gradient-to)}.via-white{--tw-gradient-to: rgb(255 255 255 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), #fff var(--tw-gradient-via-position), var(--tw-gradient-to)}.to-gray-100{--tw-gradient-to: #f3f4f6 var(--tw-gradient-to-position)}.to-purple-100{--tw-gradient-to: #f3e8ff var(--tw-gradient-to-position)}.to-purple-50{--tw-gradient-to: #faf5ff var(--tw-gradient-to-position)}.to-purple-500{--tw-gradient-to: #a855f7 var(--tw-gradient-to-position)}.to-purple-600{--tw-gradient-to: #9333ea var(--tw-gradient-to-position)}.to-transparent{--tw-gradient-to: transparent var(--tw-gradient-to-position)}.bg-clip-text{-webkit-background-clip:text;background-clip:text}.object-contain{-o-object-fit:contain;object-fit:contain}.object-cover{-o-object-fit:cover;object-fit:cover}.p-12{padding:3rem}.p-16{padding:4rem}.p-2{padding:.5rem}.p-3{padding:.75rem}.p-4{padding:1rem}.p-6{padding:1.5rem}.px-2{padding-left:.5rem;padding-right:.5rem}.px-3{padding-left:.75rem;padding-right:.75rem}.px-4{padding-left:1rem;padding-right:1rem}.px-6{padding-left:1.5rem;padding-right:1.5rem}.px-8{padding-left:2rem;padding-right:2rem}.py-1\\.5{padding-top:.375rem;padding-bottom:.375rem}.py-16{padding-top:4rem;padding-bottom:4rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.py-6{padding-top:1.5rem;padding-bottom:1.5rem}.py-8{padding-top:2rem;padding-bottom:2rem}.pb-6{padding-bottom:1.5rem}.pl-10{padding-left:2.5rem}.pr-3{padding-right:.75rem}.text-left{text-align:left}.text-center{text-align:center}.text-2xl{font-size:1.5rem;line-height:2rem}.text-3xl{font-size:1.875rem;line-height:2.25rem}.text-4xl{font-size:2.25rem;line-height:2.5rem}.text-base{font-size:1rem;line-height:1.5rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.font-semibold{font-weight:600}.text-\\[\\#333333\\]{--tw-text-opacity: 1;color:rgb(51 51 51 / var(--tw-text-opacity, 1))}.text-\\[\\#5b4636\\]{--tw-text-opacity: 1;color:rgb(91 70 54 / var(--tw-text-opacity, 1))}.text-gray-100{--tw-text-opacity: 1;color:rgb(243 244 246 / var(--tw-text-opacity, 1))}.text-gray-400{--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity, 1))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity, 1))}.text-gray-600{--tw-text-opacity: 1;color:rgb(75 85 99 / var(--tw-text-opacity, 1))}.text-gray-900{--tw-text-opacity: 1;color:rgb(17 24 39 / var(--tw-text-opacity, 1))}.text-indigo-400{--tw-text-opacity: 1;color:rgb(129 140 248 / var(--tw-text-opacity, 1))}.text-indigo-600{--tw-text-opacity: 1;color:rgb(79 70 229 / var(--tw-text-opacity, 1))}.text-indigo-700{--tw-text-opacity: 1;color:rgb(67 56 202 / var(--tw-text-opacity, 1))}.text-purple-600{--tw-text-opacity: 1;color:rgb(147 51 234 / var(--tw-text-opacity, 1))}.text-red-600{--tw-text-opacity: 1;color:rgb(220 38 38 / var(--tw-text-opacity, 1))}.text-transparent{color:transparent}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.text-white\\/80{color:#fffc}.opacity-0{opacity:0}.opacity-25{opacity:.25}.opacity-5{opacity:.05}.opacity-75{opacity:.75}.shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-xl{--tw-shadow: 0 20px 25px -5px rgb(0 0 0 / .1), 0 8px 10px -6px rgb(0 0 0 / .1);--tw-shadow-colored: 0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.ring-4{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(4px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.ring-indigo-500{--tw-ring-opacity: 1;--tw-ring-color: rgb(99 102 241 / var(--tw-ring-opacity, 1))}.sepia{--tw-sepia: sepia(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.backdrop-blur-sm{--tw-backdrop-blur: blur(4px);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-colors{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-transform{transition-property:transform;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.duration-200{transition-duration:.2s}.duration-300{transition-duration:.3s}.scrollbar-thin{scrollbar-width:thin;scrollbar-color:#9ca3af transparent}.scrollbar-thin::-webkit-scrollbar{width:8px;height:8px}.scrollbar-thin::-webkit-scrollbar-track{background:transparent}.scrollbar-thin::-webkit-scrollbar-thumb{background-color:#9ca3af;border-radius:4px}.search-highlight{background-color:#fef08a;padding:0 2px;border-radius:2px;font-weight:500}.dark .search-highlight{background-color:#ca8a04;color:#fff}.search-highlight.active{background-color:#f97316;color:#fff;outline:2px solid #ea580c;outline-offset:1px}.hover\\:-translate-y-1:hover{--tw-translate-y: -.25rem;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.hover\\:border-indigo-400:hover{--tw-border-opacity: 1;border-color:rgb(129 140 248 / var(--tw-border-opacity, 1))}.hover\\:bg-gray-100:hover{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity, 1))}.hover\\:bg-indigo-700:hover{--tw-bg-opacity: 1;background-color:rgb(67 56 202 / var(--tw-bg-opacity, 1))}.hover\\:bg-red-100:hover{--tw-bg-opacity: 1;background-color:rgb(254 226 226 / var(--tw-bg-opacity, 1))}.hover\\:bg-white:hover{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1))}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-indigo-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(99 102 241 / var(--tw-ring-opacity, 1))}.disabled\\:cursor-not-allowed:disabled{cursor:not-allowed}.disabled\\:opacity-50:disabled{opacity:.5}.group:hover .group-hover\\:-translate-y-1{--tw-translate-y: -.25rem;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.group:hover .group-hover\\:translate-y-0{--tw-translate-y: 0px;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.group:hover .group-hover\\:scale-105{--tw-scale-x: 1.05;--tw-scale-y: 1.05;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.group:hover .group-hover\\:opacity-100{opacity:1}.group:hover .group-hover\\:shadow-2xl{--tw-shadow: 0 25px 50px -12px rgb(0 0 0 / .25);--tw-shadow-colored: 0 25px 50px -12px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.prose-headings\\:font-semibold :is(:where(h1,h2,h3,h4,h5,h6,th):not(:where([class~=not-prose],[class~=not-prose] *))){font-weight:600}.prose-p\\:mb-5 :is(:where(p):not(:where([class~=not-prose],[class~=not-prose] *))){margin-bottom:1.25rem}.prose-p\\:leading-loose :is(:where(p):not(:where([class~=not-prose],[class~=not-prose] *))){line-height:2}.prose-a\\:text-indigo-600 :is(:where(a):not(:where([class~=not-prose],[class~=not-prose] *))){--tw-text-opacity: 1;color:rgb(79 70 229 / var(--tw-text-opacity, 1))}.prose-img\\:rounded-lg :is(:where(img):not(:where([class~=not-prose],[class~=not-prose] *))){border-radius:.5rem}.dark\\:border-gray-600:is(.dark *){--tw-border-opacity: 1;border-color:rgb(75 85 99 / var(--tw-border-opacity, 1))}.dark\\:border-gray-700:is(.dark *){--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity, 1))}.dark\\:bg-gray-700:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(55 65 81 / var(--tw-bg-opacity, 1))}.dark\\:bg-gray-800:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity, 1))}.dark\\:bg-gray-800\\/90:is(.dark *){background-color:#1f2937e6}.dark\\:bg-gray-900\\/80:is(.dark *){background-color:#111827cc}.dark\\:bg-indigo-900:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(49 46 129 / var(--tw-bg-opacity, 1))}.dark\\:bg-indigo-900\\/20:is(.dark *){background-color:#312e8133}.dark\\:bg-purple-900\\/30:is(.dark *){background-color:#581c874d}.dark\\:from-gray-700\\/50:is(.dark *){--tw-gradient-from: rgb(55 65 81 / .5) var(--tw-gradient-from-position);--tw-gradient-to: rgb(55 65 81 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.dark\\:from-gray-900:is(.dark *){--tw-gradient-from: #111827 var(--tw-gradient-from-position);--tw-gradient-to: rgb(17 24 39 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.dark\\:from-indigo-400:is(.dark *){--tw-gradient-from: #818cf8 var(--tw-gradient-from-position);--tw-gradient-to: rgb(129 140 248 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.dark\\:from-indigo-600:is(.dark *){--tw-gradient-from: #4f46e5 var(--tw-gradient-from-position);--tw-gradient-to: rgb(79 70 229 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.dark\\:from-indigo-900\\/30:is(.dark *){--tw-gradient-from: rgb(49 46 129 / .3) var(--tw-gradient-from-position);--tw-gradient-to: rgb(49 46 129 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.dark\\:via-gray-800:is(.dark *){--tw-gradient-to: rgb(31 41 55 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), #1f2937 var(--tw-gradient-via-position), var(--tw-gradient-to)}.dark\\:to-gray-800\\/50:is(.dark *){--tw-gradient-to: rgb(31 41 55 / .5) var(--tw-gradient-to-position)}.dark\\:to-indigo-950:is(.dark *){--tw-gradient-to: #1e1b4b var(--tw-gradient-to-position)}.dark\\:to-purple-400:is(.dark *){--tw-gradient-to: #c084fc var(--tw-gradient-to-position)}.dark\\:to-purple-700:is(.dark *){--tw-gradient-to: #7e22ce var(--tw-gradient-to-position)}.dark\\:to-purple-900\\/30:is(.dark *){--tw-gradient-to: rgb(88 28 135 / .3) var(--tw-gradient-to-position)}.dark\\:text-gray-400:is(.dark *){--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity, 1))}.dark\\:text-gray-500:is(.dark *){--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity, 1))}.dark\\:text-gray-600:is(.dark *){--tw-text-opacity: 1;color:rgb(75 85 99 / var(--tw-text-opacity, 1))}.dark\\:text-indigo-300:is(.dark *){--tw-text-opacity: 1;color:rgb(165 180 252 / var(--tw-text-opacity, 1))}.dark\\:text-indigo-400:is(.dark *){--tw-text-opacity: 1;color:rgb(129 140 248 / var(--tw-text-opacity, 1))}.dark\\:text-indigo-500:is(.dark *){--tw-text-opacity: 1;color:rgb(99 102 241 / var(--tw-text-opacity, 1))}.dark\\:text-purple-400:is(.dark *){--tw-text-opacity: 1;color:rgb(192 132 252 / var(--tw-text-opacity, 1))}.dark\\:text-red-400:is(.dark *){--tw-text-opacity: 1;color:rgb(248 113 113 / var(--tw-text-opacity, 1))}.dark\\:text-white:is(.dark *){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.dark\\:hover\\:bg-gray-700:hover:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(55 65 81 / var(--tw-bg-opacity, 1))}.dark\\:hover\\:bg-gray-800:hover:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity, 1))}.dark\\:hover\\:bg-red-900\\/30:hover:is(.dark *){background-color:#7f1d1d4d}.dark\\:prose-a\\:text-indigo-400 :is(:where(a):not(:where([class~=not-prose],[class~=not-prose] *))):is(.dark *){--tw-text-opacity: 1;color:rgb(129 140 248 / var(--tw-text-opacity, 1))}@media (min-width: 640px){.sm\\:flex{display:flex}.sm\\:grid-cols-4{grid-template-columns:repeat(4,minmax(0,1fr))}}@media (min-width: 768px){.md\\:grid-cols-5{grid-template-columns:repeat(5,minmax(0,1fr))}}@media (min-width: 1024px){.lg\\:mb-8{margin-bottom:2rem}.lg\\:hidden{display:none}.lg\\:grid-cols-6{grid-template-columns:repeat(6,minmax(0,1fr))}.lg\\:gap-4{gap:1rem}.lg\\:p-8{padding:2rem}.lg\\:py-8{padding-top:2rem;padding-bottom:2rem}.lg\\:pb-8{padding-bottom:2rem}.lg\\:text-5xl{font-size:3rem;line-height:1}}@media (min-width: 1280px){.xl\\:grid-cols-7{grid-template-columns:repeat(7,minmax(0,1fr))}}@media (min-width: 1536px){.\\32xl\\:grid-cols-8{grid-template-columns:repeat(8,minmax(0,1fr))}}\n/*$vite$:1*/',document.head.appendChild(Zt);var Vt=typeof document!="undefined"?document.currentScript:null;function Qt(t,e){for(var r=0;r<e.length;r++){const o=e[r];if(typeof o!="string"&&!Array.isArray(o)){for(const n in o)if(n!=="default"&&!(n in t)){const i=Object.getOwnPropertyDescriptor(o,n);i&&Object.defineProperty(t,n,i.get?i:{enumerable:!0,get:()=>o[n]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}/**
* @vue/shared v3.5.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function he(t){const e=Object.create(null);for(const r of t.split(","))e[r]=1;return r=>r in e}const qt={},ke=[],ue=()=>{},_e=()=>!1,de=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Se=t=>t.startsWith("onUpdate:"),fe=Object.assign,kr=(t,e)=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)},Yi=Object.prototype.hasOwnProperty,$t=(t,e)=>Yi.call(t,e),Pt=Array.isArray,Sr=t=>oi(t)==="[object Map]",ts=t=>oi(t)==="[object Set]",zt=t=>typeof t=="function",oe=t=>typeof t=="string",er=t=>typeof t=="symbol",ee=t=>t!==null&&typeof t=="object",es=t=>(ee(t)||zt(t))&&zt(t.then)&&zt(t.catch),rs=Object.prototype.toString,oi=t=>rs.call(t),wa=t=>oi(t).slice(8,-1),is=t=>oi(t)==="[object Object]",ai=t=>oe(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Br=he(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),li=t=>{const e=Object.create(null);return r=>e[r]||(e[r]=t(r))},ya=/-\w/g,rr=li(t=>t.replace(ya,e=>e.slice(1).toUpperCase())),xa=/\B([A-Z])/g,dr=li(t=>t.replace(xa,"-$1").toLowerCase()),ns=li(t=>t.charAt(0).toUpperCase()+t.slice(1)),Xi=li(t=>t?`on${ns(t)}`:""),ir=(t,e)=>!Object.is(t,e),ci=(t,...e)=>{for(let r=0;r<t.length;r++)t[r](...e)},ss=(t,e,r,o=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:o,value:r})},Zi=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let os;const hi=()=>os||(os=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});function nr(t){if(Pt(t)){const e={};for(let r=0;r<t.length;r++){const o=t[r],n=oe(o)?Sa(o):nr(o);if(n)for(const i in n)e[i]=n[i]}return e}else if(oe(t)||ee(t))return t}const _a=/;(?![^(]*\))/g,Ea=/:([^]+)/,ka=/\/\*[^]*?\*\//g;function Sa(t){const e={};return t.replace(ka,"").split(_a).forEach(r=>{if(r){const o=r.split(Ea);o.length>1&&(e[o[0].trim()]=o[1].trim())}}),e}function re(t){let e="";if(oe(t))e=t;else if(Pt(t))for(let r=0;r<t.length;r++){const o=re(t[r]);o&&(e+=o+" ")}else if(ee(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}const Ca=he("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function as(t){return!!t||t===""}const ls=t=>!!(t&&t.__v_isRef===!0),le=t=>oe(t)?t:t==null?"":Pt(t)||ee(t)&&(t.toString===rs||!zt(t.toString))?ls(t)?le(t.value):JSON.stringify(t,cs,2):String(t),cs=(t,e)=>ls(e)?cs(t,e.value):Sr(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[o,n],i)=>(r[Gi(o,i)+" =>"]=n,r),{})}:ts(e)?{[`Set(${e.size})`]:[...e.values()].map(r=>Gi(r))}:er(e)?Gi(e):ee(e)&&!Pt(e)&&!is(e)?String(e):e,Gi=(t,e="")=>{var r;return er(t)?`Symbol(${(r=t.description)!=null?r:e})`:t};/**
* @vue/reactivity v3.5.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let me;class hs{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=me,!e&&me&&(this.index=(me.scopes||(me.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].pause();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].resume();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].resume()}}run(e){if(this._active){const r=me;try{return me=this,e()}finally{me=r}}}on(){++this._on===1&&(this.prevScope=me,me=this)}off(){this._on>0&&--this._on===0&&(me=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let r,o;for(r=0,o=this.effects.length;r<o;r++)this.effects[r].stop();for(this.effects.length=0,r=0,o=this.cleanups.length;r<o;r++)this.cleanups[r]();if(this.cleanups.length=0,this.scopes){for(r=0,o=this.scopes.length;r<o;r++)this.scopes[r].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function us(t){return new hs(t)}function Ji(){return me}function fs(t,e=!1){me&&me.cleanups.push(t)}let te;const Qi=new WeakSet;class ds{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,me&&me.active&&me.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Qi.has(this)&&(Qi.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||gs(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,ys(this),ms(this);const e=te,r=Le;te=this,Le=!0;try{return this.fn()}finally{vs(this),te=e,Le=r,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)nn(e);this.deps=this.depsTail=void 0,ys(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Qi.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){rn(this)&&this.run()}get dirty(){return rn(this)}}let ps=0,jr,Ur;function gs(t,e=!1){if(t.flags|=8,e){t.next=Ur,Ur=t;return}t.next=jr,jr=t}function tn(){ps++}function en(){if(--ps>0)return;if(Ur){let e=Ur;for(Ur=void 0;e;){const r=e.next;e.next=void 0,e.flags&=-9,e=r}}let t;for(;jr;){let e=jr;for(jr=void 0;e;){const r=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(o){t||(t=o)}e=r}}if(t)throw t}function ms(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function vs(t){let e,r=t.depsTail,o=r;for(;o;){const n=o.prevDep;o.version===-1?(o===r&&(r=n),nn(o),Ta(o)):e=o,o.dep.activeLink=o.prevActiveLink,o.prevActiveLink=void 0,o=n}t.deps=e,t.depsTail=r}function rn(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(bs(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function bs(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Fr)||(t.globalVersion=Fr,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!rn(t))))return;t.flags|=2;const e=t.dep,r=te,o=Le;te=t,Le=!0;try{ms(t);const n=t.fn(t._value);(e.version===0||ir(n,t._value))&&(t.flags|=128,t._value=n,e.version++)}catch(n){throw e.version++,n}finally{te=r,Le=o,vs(t),t.flags&=-3}}function nn(t,e=!1){const{dep:r,prevSub:o,nextSub:n}=t;if(o&&(o.nextSub=n,t.prevSub=void 0),n&&(n.prevSub=o,t.nextSub=void 0),r.subs===t&&(r.subs=o,!o&&r.computed)){r.computed.flags&=-5;for(let i=r.computed.deps;i;i=i.nextDep)nn(i,!0)}!e&&!--r.sc&&r.map&&r.map.delete(r.key)}function Ta(t){const{prevDep:e,nextDep:r}=t;e&&(e.nextDep=r,t.prevDep=void 0),r&&(r.prevDep=e,t.nextDep=void 0)}let Le=!0;const ws=[];function Be(){ws.push(Le),Le=!1}function je(){const t=ws.pop();Le=t===void 0?!0:t}function ys(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const r=te;te=void 0;try{e()}finally{te=r}}}let Fr=0;class Oa{constructor(e,r){this.sub=e,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class sn{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!te||!Le||te===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==te)r=this.activeLink=new Oa(te,this),te.deps?(r.prevDep=te.depsTail,te.depsTail.nextDep=r,te.depsTail=r):te.deps=te.depsTail=r,xs(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const o=r.nextDep;o.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=o),r.prevDep=te.depsTail,r.nextDep=void 0,te.depsTail.nextDep=r,te.depsTail=r,te.deps===r&&(te.deps=o)}return r}trigger(e){this.version++,Fr++,this.notify(e)}notify(e){tn();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{en()}}}function xs(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let o=e.deps;o;o=o.nextDep)xs(o)}const r=t.dep.subs;r!==t&&(t.prevSub=r,r&&(r.nextSub=t)),t.dep.subs=t}}const ui=new WeakMap,pr=Symbol(""),on=Symbol(""),Wr=Symbol("");function ve(t,e,r){if(Le&&te){let o=ui.get(t);o||ui.set(t,o=new Map);let n=o.get(r);n||(o.set(r,n=new sn),n.map=o,n.key=r),n.track()}}function qe(t,e,r,o,n,i){const h=ui.get(t);if(!h){Fr++;return}const u=l=>{l&&l.trigger()};if(tn(),e==="clear")h.forEach(u);else{const l=Pt(t),C=l&&ai(r);if(l&&r==="length"){const y=Number(o);h.forEach((_,a)=>{(a==="length"||a===Wr||!er(a)&&a>=y)&&u(_)})}else switch((r!==void 0||h.has(void 0))&&u(h.get(r)),C&&u(h.get(Wr)),e){case"add":l?C&&u(h.get("length")):(u(h.get(pr)),Sr(t)&&u(h.get(on)));break;case"delete":l||(u(h.get(pr)),Sr(t)&&u(h.get(on)));break;case"set":Sr(t)&&u(h.get(pr));break}}en()}function Aa(t,e){const r=ui.get(t);return r&&r.get(e)}function Cr(t){const e=Kt(t);return e===t?e:(ve(e,"iterate",Wr),Ce(t)?e:e.map(Pe))}function fi(t){return ve(t=Kt(t),"iterate",Wr),t}function sr(t,e){return Xe(t)?Ye(t)?Tr(Pe(e)):Tr(e):Pe(e)}const Ia={__proto__:null,[Symbol.iterator](){return an(this,Symbol.iterator,t=>sr(this,t))},concat(...t){return Cr(this).concat(...t.map(e=>Pt(e)?Cr(e):e))},entries(){return an(this,"entries",t=>(t[1]=sr(this,t[1]),t))},every(t,e){return Ke(this,"every",t,e,void 0,arguments)},filter(t,e){return Ke(this,"filter",t,e,r=>r.map(o=>sr(this,o)),arguments)},find(t,e){return Ke(this,"find",t,e,r=>sr(this,r),arguments)},findIndex(t,e){return Ke(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Ke(this,"findLast",t,e,r=>sr(this,r),arguments)},findLastIndex(t,e){return Ke(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Ke(this,"forEach",t,e,void 0,arguments)},includes(...t){return ln(this,"includes",t)},indexOf(...t){return ln(this,"indexOf",t)},join(t){return Cr(this).join(t)},lastIndexOf(...t){return ln(this,"lastIndexOf",t)},map(t,e){return Ke(this,"map",t,e,void 0,arguments)},pop(){return $r(this,"pop")},push(...t){return $r(this,"push",t)},reduce(t,...e){return _s(this,"reduce",t,e)},reduceRight(t,...e){return _s(this,"reduceRight",t,e)},shift(){return $r(this,"shift")},some(t,e){return Ke(this,"some",t,e,void 0,arguments)},splice(...t){return $r(this,"splice",t)},toReversed(){return Cr(this).toReversed()},toSorted(t){return Cr(this).toSorted(t)},toSpliced(...t){return Cr(this).toSpliced(...t)},unshift(...t){return $r(this,"unshift",t)},values(){return an(this,"values",t=>sr(this,t))}};function an(t,e,r){const o=fi(t),n=o[e]();return o!==t&&!Ce(t)&&(n._next=n.next,n.next=()=>{const i=n._next();return i.done||(i.value=r(i.value)),i}),n}const Ra=Array.prototype;function Ke(t,e,r,o,n,i){const h=fi(t),u=h!==t&&!Ce(t),l=h[e];if(l!==Ra[e]){const _=l.apply(t,i);return u?Pe(_):_}let C=r;h!==t&&(u?C=function(_,a){return r.call(this,sr(t,_),a,t)}:r.length>2&&(C=function(_,a){return r.call(this,_,a,t)}));const y=l.call(h,C,o);return u&&n?n(y):y}function _s(t,e,r,o){const n=fi(t);let i=r;return n!==t&&(Ce(t)?r.length>3&&(i=function(h,u,l){return r.call(this,h,u,l,t)}):i=function(h,u,l){return r.call(this,h,sr(t,u),l,t)}),n[e](i,...o)}function ln(t,e,r){const o=Kt(t);ve(o,"iterate",Wr);const n=o[e](...r);return(n===-1||n===!1)&&bi(r[0])?(r[0]=Kt(r[0]),o[e](...r)):n}function $r(t,e,r=[]){Be(),tn();const o=Kt(t)[e].apply(t,r);return en(),je(),o}const Na=he("__proto__,__v_isRef,__isVue"),Es=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(er));function Da(t){er(t)||(t=String(t));const e=Kt(this);return ve(e,"has",t),e.hasOwnProperty(t)}class ks{constructor(e=!1,r=!1){this._isReadonly=e,this._isShallow=r}get(e,r,o){if(r==="__v_skip")return e.__v_skip;const n=this._isReadonly,i=this._isShallow;if(r==="__v_isReactive")return!n;if(r==="__v_isReadonly")return n;if(r==="__v_isShallow")return i;if(r==="__v_raw")return o===(n?i?Is:As:i?Os:Ts).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(o)?e:void 0;const h=Pt(e);if(!n){let l;if(h&&(l=Ia[r]))return l;if(r==="hasOwnProperty")return Da}const u=Reflect.get(e,r,ie(e)?e:o);if((er(r)?Es.has(r):Na(r))||(n||ve(e,"get",r),i))return u;if(ie(u)){const l=h&&ai(r)?u:u.value;return n&&ee(l)?mi(l):l}return ee(u)?n?mi(u):Hr(u):u}}class Ss extends ks{constructor(e=!1){super(!1,e)}set(e,r,o,n){let i=e[r];const h=Pt(e)&&ai(r);if(!this._isShallow){const C=Xe(i);if(!Ce(o)&&!Xe(o)&&(i=Kt(i),o=Kt(o)),!h&&ie(i)&&!ie(o))return C||(i.value=o),!0}const u=h?Number(r)<e.length:$t(e,r),l=Reflect.set(e,r,o,ie(e)?e:n);return e===Kt(n)&&(u?ir(o,i)&&qe(e,"set",r,o):qe(e,"add",r,o)),l}deleteProperty(e,r){const o=$t(e,r);e[r];const n=Reflect.deleteProperty(e,r);return n&&o&&qe(e,"delete",r,void 0),n}has(e,r){const o=Reflect.has(e,r);return(!er(r)||!Es.has(r))&&ve(e,"has",r),o}ownKeys(e){return ve(e,"iterate",Pt(e)?"length":pr),Reflect.ownKeys(e)}}class Cs extends ks{constructor(e=!1){super(!0,e)}set(e,r){return!0}deleteProperty(e,r){return!0}}const La=new Ss,Pa=new Cs,Ma=new Ss(!0),za=new Cs(!0),cn=t=>t,di=t=>Reflect.getPrototypeOf(t);function Ba(t,e,r){return function(...o){const n=this.__v_raw,i=Kt(n),h=Sr(i),u=t==="entries"||t===Symbol.iterator&&h,l=t==="keys"&&h,C=n[t](...o),y=r?cn:e?Tr:Pe;return!e&&ve(i,"iterate",l?on:pr),{next(){const{value:_,done:a}=C.next();return a?{value:_,done:a}:{value:u?[y(_[0]),y(_[1])]:y(_),done:a}},[Symbol.iterator](){return this}}}}function pi(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function ja(t,e){const r={get(n){const i=this.__v_raw,h=Kt(i),u=Kt(n);t||(ir(n,u)&&ve(h,"get",n),ve(h,"get",u));const{has:l}=di(h),C=e?cn:t?Tr:Pe;if(l.call(h,n))return C(i.get(n));if(l.call(h,u))return C(i.get(u));i!==h&&i.get(n)},get size(){const n=this.__v_raw;return!t&&ve(Kt(n),"iterate",pr),n.size},has(n){const i=this.__v_raw,h=Kt(i),u=Kt(n);return t||(ir(n,u)&&ve(h,"has",n),ve(h,"has",u)),n===u?i.has(n):i.has(n)||i.has(u)},forEach(n,i){const h=this,u=h.__v_raw,l=Kt(u),C=e?cn:t?Tr:Pe;return!t&&ve(l,"iterate",pr),u.forEach((y,_)=>n.call(i,C(y),C(_),h))}};return fe(r,t?{add:pi("add"),set:pi("set"),delete:pi("delete"),clear:pi("clear")}:{add(n){!e&&!Ce(n)&&!Xe(n)&&(n=Kt(n));const i=Kt(this);return di(i).has.call(i,n)||(i.add(n),qe(i,"add",n,n)),this},set(n,i){!e&&!Ce(i)&&!Xe(i)&&(i=Kt(i));const h=Kt(this),{has:u,get:l}=di(h);let C=u.call(h,n);C||(n=Kt(n),C=u.call(h,n));const y=l.call(h,n);return h.set(n,i),C?ir(i,y)&&qe(h,"set",n,i):qe(h,"add",n,i),this},delete(n){const i=Kt(this),{has:h,get:u}=di(i);let l=h.call(i,n);l||(n=Kt(n),l=h.call(i,n)),u&&u.call(i,n);const C=i.delete(n);return l&&qe(i,"delete",n,void 0),C},clear(){const n=Kt(this),i=n.size!==0,h=n.clear();return i&&qe(n,"clear",void 0,void 0),h}}),["keys","values","entries",Symbol.iterator].forEach(n=>{r[n]=Ba(n,t,e)}),r}function gi(t,e){const r=ja(t,e);return(o,n,i)=>n==="__v_isReactive"?!t:n==="__v_isReadonly"?t:n==="__v_raw"?o:Reflect.get($t(r,n)&&n in o?r:o,n,i)}const Ua={get:gi(!1,!1)},Fa={get:gi(!1,!0)},Wa={get:gi(!0,!1)},$a={get:gi(!0,!0)},Ts=new WeakMap,Os=new WeakMap,As=new WeakMap,Is=new WeakMap;function Ha(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Va(t){return t.__v_skip||!Object.isExtensible(t)?0:Ha(wa(t))}function Hr(t){return Xe(t)?t:vi(t,!1,La,Ua,Ts)}function qa(t){return vi(t,!1,Ma,Fa,Os)}function mi(t){return vi(t,!0,Pa,Wa,As)}function od(t){return vi(t,!0,za,$a,Is)}function vi(t,e,r,o,n){if(!ee(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=Va(t);if(i===0)return t;const h=n.get(t);if(h)return h;const u=new Proxy(t,i===2?o:r);return n.set(t,u),u}function Ye(t){return Xe(t)?Ye(t.__v_raw):!!(t&&t.__v_isReactive)}function Xe(t){return!!(t&&t.__v_isReadonly)}function Ce(t){return!!(t&&t.__v_isShallow)}function bi(t){return t?!!t.__v_raw:!1}function Kt(t){const e=t&&t.__v_raw;return e?Kt(e):t}function hn(t){return!$t(t,"__v_skip")&&Object.isExtensible(t)&&ss(t,"__v_skip",!0),t}const Pe=t=>ee(t)?Hr(t):t,Tr=t=>ee(t)?mi(t):t;function ie(t){return t?t.__v_isRef===!0:!1}function Yt(t){return Rs(t,!1)}function Ka(t){return Rs(t,!0)}function Rs(t,e){return ie(t)?t:new Ya(t,e)}class Ya{constructor(e,r){this.dep=new sn,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=r?e:Kt(e),this._value=r?e:Pe(e),this.__v_isShallow=r}get value(){return this.dep.track(),this._value}set value(e){const r=this._rawValue,o=this.__v_isShallow||Ce(e)||Xe(e);e=o?e:Kt(e),ir(e,r)&&(this._rawValue=e,this._value=o?e:Pe(e),this.dep.trigger())}}function Ot(t){return ie(t)?t.value:t}const Xa={get:(t,e,r)=>e==="__v_raw"?t:Ot(Reflect.get(t,e,r)),set:(t,e,r,o)=>{const n=t[e];return ie(n)&&!ie(r)?(n.value=r,!0):Reflect.set(t,e,r,o)}};function Ns(t){return Ye(t)?t:new Proxy(t,Xa)}function Za(t){const e=Pt(t)?new Array(t.length):{};for(const r in t)e[r]=Ja(t,r);return e}class Ga{constructor(e,r,o){this._object=e,this._key=r,this._defaultValue=o,this.__v_isRef=!0,this._value=void 0,this._raw=Kt(e);let n=!0,i=e;if(!Pt(e)||!ai(String(r)))do n=!bi(i)||Ce(i);while(n&&(i=i.__v_raw));this._shallow=n}get value(){let e=this._object[this._key];return this._shallow&&(e=Ot(e)),this._value=e===void 0?this._defaultValue:e}set value(e){if(this._shallow&&ie(this._raw[this._key])){const r=this._object[this._key];if(ie(r)){r.value=e;return}}this._object[this._key]=e}get dep(){return Aa(this._raw,this._key)}}function Ja(t,e,r){return new Ga(t,e,r)}class Qa{constructor(e,r,o){this.fn=e,this.setter=r,this._value=void 0,this.dep=new sn(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Fr-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!r,this.isSSR=o}notify(){if(this.flags|=16,!(this.flags&8)&&te!==this)return gs(this,!0),!0}get value(){const e=this.dep.track();return bs(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function tl(t,e,r=!1){let o,n;return zt(t)?o=t:(o=t.get,n=t.set),new Qa(o,n,r)}const wi={},yi=new WeakMap;let gr;function el(t,e=!1,r=gr){if(r){let o=yi.get(r);o||yi.set(r,o=[]),o.push(t)}}function rl(t,e,r=qt){const{immediate:o,deep:n,once:i,scheduler:h,augmentJob:u,call:l}=r,C=x=>n?x:Ce(x)||n===!1||n===0?Ze(x,1):Ze(x);let y,_,a,c,w=!1,s=!1;if(ie(t)?(_=()=>t.value,w=Ce(t)):Ye(t)?(_=()=>C(t),w=!0):Pt(t)?(s=!0,w=t.some(x=>Ye(x)||Ce(x)),_=()=>t.map(x=>{if(ie(x))return x.value;if(Ye(x))return C(x);if(zt(x))return l?l(x,2):x()})):zt(t)?e?_=l?()=>l(t,2):t:_=()=>{if(a){Be();try{a()}finally{je()}}const x=gr;gr=y;try{return l?l(t,3,[c]):t(c)}finally{gr=x}}:_=ue,e&&n){const x=_,E=n===!0?1/0:n;_=()=>Ze(x(),E)}const v=Ji(),d=()=>{y.stop(),v&&v.active&&kr(v.effects,y)};if(i&&e){const x=e;e=(...E)=>{x(...E),d()}}let b=s?new Array(t.length).fill(wi):wi;const p=x=>{if(!(!(y.flags&1)||!y.dirty&&!x))if(e){const E=y.run();if(n||w||(s?E.some((f,S)=>ir(f,b[S])):ir(E,b))){a&&a();const f=gr;gr=y;try{const S=[E,b===wi?void 0:s&&b[0]===wi?[]:b,c];b=E,l?l(e,3,S):e(...S)}finally{gr=f}}}else y.run()};return u&&u(p),y=new ds(_),y.scheduler=h?()=>h(p,!1):p,c=x=>el(x,!1,y),a=y.onStop=()=>{const x=yi.get(y);if(x){if(l)l(x,4);else for(const E of x)E();yi.delete(y)}},e?o?p(!0):b=y.run():h?h(p.bind(null,!0),!0):y.run(),d.pause=y.pause.bind(y),d.resume=y.resume.bind(y),d.stop=d,d}function Ze(t,e=1/0,r){if(e<=0||!ee(t)||t.__v_skip||(r=r||new Map,(r.get(t)||0)>=e))return t;if(r.set(t,e),e--,ie(t))Ze(t.value,e,r);else if(Pt(t))for(let o=0;o<t.length;o++)Ze(t[o],e,r);else if(ts(t)||Sr(t))t.forEach(o=>{Ze(o,e,r)});else if(is(t)){for(const o in t)Ze(t[o],e,r);for(const o of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,o)&&Ze(t[o],e,r)}return t}/**
* @vue/runtime-core v3.5.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Vr=[];let un=!1;function ad(t,...e){if(un)return;un=!0,Be();const r=Vr.length?Vr[Vr.length-1].component:null,o=r&&r.appContext.config.warnHandler,n=il();if(o)Or(o,r,11,[t+e.map(i=>{var h,u;return(u=(h=i.toString)==null?void 0:h.call(i))!=null?u:JSON.stringify(i)}).join(""),r&&r.proxy,n.map(({vnode:i})=>`at <${Co(r,i.type)}>`).join(`
`),n]);else{const i=[`[Vue warn]: ${t}`,...e];n.length&&i.push(`
`,...nl(n)),console.warn(...i)}je(),un=!1}function il(){let t=Vr[Vr.length-1];if(!t)return[];const e=[];for(;t;){const r=e[0];r&&r.vnode===t?r.recurseCount++:e.push({vnode:t,recurseCount:0});const o=t.component&&t.component.parent;t=o&&o.vnode}return e}function nl(t){const e=[];return t.forEach((r,o)=>{e.push(...o===0?[]:[`
`],...sl(r))}),e}function sl({vnode:t,recurseCount:e}){const r=e>0?`... (${e} recursive calls)`:"",o=t.component?t.component.parent==null:!1,n=` at <${Co(t.component,t.type,o)}`,i=">"+r;return t.props?[n,...ol(t.props),i]:[n+i]}function ol(t){const e=[],r=Object.keys(t);return r.slice(0,3).forEach(o=>{e.push(...Ds(o,t[o]))}),r.length>3&&e.push(" ..."),e}function Ds(t,e,r){return oe(e)?(e=JSON.stringify(e),r?e:[`${t}=${e}`]):typeof e=="number"||typeof e=="boolean"||e==null?r?e:[`${t}=${e}`]:ie(e)?(e=Ds(t,Kt(e.value),!0),r?e:[`${t}=Ref<`,e,">"]):zt(e)?[`${t}=fn${e.name?`<${e.name}>`:""}`]:(e=Kt(e),r?e:[`${t}=`,e])}function Or(t,e,r,o){try{return o?t(...o):t()}catch(n){xi(n,e,r)}}function Ue(t,e,r,o){if(zt(t)){const n=Or(t,e,r,o);return n&&es(n)&&n.catch(i=>{xi(i,e,r)}),n}if(Pt(t)){const n=[];for(let i=0;i<t.length;i++)n.push(Ue(t[i],e,r,o));return n}}function xi(t,e,r,o=!0){const n=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:h}=e&&e.appContext.config||qt;if(e){let u=e.parent;const l=e.proxy,C=`https://vuejs.org/error-reference/#runtime-${r}`;for(;u;){const y=u.ec;if(y){for(let _=0;_<y.length;_++)if(y[_](t,l,C)===!1)return}u=u.parent}if(i){Be(),Or(i,null,10,[t,l,C]),je();return}}al(t,r,n,o,h)}function al(t,e,r,o=!0,n=!1){if(n)throw t;console.error(t)}const be=[];let Fe=-1;const Ar=[];let or=null,Ir=0;const Ls=Promise.resolve();let _i=null;function ar(t){const e=_i||Ls;return t?e.then(this?t.bind(this):t):e}function ll(t){let e=Fe+1,r=be.length;for(;e<r;){const o=e+r>>>1,n=be[o],i=qr(n);i<t||i===t&&n.flags&2?e=o+1:r=o}return e}function fn(t){if(!(t.flags&1)){const e=qr(t),r=be[be.length-1];!r||!(t.flags&2)&&e>=qr(r)?be.push(t):be.splice(ll(e),0,t),t.flags|=1,Ps()}}function Ps(){_i||(_i=Ls.then(Bs))}function cl(t){Pt(t)?Ar.push(...t):or&&t.id===-1?or.splice(Ir+1,0,t):t.flags&1||(Ar.push(t),t.flags|=1),Ps()}function Ms(t,e,r=Fe+1){for(;r<be.length;r++){const o=be[r];if(o&&o.flags&2){if(t&&o.id!==t.uid)continue;be.splice(r,1),r--,o.flags&4&&(o.flags&=-2),o(),o.flags&4||(o.flags&=-2)}}}function zs(t){if(Ar.length){const e=[...new Set(Ar)].sort((r,o)=>qr(r)-qr(o));if(Ar.length=0,or){or.push(...e);return}for(or=e,Ir=0;Ir<or.length;Ir++){const r=or[Ir];r.flags&4&&(r.flags&=-2),r.flags&8||r(),r.flags&=-2}or=null,Ir=0}}const qr=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Bs(t){try{for(Fe=0;Fe<be.length;Fe++){const e=be[Fe];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Or(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Fe<be.length;Fe++){const e=be[Fe];e&&(e.flags&=-2)}Fe=-1,be.length=0,zs(),_i=null,(be.length||Ar.length)&&Bs()}}let Ie=null,js=null;function Ei(t){const e=Ie;return Ie=t,js=t&&t.type.__scopeId||null,e}function hl(t,e=Ie,r){if(!e||t._n)return t;const o=(...n)=>{o._d&&mo(-1);const i=Ei(e);let h;try{h=t(...n)}finally{Ei(i),o._d&&mo(1)}return h};return o._n=!0,o._c=!0,o._d=!0,o}function ul(t,e){if(Ie===null)return t;const r=Li(Ie),o=t.dirs||(t.dirs=[]);for(let n=0;n<e.length;n++){let[i,h,u,l=qt]=e[n];i&&(zt(i)&&(i={mounted:i,updated:i}),i.deep&&Ze(h),o.push({dir:i,instance:r,value:h,oldValue:void 0,arg:u,modifiers:l}))}return t}function mr(t,e,r,o){const n=t.dirs,i=e&&e.dirs;for(let h=0;h<n.length;h++){const u=n[h];i&&(u.oldValue=i[h].value);let l=u.dir[o];l&&(Be(),Ue(l,r,8,[t.el,u,t,e]),je())}}function fl(t,e){if(xe){let r=xe.provides;const o=xe.parent&&xe.parent.provides;o===r&&(r=xe.provides=Object.create(o)),r[t]=e}}function Kr(t,e,r=!1){const o=kn();if(o||br){let n=br?br._context.provides:o?o.parent==null||o.ce?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:void 0;if(n&&t in n)return n[t];if(arguments.length>1)return r&&zt(e)?e.call(o&&o.proxy):e}}function dl(){return!!(kn()||br)}const pl=Symbol.for("v-scx"),gl=()=>Kr(pl);function ml(t,e){return dn(t,null,e)}function Me(t,e,r){return dn(t,e,r)}function dn(t,e,r=qt){const{immediate:o,deep:n,flush:i,once:h}=r,u=fe({},r),l=e&&o||!e&&i!=="post";let C;if(ri){if(i==="sync"){const c=gl();C=c.__watcherHandles||(c.__watcherHandles=[])}else if(!l){const c=()=>{};return c.stop=ue,c.resume=ue,c.pause=ue,c}}const y=xe;u.call=(c,w,s)=>Ue(c,y,w,s);let _=!1;i==="post"?u.scheduler=c=>{Te(c,y&&y.suspense)}:i!=="sync"&&(_=!0,u.scheduler=(c,w)=>{w?c():fn(c)}),u.augmentJob=c=>{e&&(c.flags|=4),_&&(c.flags|=2,y&&(c.id=y.uid,c.i=y))};const a=rl(t,e,u);return ri&&(C?C.push(a):l&&a()),a}function vl(t,e,r){const o=this.proxy,n=oe(t)?t.includes(".")?Us(o,t):()=>o[t]:t.bind(o,o);let i;zt(e)?i=e:(i=e.handler,r=e);const h=ei(this),u=dn(n,i.bind(o),r);return h(),u}function Us(t,e){const r=e.split(".");return()=>{let o=t;for(let n=0;n<r.length&&o;n++)o=o[r[n]];return o}}const bl=Symbol("_vte"),wl=t=>t.__isTeleport,yl=Symbol("_leaveCb");function pn(t,e){t.shapeFlag&6&&t.component?(t.transition=e,pn(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function vr(t,e){return zt(t)?fe({name:t.name},e,{setup:t}):t}function Fs(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const ki=new WeakMap;function Yr(t,e,r,o,n=!1){if(Pt(t)){t.forEach((w,s)=>Yr(w,e&&(Pt(e)?e[s]:e),r,o,n));return}if(Xr(o)&&!n){o.shapeFlag&512&&o.type.__asyncResolved&&o.component.subTree.component&&Yr(t,e,r,o.component.subTree);return}const i=o.shapeFlag&4?Li(o.component):o.el,h=n?null:i,{i:u,r:l}=t,C=e&&e.r,y=u.refs===qt?u.refs={}:u.refs,_=u.setupState,a=Kt(_),c=_===qt?_e:w=>$t(a,w);if(C!=null&&C!==l){if(Ws(e),oe(C))y[C]=null,c(C)&&(_[C]=null);else if(ie(C)){C.value=null;const w=e;w.k&&(y[w.k]=null)}}if(zt(l))Or(l,u,12,[h,y]);else{const w=oe(l),s=ie(l);if(w||s){const v=()=>{if(t.f){const d=w?c(l)?_[l]:y[l]:l.value;if(n)Pt(d)&&kr(d,i);else if(Pt(d))d.includes(i)||d.push(i);else if(w)y[l]=[i],c(l)&&(_[l]=y[l]);else{const b=[i];l.value=b,t.k&&(y[t.k]=b)}}else w?(y[l]=h,c(l)&&(_[l]=h)):s&&(l.value=h,t.k&&(y[t.k]=h))};if(h){const d=()=>{v(),ki.delete(t)};d.id=-1,ki.set(t,d),Te(d,r)}else Ws(t),v()}}}function Ws(t){const e=ki.get(t);e&&(e.flags|=8,ki.delete(t))}hi().requestIdleCallback,hi().cancelIdleCallback;const Xr=t=>!!t.type.__asyncLoader,$s=t=>t.type.__isKeepAlive;function xl(t,e){Hs(t,"a",e)}function _l(t,e){Hs(t,"da",e)}function Hs(t,e,r=xe){const o=t.__wdc||(t.__wdc=()=>{let n=r;for(;n;){if(n.isDeactivated)return;n=n.parent}return t()});if(Si(e,o,r),r){let n=r.parent;for(;n&&n.parent;)$s(n.parent.vnode)&&El(o,e,r,n),n=n.parent}}function El(t,e,r,o){const n=Si(e,t,o,!0);Rr(()=>{kr(o[e],n)},r)}function Si(t,e,r=xe,o=!1){if(r){const n=r[t]||(r[t]=[]),i=e.__weh||(e.__weh=(...h)=>{Be();const u=ei(r),l=Ue(e,r,t,h);return u(),je(),l});return o?n.unshift(i):n.push(i),i}}const Ge=t=>(e,r=xe)=>{(!ri||t==="sp")&&Si(t,(...o)=>e(...o),r)},kl=Ge("bm"),Ci=Ge("m"),Sl=Ge("bu"),Cl=Ge("u"),Tl=Ge("bum"),Rr=Ge("um"),Ol=Ge("sp"),Al=Ge("rtg"),Il=Ge("rtc");function Rl(t,e=xe){Si("ec",t,e)}const Nl=Symbol.for("v-ndc");function Ti(t,e,r,o){let n;const i=r,h=Pt(t);if(h||oe(t)){const u=h&&Ye(t);let l=!1,C=!1;u&&(l=!Ce(t),C=Xe(t),t=fi(t)),n=new Array(t.length);for(let y=0,_=t.length;y<_;y++)n[y]=e(l?C?Tr(Pe(t[y])):Pe(t[y]):t[y],y,void 0,i)}else if(typeof t=="number"){n=new Array(t);for(let u=0;u<t;u++)n[u]=e(u+1,u,void 0,i)}else if(ee(t))if(t[Symbol.iterator])n=Array.from(t,(u,l)=>e(u,l,void 0,i));else{const u=Object.keys(t);n=new Array(u.length);for(let l=0,C=u.length;l<C;l++){const y=u[l];n[l]=e(t[y],y,l,i)}}else n=[];return n}const gn=t=>t?Eo(t)?Li(t):gn(t.parent):null,Zr=fe(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>gn(t.parent),$root:t=>gn(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Ys(t),$forceUpdate:t=>t.f||(t.f=()=>{fn(t.update)}),$nextTick:t=>t.n||(t.n=ar.bind(t.proxy)),$watch:t=>vl.bind(t)}),mn=(t,e)=>t!==qt&&!t.__isScriptSetup&&$t(t,e),Dl={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:r,setupState:o,data:n,props:i,accessCache:h,type:u,appContext:l}=t;if(e[0]!=="$"){const a=h[e];if(a!==void 0)switch(a){case 1:return o[e];case 2:return n[e];case 4:return r[e];case 3:return i[e]}else{if(mn(o,e))return h[e]=1,o[e];if(n!==qt&&$t(n,e))return h[e]=2,n[e];if($t(i,e))return h[e]=3,i[e];if(r!==qt&&$t(r,e))return h[e]=4,r[e];vn&&(h[e]=0)}}const C=Zr[e];let y,_;if(C)return e==="$attrs"&&ve(t.attrs,"get",""),C(t);if((y=u.__cssModules)&&(y=y[e]))return y;if(r!==qt&&$t(r,e))return h[e]=4,r[e];if(_=l.config.globalProperties,$t(_,e))return _[e]},set({_:t},e,r){const{data:o,setupState:n,ctx:i}=t;return mn(n,e)?(n[e]=r,!0):o!==qt&&$t(o,e)?(o[e]=r,!0):$t(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=r,!0)},has({_:{data:t,setupState:e,accessCache:r,ctx:o,appContext:n,props:i,type:h}},u){let l;return!!(r[u]||t!==qt&&u[0]!=="$"&&$t(t,u)||mn(e,u)||$t(i,u)||$t(o,u)||$t(Zr,u)||$t(n.config.globalProperties,u)||(l=h.__cssModules)&&l[u])},defineProperty(t,e,r){return r.get!=null?t._.accessCache[e]=0:$t(r,"value")&&this.set(t,e,r.value,null),Reflect.defineProperty(t,e,r)}};function Vs(t){return Pt(t)?t.reduce((e,r)=>(e[r]=null,e),{}):t}let vn=!0;function Ll(t){const e=Ys(t),r=t.proxy,o=t.ctx;vn=!1,e.beforeCreate&&qs(e.beforeCreate,t,"bc");const{data:n,computed:i,methods:h,watch:u,provide:l,inject:C,created:y,beforeMount:_,mounted:a,beforeUpdate:c,updated:w,activated:s,deactivated:v,beforeDestroy:d,beforeUnmount:b,destroyed:p,unmounted:x,render:E,renderTracked:f,renderTriggered:S,errorCaptured:I,serverPrefetch:P,expose:T,inheritAttrs:N,components:A,directives:B,filters:O}=e;if(C&&Pl(C,o,null),h)for(const Y in h){const lt=h[Y];zt(lt)&&(o[Y]=lt.bind(r))}if(n){const Y=n.call(r,r);ee(Y)&&(t.data=Hr(Y))}if(vn=!0,i)for(const Y in i){const lt=i[Y],rt=zt(lt)?lt.bind(r,r):zt(lt.get)?lt.get.bind(r,r):ue,ut=!zt(lt)&&zt(lt.set)?lt.set.bind(r):ue,G=ze({get:rt,set:ut});Object.defineProperty(o,Y,{enumerable:!0,configurable:!0,get:()=>G.value,set:it=>G.value=it})}if(u)for(const Y in u)Ks(u[Y],o,r,Y);if(l){const Y=zt(l)?l.call(r):l;Reflect.ownKeys(Y).forEach(lt=>{fl(lt,Y[lt])})}y&&qs(y,t,"c");function nt(Y,lt){Pt(lt)?lt.forEach(rt=>Y(rt.bind(r))):lt&&Y(lt.bind(r))}if(nt(kl,_),nt(Ci,a),nt(Sl,c),nt(Cl,w),nt(xl,s),nt(_l,v),nt(Rl,I),nt(Il,f),nt(Al,S),nt(Tl,b),nt(Rr,x),nt(Ol,P),Pt(T))if(T.length){const Y=t.exposed||(t.exposed={});T.forEach(lt=>{Object.defineProperty(Y,lt,{get:()=>r[lt],set:rt=>r[lt]=rt,enumerable:!0})})}else t.exposed||(t.exposed={});E&&t.render===ue&&(t.render=E),N!=null&&(t.inheritAttrs=N),A&&(t.components=A),B&&(t.directives=B),P&&Fs(t)}function Pl(t,e,r=ue){Pt(t)&&(t=bn(t));for(const o in t){const n=t[o];let i;ee(n)?"default"in n?i=Kr(n.from||o,n.default,!0):i=Kr(n.from||o):i=Kr(n),ie(i)?Object.defineProperty(e,o,{enumerable:!0,configurable:!0,get:()=>i.value,set:h=>i.value=h}):e[o]=i}}function qs(t,e,r){Ue(Pt(t)?t.map(o=>o.bind(e.proxy)):t.bind(e.proxy),e,r)}function Ks(t,e,r,o){let n=o.includes(".")?Us(r,o):()=>r[o];if(oe(t)){const i=e[t];zt(i)&&Me(n,i)}else if(zt(t))Me(n,t.bind(r));else if(ee(t))if(Pt(t))t.forEach(i=>Ks(i,e,r,o));else{const i=zt(t.handler)?t.handler.bind(r):e[t.handler];zt(i)&&Me(n,i,t)}}function Ys(t){const e=t.type,{mixins:r,extends:o}=e,{mixins:n,optionsCache:i,config:{optionMergeStrategies:h}}=t.appContext,u=i.get(e);let l;return u?l=u:!n.length&&!r&&!o?l=e:(l={},n.length&&n.forEach(C=>Oi(l,C,h,!0)),Oi(l,e,h)),ee(e)&&i.set(e,l),l}function Oi(t,e,r,o=!1){const{mixins:n,extends:i}=e;i&&Oi(t,i,r,!0),n&&n.forEach(h=>Oi(t,h,r,!0));for(const h in e)if(!(o&&h==="expose")){const u=Ml[h]||r&&r[h];t[h]=u?u(t[h],e[h]):e[h]}return t}const Ml={data:Xs,props:Zs,emits:Zs,methods:Gr,computed:Gr,beforeCreate:we,created:we,beforeMount:we,mounted:we,beforeUpdate:we,updated:we,beforeDestroy:we,beforeUnmount:we,destroyed:we,unmounted:we,activated:we,deactivated:we,errorCaptured:we,serverPrefetch:we,components:Gr,directives:Gr,watch:Bl,provide:Xs,inject:zl};function Xs(t,e){return e?t?function(){return fe(zt(t)?t.call(this,this):t,zt(e)?e.call(this,this):e)}:e:t}function zl(t,e){return Gr(bn(t),bn(e))}function bn(t){if(Pt(t)){const e={};for(let r=0;r<t.length;r++)e[t[r]]=t[r];return e}return t}function we(t,e){return t?[...new Set([].concat(t,e))]:e}function Gr(t,e){return t?fe(Object.create(null),t,e):e}function Zs(t,e){return t?Pt(t)&&Pt(e)?[...new Set([...t,...e])]:fe(Object.create(null),Vs(t),Vs(e!=null?e:{})):e}function Bl(t,e){if(!t)return e;if(!e)return t;const r=fe(Object.create(null),t);for(const o in e)r[o]=we(t[o],e[o]);return r}function Gs(){return{app:null,config:{isNativeTag:_e,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let jl=0;function Ul(t,e){return function(o,n=null){zt(o)||(o=fe({},o)),n!=null&&!ee(n)&&(n=null);const i=Gs(),h=new WeakSet,u=[];let l=!1;const C=i.app={_uid:jl++,_component:o,_props:n,_container:null,_context:i,_instance:null,version:xc,get config(){return i.config},set config(y){},use(y,..._){return h.has(y)||(y&&zt(y.install)?(h.add(y),y.install(C,..._)):zt(y)&&(h.add(y),y(C,..._))),C},mixin(y){return i.mixins.includes(y)||i.mixins.push(y),C},component(y,_){return _?(i.components[y]=_,C):i.components[y]},directive(y,_){return _?(i.directives[y]=_,C):i.directives[y]},mount(y,_,a){if(!l){const c=C._ceVNode||ye(o,n);return c.appContext=i,a===!0?a="svg":a===!1&&(a=void 0),t(c,y,a),l=!0,C._container=y,y.__vue_app__=C,Li(c.component)}},onUnmount(y){u.push(y)},unmount(){l&&(Ue(u,C._instance,16),t(null,C._container),delete C._container.__vue_app__)},provide(y,_){return i.provides[y]=_,C},runWithContext(y){const _=br;br=C;try{return y()}finally{br=_}}};return C}}let br=null;const Fl=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${rr(e)}Modifiers`]||t[`${dr(e)}Modifiers`];function Wl(t,e,...r){if(t.isUnmounted)return;const o=t.vnode.props||qt;let n=r;const i=e.startsWith("update:"),h=i&&Fl(o,e.slice(7));h&&(h.trim&&(n=r.map(y=>oe(y)?y.trim():y)),h.number&&(n=r.map(Zi)));let u,l=o[u=Xi(e)]||o[u=Xi(rr(e))];!l&&i&&(l=o[u=Xi(dr(e))]),l&&Ue(l,t,6,n);const C=o[u+"Once"];if(C){if(!t.emitted)t.emitted={};else if(t.emitted[u])return;t.emitted[u]=!0,Ue(C,t,6,n)}}const $l=new WeakMap;function Js(t,e,r=!1){const o=r?$l:e.emitsCache,n=o.get(t);if(n!==void 0)return n;const i=t.emits;let h={},u=!1;if(!zt(t)){const l=C=>{const y=Js(C,e,!0);y&&(u=!0,fe(h,y))};!r&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!u?(ee(t)&&o.set(t,null),null):(Pt(i)?i.forEach(l=>h[l]=null):fe(h,i),ee(t)&&o.set(t,h),h)}function Ai(t,e){return!t||!de(e)?!1:(e=e.slice(2).replace(/Once$/,""),$t(t,e[0].toLowerCase()+e.slice(1))||$t(t,dr(e))||$t(t,e))}function ld(){}function Qs(t){const{type:e,vnode:r,proxy:o,withProxy:n,propsOptions:[i],slots:h,attrs:u,emit:l,render:C,renderCache:y,props:_,data:a,setupState:c,ctx:w,inheritAttrs:s}=t,v=Ei(t);let d,b;try{if(r.shapeFlag&4){const x=n||o,E=x;d=We(C.call(E,x,y,_,c,a,w)),b=u}else{const x=e;d=We(x.length>1?x(_,{attrs:u,slots:h,emit:l}):x(_,null)),b=e.props?u:Hl(u)}}catch(x){Jr.length=0,xi(x,t,1),d=ye(lr)}let p=d;if(b&&s!==!1){const x=Object.keys(b),{shapeFlag:E}=p;x.length&&E&7&&(i&&x.some(Se)&&(b=Vl(b,i)),p=Nr(p,b,!1,!0))}return r.dirs&&(p=Nr(p,null,!1,!0),p.dirs=p.dirs?p.dirs.concat(r.dirs):r.dirs),r.transition&&pn(p,r.transition),d=p,Ei(v),d}const Hl=t=>{let e;for(const r in t)(r==="class"||r==="style"||de(r))&&((e||(e={}))[r]=t[r]);return e},Vl=(t,e)=>{const r={};for(const o in t)(!Se(o)||!(o.slice(9)in e))&&(r[o]=t[o]);return r};function ql(t,e,r){const{props:o,children:n,component:i}=t,{props:h,children:u,patchFlag:l}=e,C=i.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&l>=0){if(l&1024)return!0;if(l&16)return o?to(o,h,C):!!h;if(l&8){const y=e.dynamicProps;for(let _=0;_<y.length;_++){const a=y[_];if(h[a]!==o[a]&&!Ai(C,a))return!0}}}else return(n||u)&&(!u||!u.$stable)?!0:o===h?!1:o?h?to(o,h,C):!0:!!h;return!1}function to(t,e,r){const o=Object.keys(e);if(o.length!==Object.keys(t).length)return!0;for(let n=0;n<o.length;n++){const i=o[n];if(e[i]!==t[i]&&!Ai(r,i))return!0}return!1}function Kl({vnode:t,parent:e},r){for(;e;){const o=e.subTree;if(o.suspense&&o.suspense.activeBranch===t&&(o.el=t.el),o===t)(t=e.vnode).el=r,e=e.parent;else break}}const eo={},ro=()=>Object.create(eo),io=t=>Object.getPrototypeOf(t)===eo;function Yl(t,e,r,o=!1){const n={},i=ro();t.propsDefaults=Object.create(null),no(t,e,n,i);for(const h in t.propsOptions[0])h in n||(n[h]=void 0);r?t.props=o?n:qa(n):t.type.props?t.props=n:t.props=i,t.attrs=i}function Xl(t,e,r,o){const{props:n,attrs:i,vnode:{patchFlag:h}}=t,u=Kt(n),[l]=t.propsOptions;let C=!1;if((o||h>0)&&!(h&16)){if(h&8){const y=t.vnode.dynamicProps;for(let _=0;_<y.length;_++){let a=y[_];if(Ai(t.emitsOptions,a))continue;const c=e[a];if(l)if($t(i,a))c!==i[a]&&(i[a]=c,C=!0);else{const w=rr(a);n[w]=wn(l,u,w,c,t,!1)}else c!==i[a]&&(i[a]=c,C=!0)}}}else{no(t,e,n,i)&&(C=!0);let y;for(const _ in u)(!e||!$t(e,_)&&((y=dr(_))===_||!$t(e,y)))&&(l?r&&(r[_]!==void 0||r[y]!==void 0)&&(n[_]=wn(l,u,_,void 0,t,!0)):delete n[_]);if(i!==u)for(const _ in i)(!e||!$t(e,_))&&(delete i[_],C=!0)}C&&qe(t.attrs,"set","")}function no(t,e,r,o){const[n,i]=t.propsOptions;let h=!1,u;if(e)for(let l in e){if(Br(l))continue;const C=e[l];let y;n&&$t(n,y=rr(l))?!i||!i.includes(y)?r[y]=C:(u||(u={}))[y]=C:Ai(t.emitsOptions,l)||(!(l in o)||C!==o[l])&&(o[l]=C,h=!0)}if(i){const l=Kt(r),C=u||qt;for(let y=0;y<i.length;y++){const _=i[y];r[_]=wn(n,l,_,C[_],t,!$t(C,_))}}return h}function wn(t,e,r,o,n,i){const h=t[r];if(h!=null){const u=$t(h,"default");if(u&&o===void 0){const l=h.default;if(h.type!==Function&&!h.skipFactory&&zt(l)){const{propsDefaults:C}=n;if(r in C)o=C[r];else{const y=ei(n);o=C[r]=l.call(null,e),y()}}else o=l;n.ce&&n.ce._setProp(r,o)}h[0]&&(i&&!u?o=!1:h[1]&&(o===""||o===dr(r))&&(o=!0))}return o}const Zl=new WeakMap;function so(t,e,r=!1){const o=r?Zl:e.propsCache,n=o.get(t);if(n)return n;const i=t.props,h={},u=[];let l=!1;if(!zt(t)){const y=_=>{l=!0;const[a,c]=so(_,e,!0);fe(h,a),c&&u.push(...c)};!r&&e.mixins.length&&e.mixins.forEach(y),t.extends&&y(t.extends),t.mixins&&t.mixins.forEach(y)}if(!i&&!l)return ee(t)&&o.set(t,ke),ke;if(Pt(i))for(let y=0;y<i.length;y++){const _=rr(i[y]);oo(_)&&(h[_]=qt)}else if(i)for(const y in i){const _=rr(y);if(oo(_)){const a=i[y],c=h[_]=Pt(a)||zt(a)?{type:a}:fe({},a),w=c.type;let s=!1,v=!0;if(Pt(w))for(let d=0;d<w.length;++d){const b=w[d],p=zt(b)&&b.name;if(p==="Boolean"){s=!0;break}else p==="String"&&(v=!1)}else s=zt(w)&&w.name==="Boolean";c[0]=s,c[1]=v,(s||$t(c,"default"))&&u.push(_)}}const C=[h,u];return ee(t)&&o.set(t,C),C}function oo(t){return t[0]!=="$"&&!Br(t)}const yn=t=>t==="_"||t==="_ctx"||t==="$stable",xn=t=>Pt(t)?t.map(We):[We(t)],Gl=(t,e,r)=>{if(e._n)return e;const o=hl((...n)=>xn(e(...n)),r);return o._c=!1,o},ao=(t,e,r)=>{const o=t._ctx;for(const n in t){if(yn(n))continue;const i=t[n];if(zt(i))e[n]=Gl(n,i,o);else if(i!=null){const h=xn(i);e[n]=()=>h}}},lo=(t,e)=>{const r=xn(e);t.slots.default=()=>r},co=(t,e,r)=>{for(const o in e)(r||!yn(o))&&(t[o]=e[o])},Jl=(t,e,r)=>{const o=t.slots=ro();if(t.vnode.shapeFlag&32){const n=e._;n?(co(o,e,r),r&&ss(o,"_",n,!0)):ao(e,o)}else e&&lo(t,e)},Ql=(t,e,r)=>{const{vnode:o,slots:n}=t;let i=!0,h=qt;if(o.shapeFlag&32){const u=e._;u?r&&u===1?i=!1:co(n,e,r):(i=!e.$stable,ao(e,n)),h=e}else e&&(lo(t,e),h={default:1});if(i)for(const u in n)!yn(u)&&h[u]==null&&delete n[u]},Te=nc;function tc(t){return ec(t)}function ec(t,e){const r=hi();r.__VUE__=!0;const{insert:o,remove:n,patchProp:i,createElement:h,createText:u,createComment:l,setText:C,setElementText:y,parentNode:_,nextSibling:a,setScopeId:c=ue,insertStaticContent:w}=t,s=(K,et,m,U=null,j=null,R=null,L=void 0,W=null,Z=!!et.dynamicChildren)=>{if(K===et)return;K&&!ti(K,et)&&(U=kt(K),it(K,j,R,!0),K=null),et.patchFlag===-2&&(Z=!1,et.dynamicChildren=null);const{type:q,ref:g,shapeFlag:k}=et;switch(q){case Ii:v(K,et,m,U);break;case lr:d(K,et,m,U);break;case Ri:K==null&&b(et,m,U,L);break;case Ee:A(K,et,m,U,j,R,L,W,Z);break;default:k&1?E(K,et,m,U,j,R,L,W,Z):k&6?B(K,et,m,U,j,R,L,W,Z):(k&64||k&128)&&q.process(K,et,m,U,j,R,L,W,Z,Dt)}g!=null&&j?Yr(g,K&&K.ref,R,et||K,!et):g==null&&K&&K.ref!=null&&Yr(K.ref,null,R,K,!0)},v=(K,et,m,U)=>{if(K==null)o(et.el=u(et.children),m,U);else{const j=et.el=K.el;et.children!==K.children&&C(j,et.children)}},d=(K,et,m,U)=>{K==null?o(et.el=l(et.children||""),m,U):et.el=K.el},b=(K,et,m,U)=>{[K.el,K.anchor]=w(K.children,et,m,U,K.el,K.anchor)},p=({el:K,anchor:et},m,U)=>{let j;for(;K&&K!==et;)j=a(K),o(K,m,U),K=j;o(et,m,U)},x=({el:K,anchor:et})=>{let m;for(;K&&K!==et;)m=a(K),n(K),K=m;n(et)},E=(K,et,m,U,j,R,L,W,Z)=>{if(et.type==="svg"?L="svg":et.type==="math"&&(L="mathml"),K==null)f(et,m,U,j,R,L,W,Z);else{const q=K.el&&K.el._isVueCE?K.el:null;try{q&&q._beginPatch(),P(K,et,j,R,L,W,Z)}finally{q&&q._endPatch()}}},f=(K,et,m,U,j,R,L,W)=>{let Z,q;const{props:g,shapeFlag:k,transition:D,dirs:M}=K;if(Z=K.el=h(K.type,R,g&&g.is,g),k&8?y(Z,K.children):k&16&&I(K.children,Z,null,U,j,_n(K,R),L,W),M&&mr(K,null,U,"created"),S(Z,K,K.scopeId,L,U),g){for(const J in g)J!=="value"&&!Br(J)&&i(Z,J,null,g[J],R,U);"value"in g&&i(Z,"value",null,g.value,R),(q=g.onVnodeBeforeMount)&&$e(q,U,K)}M&&mr(K,null,U,"beforeMount");const X=rc(j,D);X&&D.beforeEnter(Z),o(Z,et,m),((q=g&&g.onVnodeMounted)||X||M)&&Te(()=>{q&&$e(q,U,K),X&&D.enter(Z),M&&mr(K,null,U,"mounted")},j)},S=(K,et,m,U,j)=>{if(m&&c(K,m),U)for(let R=0;R<U.length;R++)c(K,U[R]);if(j){let R=j.subTree;if(et===R||go(R.type)&&(R.ssContent===et||R.ssFallback===et)){const L=j.vnode;S(K,L,L.scopeId,L.slotScopeIds,j.parent)}}},I=(K,et,m,U,j,R,L,W,Z=0)=>{for(let q=Z;q<K.length;q++){const g=K[q]=W?cr(K[q]):We(K[q]);s(null,g,et,m,U,j,R,L,W)}},P=(K,et,m,U,j,R,L)=>{const W=et.el=K.el;let{patchFlag:Z,dynamicChildren:q,dirs:g}=et;Z|=K.patchFlag&16;const k=K.props||qt,D=et.props||qt;let M;if(m&&wr(m,!1),(M=D.onVnodeBeforeUpdate)&&$e(M,m,et,K),g&&mr(et,K,m,"beforeUpdate"),m&&wr(m,!0),(k.innerHTML&&D.innerHTML==null||k.textContent&&D.textContent==null)&&y(W,""),q?T(K.dynamicChildren,q,W,m,U,_n(et,j),R):L||lt(K,et,W,null,m,U,_n(et,j),R,!1),Z>0){if(Z&16)N(W,k,D,m,j);else if(Z&2&&k.class!==D.class&&i(W,"class",null,D.class,j),Z&4&&i(W,"style",k.style,D.style,j),Z&8){const X=et.dynamicProps;for(let J=0;J<X.length;J++){const at=X[J],vt=k[at],Ct=D[at];(Ct!==vt||at==="value")&&i(W,at,vt,Ct,j,m)}}Z&1&&K.children!==et.children&&y(W,et.children)}else!L&&q==null&&N(W,k,D,m,j);((M=D.onVnodeUpdated)||g)&&Te(()=>{M&&$e(M,m,et,K),g&&mr(et,K,m,"updated")},U)},T=(K,et,m,U,j,R,L)=>{for(let W=0;W<et.length;W++){const Z=K[W],q=et[W],g=Z.el&&(Z.type===Ee||!ti(Z,q)||Z.shapeFlag&198)?_(Z.el):m;s(Z,q,g,null,U,j,R,L,!0)}},N=(K,et,m,U,j)=>{if(et!==m){if(et!==qt)for(const R in et)!Br(R)&&!(R in m)&&i(K,R,et[R],null,j,U);for(const R in m){if(Br(R))continue;const L=m[R],W=et[R];L!==W&&R!=="value"&&i(K,R,W,L,j,U)}"value"in m&&i(K,"value",et.value,m.value,j)}},A=(K,et,m,U,j,R,L,W,Z)=>{const q=et.el=K?K.el:u(""),g=et.anchor=K?K.anchor:u("");let{patchFlag:k,dynamicChildren:D,slotScopeIds:M}=et;M&&(W=W?W.concat(M):M),K==null?(o(q,m,U),o(g,m,U),I(et.children||[],m,g,j,R,L,W,Z)):k>0&&k&64&&D&&K.dynamicChildren&&K.dynamicChildren.length===D.length?(T(K.dynamicChildren,D,m,j,R,L,W),(et.key!=null||j&&et===j.subTree)&&ho(K,et,!0)):lt(K,et,m,g,j,R,L,W,Z)},B=(K,et,m,U,j,R,L,W,Z)=>{et.slotScopeIds=W,K==null?et.shapeFlag&512?j.ctx.activate(et,m,U,L,Z):O(et,m,U,j,R,L,Z):H(K,et,Z)},O=(K,et,m,U,j,R,L)=>{const W=K.component=fc(K,U,j);if($s(K)&&(W.ctx.renderer=Dt),dc(W,!1,L),W.asyncDep){if(j&&j.registerDep(W,nt,L),!K.el){const Z=W.subTree=ye(lr);d(null,Z,et,m),K.placeholder=Z.el}}else nt(W,K,et,m,j,R,L)},H=(K,et,m)=>{const U=et.component=K.component;if(ql(K,et,m))if(U.asyncDep&&!U.asyncResolved){Y(U,et,m);return}else U.next=et,U.update();else et.el=K.el,U.vnode=et},nt=(K,et,m,U,j,R,L)=>{const W=()=>{if(K.isMounted){let{next:k,bu:D,u:M,parent:X,vnode:J}=K;{const Lt=uo(K);if(Lt){k&&(k.el=J.el,Y(K,k,L)),Lt.asyncDep.then(()=>{K.isUnmounted||W()});return}}let at=k,vt;wr(K,!1),k?(k.el=J.el,Y(K,k,L)):k=J,D&&ci(D),(vt=k.props&&k.props.onVnodeBeforeUpdate)&&$e(vt,X,k,J),wr(K,!0);const Ct=Qs(K),It=K.subTree;K.subTree=Ct,s(It,Ct,_(It.el),kt(It),K,j,R),k.el=Ct.el,at===null&&Kl(K,Ct.el),M&&Te(M,j),(vt=k.props&&k.props.onVnodeUpdated)&&Te(()=>$e(vt,X,k,J),j)}else{let k;const{el:D,props:M}=et,{bm:X,m:J,parent:at,root:vt,type:Ct}=K,It=Xr(et);wr(K,!1),X&&ci(X),!It&&(k=M&&M.onVnodeBeforeMount)&&$e(k,at,et),wr(K,!0);{vt.ce&&vt.ce._def.shadowRoot!==!1&&vt.ce._injectChildStyle(Ct);const Lt=K.subTree=Qs(K);s(null,Lt,m,U,K,j,R),et.el=Lt.el}if(J&&Te(J,j),!It&&(k=M&&M.onVnodeMounted)){const Lt=et;Te(()=>$e(k,at,Lt),j)}(et.shapeFlag&256||at&&Xr(at.vnode)&&at.vnode.shapeFlag&256)&&K.a&&Te(K.a,j),K.isMounted=!0,et=m=U=null}};K.scope.on();const Z=K.effect=new ds(W);K.scope.off();const q=K.update=Z.run.bind(Z),g=K.job=Z.runIfDirty.bind(Z);g.i=K,g.id=K.uid,Z.scheduler=()=>fn(g),wr(K,!0),q()},Y=(K,et,m)=>{et.component=K;const U=K.vnode.props;K.vnode=et,K.next=null,Xl(K,et.props,U,m),Ql(K,et.children,m),Be(),Ms(K),je()},lt=(K,et,m,U,j,R,L,W,Z=!1)=>{const q=K&&K.children,g=K?K.shapeFlag:0,k=et.children,{patchFlag:D,shapeFlag:M}=et;if(D>0){if(D&128){ut(q,k,m,U,j,R,L,W,Z);return}else if(D&256){rt(q,k,m,U,j,R,L,W,Z);return}}M&8?(g&16&&Et(q,j,R),k!==q&&y(m,k)):g&16?M&16?ut(q,k,m,U,j,R,L,W,Z):Et(q,j,R,!0):(g&8&&y(m,""),M&16&&I(k,m,U,j,R,L,W,Z))},rt=(K,et,m,U,j,R,L,W,Z)=>{K=K||ke,et=et||ke;const q=K.length,g=et.length,k=Math.min(q,g);let D;for(D=0;D<k;D++){const M=et[D]=Z?cr(et[D]):We(et[D]);s(K[D],M,m,null,j,R,L,W,Z)}q>g?Et(K,j,R,!0,!1,k):I(et,m,U,j,R,L,W,Z,k)},ut=(K,et,m,U,j,R,L,W,Z)=>{let q=0;const g=et.length;let k=K.length-1,D=g-1;for(;q<=k&&q<=D;){const M=K[q],X=et[q]=Z?cr(et[q]):We(et[q]);if(ti(M,X))s(M,X,m,null,j,R,L,W,Z);else break;q++}for(;q<=k&&q<=D;){const M=K[k],X=et[D]=Z?cr(et[D]):We(et[D]);if(ti(M,X))s(M,X,m,null,j,R,L,W,Z);else break;k--,D--}if(q>k){if(q<=D){const M=D+1,X=M<g?et[M].el:U;for(;q<=D;)s(null,et[q]=Z?cr(et[q]):We(et[q]),m,X,j,R,L,W,Z),q++}}else if(q>D)for(;q<=k;)it(K[q],j,R,!0),q++;else{const M=q,X=q,J=new Map;for(q=X;q<=D;q++){const Mt=et[q]=Z?cr(et[q]):We(et[q]);Mt.key!=null&&J.set(Mt.key,q)}let at,vt=0;const Ct=D-X+1;let It=!1,Lt=0;const At=new Array(Ct);for(q=0;q<Ct;q++)At[q]=0;for(q=M;q<=k;q++){const Mt=K[q];if(vt>=Ct){it(Mt,j,R,!0);continue}let z;if(Mt.key!=null)z=J.get(Mt.key);else for(at=X;at<=D;at++)if(At[at-X]===0&&ti(Mt,et[at])){z=at;break}z===void 0?it(Mt,j,R,!0):(At[z-X]=q+1,z>=Lt?Lt=z:It=!0,s(Mt,et[z],m,null,j,R,L,W,Z),vt++)}const jt=It?ic(At):ke;for(at=jt.length-1,q=Ct-1;q>=0;q--){const Mt=X+q,z=et[Mt],$=et[Mt+1],tt=Mt+1<g?$.el||po($):U;At[q]===0?s(null,z,m,tt,j,R,L,W,Z):It&&(at<0||q!==jt[at]?G(z,m,tt,2):at--)}}},G=(K,et,m,U,j=null)=>{const{el:R,type:L,transition:W,children:Z,shapeFlag:q}=K;if(q&6){G(K.component.subTree,et,m,U);return}if(q&128){K.suspense.move(et,m,U);return}if(q&64){L.move(K,et,m,Dt);return}if(L===Ee){o(R,et,m);for(let k=0;k<Z.length;k++)G(Z[k],et,m,U);o(K.anchor,et,m);return}if(L===Ri){p(K,et,m);return}if(U!==2&&q&1&&W)if(U===0)W.beforeEnter(R),o(R,et,m),Te(()=>W.enter(R),j);else{const{leave:k,delayLeave:D,afterLeave:M}=W,X=()=>{K.ctx.isUnmounted?n(R):o(R,et,m)},J=()=>{R._isLeaving&&R[yl](!0),k(R,()=>{X(),M&&M()})};D?D(R,X,J):J()}else o(R,et,m)},it=(K,et,m,U=!1,j=!1)=>{const{type:R,props:L,ref:W,children:Z,dynamicChildren:q,shapeFlag:g,patchFlag:k,dirs:D,cacheIndex:M}=K;if(k===-2&&(j=!1),W!=null&&(Be(),Yr(W,null,m,K,!0),je()),M!=null&&(et.renderCache[M]=void 0),g&256){et.ctx.deactivate(K);return}const X=g&1&&D,J=!Xr(K);let at;if(J&&(at=L&&L.onVnodeBeforeUnmount)&&$e(at,et,K),g&6)ft(K.component,m,U);else{if(g&128){K.suspense.unmount(m,U);return}X&&mr(K,null,et,"beforeUnmount"),g&64?K.type.remove(K,et,m,Dt,U):q&&!q.hasOnce&&(R!==Ee||k>0&&k&64)?Et(q,et,m,!1,!0):(R===Ee&&k&384||!j&&g&16)&&Et(Z,et,m),U&&gt(K)}(J&&(at=L&&L.onVnodeUnmounted)||X)&&Te(()=>{at&&$e(at,et,K),X&&mr(K,null,et,"unmounted")},m)},gt=K=>{const{type:et,el:m,anchor:U,transition:j}=K;if(et===Ee){pt(m,U);return}if(et===Ri){x(K);return}const R=()=>{n(m),j&&!j.persisted&&j.afterLeave&&j.afterLeave()};if(K.shapeFlag&1&&j&&!j.persisted){const{leave:L,delayLeave:W}=j,Z=()=>L(m,R);W?W(K.el,R,Z):Z()}else R()},pt=(K,et)=>{let m;for(;K!==et;)m=a(K),n(K),K=m;n(et)},ft=(K,et,m)=>{const{bum:U,scope:j,job:R,subTree:L,um:W,m:Z,a:q}=K;fo(Z),fo(q),U&&ci(U),j.stop(),R&&(R.flags|=8,it(L,K,et,m)),W&&Te(W,et),Te(()=>{K.isUnmounted=!0},et)},Et=(K,et,m,U=!1,j=!1,R=0)=>{for(let L=R;L<K.length;L++)it(K[L],et,m,U,j)},kt=K=>{if(K.shapeFlag&6)return kt(K.component.subTree);if(K.shapeFlag&128)return K.suspense.next();const et=a(K.anchor||K.el),m=et&&et[bl];return m?a(m):et};let St=!1;const Rt=(K,et,m)=>{let U;K==null?et._vnode&&(it(et._vnode,null,null,!0),U=et._vnode.component):s(et._vnode||null,K,et,null,null,null,m),et._vnode=K,St||(St=!0,Ms(U),zs(),St=!1)},Dt={p:s,um:it,m:G,r:gt,mt:O,mc:I,pc:lt,pbc:T,n:kt,o:t};return{render:Rt,hydrate:void 0,createApp:Ul(Rt)}}function _n({type:t,props:e},r){return r==="svg"&&t==="foreignObject"||r==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:r}function wr({effect:t,job:e},r){r?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function rc(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function ho(t,e,r=!1){const o=t.children,n=e.children;if(Pt(o)&&Pt(n))for(let i=0;i<o.length;i++){const h=o[i];let u=n[i];u.shapeFlag&1&&!u.dynamicChildren&&((u.patchFlag<=0||u.patchFlag===32)&&(u=n[i]=cr(n[i]),u.el=h.el),!r&&u.patchFlag!==-2&&ho(h,u)),u.type===Ii&&(u.patchFlag!==-1?u.el=h.el:u.__elIndex=i+(t.type===Ee?1:0)),u.type===lr&&!u.el&&(u.el=h.el)}}function ic(t){const e=t.slice(),r=[0];let o,n,i,h,u;const l=t.length;for(o=0;o<l;o++){const C=t[o];if(C!==0){if(n=r[r.length-1],t[n]<C){e[o]=n,r.push(o);continue}for(i=0,h=r.length-1;i<h;)u=i+h>>1,t[r[u]]<C?i=u+1:h=u;C<t[r[i]]&&(i>0&&(e[o]=r[i-1]),r[i]=o)}}for(i=r.length,h=r[i-1];i-- >0;)r[i]=h,h=e[h];return r}function uo(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:uo(e)}function fo(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}function po(t){if(t.placeholder)return t.placeholder;const e=t.component;return e?po(e.subTree):null}const go=t=>t.__isSuspense;function nc(t,e){e&&e.pendingBranch?Pt(t)?e.effects.push(...t):e.effects.push(t):cl(t)}const Ee=Symbol.for("v-fgt"),Ii=Symbol.for("v-txt"),lr=Symbol.for("v-cmt"),Ri=Symbol.for("v-stc"),Jr=[];let Oe=null;function Bt(t=!1){Jr.push(Oe=t?null:[])}function sc(){Jr.pop(),Oe=Jr[Jr.length-1]||null}let Qr=1;function mo(t,e=!1){Qr+=t,t<0&&Oe&&e&&(Oe.hasOnce=!0)}function vo(t){return t.dynamicChildren=Qr>0?Oe||ke:null,sc(),Qr>0&&Oe&&Oe.push(t),t}function Ft(t,e,r,o,n,i){return vo(ht(t,e,r,o,n,i,!0))}function bo(t,e,r,o,n){return vo(ye(t,e,r,o,n,!0))}function wo(t){return t?t.__v_isVNode===!0:!1}function ti(t,e){return t.type===e.type&&t.key===e.key}const yo=({key:t})=>t!=null?t:null,Ni=({ref:t,ref_key:e,ref_for:r})=>(typeof t=="number"&&(t=""+t),t!=null?oe(t)||ie(t)||zt(t)?{i:Ie,r:t,k:e,f:!!r}:t:null);function ht(t,e=null,r=null,o=0,n=null,i=t===Ee?0:1,h=!1,u=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&yo(e),ref:e&&Ni(e),scopeId:js,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:o,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:Ie};return u?(En(l,r),i&128&&t.normalize(l)):r&&(l.shapeFlag|=oe(r)?8:16),Qr>0&&!h&&Oe&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Oe.push(l),l}const ye=oc;function oc(t,e=null,r=null,o=0,n=null,i=!1){if((!t||t===Nl)&&(t=lr),wo(t)){const u=Nr(t,e,!0);return r&&En(u,r),Qr>0&&!i&&Oe&&(u.shapeFlag&6?Oe[Oe.indexOf(t)]=u:Oe.push(u)),u.patchFlag=-2,u}if(yc(t)&&(t=t.__vccOpts),e){e=ac(e);let{class:u,style:l}=e;u&&!oe(u)&&(e.class=re(u)),ee(l)&&(bi(l)&&!Pt(l)&&(l=fe({},l)),e.style=nr(l))}const h=oe(t)?1:go(t)?128:wl(t)?64:ee(t)?4:zt(t)?2:0;return ht(t,e,r,o,n,h,i,!0)}function ac(t){return t?bi(t)||io(t)?fe({},t):t:null}function Nr(t,e,r=!1,o=!1){const{props:n,ref:i,patchFlag:h,children:u,transition:l}=t,C=e?cc(n||{},e):n,y={__v_isVNode:!0,__v_skip:!0,type:t.type,props:C,key:C&&yo(C),ref:e&&e.ref?r&&i?Pt(i)?i.concat(Ni(e)):[i,Ni(e)]:Ni(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:u,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ee?h===-1?16:h|16:h,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Nr(t.ssContent),ssFallback:t.ssFallback&&Nr(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&o&&pn(y,l.clone(y)),y}function xo(t=" ",e=0){return ye(Ii,null,t,e)}function lc(t,e){const r=ye(Ri,null,t);return r.staticCount=e,r}function Dr(t="",e=!1){return e?(Bt(),bo(lr,null,t)):ye(lr,null,t)}function We(t){return t==null||typeof t=="boolean"?ye(lr):Pt(t)?ye(Ee,null,t.slice()):wo(t)?cr(t):ye(Ii,null,String(t))}function cr(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Nr(t)}function En(t,e){let r=0;const{shapeFlag:o}=t;if(e==null)e=null;else if(Pt(e))r=16;else if(typeof e=="object")if(o&65){const n=e.default;n&&(n._c&&(n._d=!1),En(t,n()),n._c&&(n._d=!0));return}else{r=32;const n=e._;!n&&!io(e)?e._ctx=Ie:n===3&&Ie&&(Ie.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else zt(e)?(e={default:e,_ctx:Ie},r=32):(e=String(e),o&64?(r=16,e=[xo(e)]):r=8);t.children=e,t.shapeFlag|=r}function cc(...t){const e={};for(let r=0;r<t.length;r++){const o=t[r];for(const n in o)if(n==="class")e.class!==o.class&&(e.class=re([e.class,o.class]));else if(n==="style")e.style=nr([e.style,o.style]);else if(de(n)){const i=e[n],h=o[n];h&&i!==h&&!(Pt(i)&&i.includes(h))&&(e[n]=i?[].concat(i,h):h)}else n!==""&&(e[n]=o[n])}return e}function $e(t,e,r,o=null){Ue(t,e,7,[r,o])}const hc=Gs();let uc=0;function fc(t,e,r){const o=t.type,n=(e?e.appContext:t.appContext)||hc,i={uid:uc++,vnode:t,type:o,parent:e,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new hs(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(n.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:so(o,n),emitsOptions:Js(o,n),emit:null,emitted:null,propsDefaults:qt,inheritAttrs:o.inheritAttrs,ctx:qt,data:qt,props:qt,attrs:qt,slots:qt,refs:qt,setupState:qt,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=Wl.bind(null,i),t.ce&&t.ce(i),i}let xe=null;const kn=()=>xe||Ie;let Di,Sn;{const t=hi(),e=(r,o)=>{let n;return(n=t[r])||(n=t[r]=[]),n.push(o),i=>{n.length>1?n.forEach(h=>h(i)):n[0](i)}};Di=e("__VUE_INSTANCE_SETTERS__",r=>xe=r),Sn=e("__VUE_SSR_SETTERS__",r=>ri=r)}const ei=t=>{const e=xe;return Di(t),t.scope.on(),()=>{t.scope.off(),Di(e)}},_o=()=>{xe&&xe.scope.off(),Di(null)};function Eo(t){return t.vnode.shapeFlag&4}let ri=!1;function dc(t,e=!1,r=!1){e&&Sn(e);const{props:o,children:n}=t.vnode,i=Eo(t);Yl(t,o,i,e),Jl(t,n,r||e);const h=i?pc(t,e):void 0;return e&&Sn(!1),h}function pc(t,e){const r=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Dl);const{setup:o}=r;if(o){Be();const n=t.setupContext=o.length>1?mc(t):null,i=ei(t),h=Or(o,t,0,[t.props,n]),u=es(h);if(je(),i(),(u||t.sp)&&!Xr(t)&&Fs(t),u){if(h.then(_o,_o),e)return h.then(l=>{ko(t,l)}).catch(l=>{xi(l,t,0)});t.asyncDep=h}else ko(t,h)}else So(t)}function ko(t,e,r){zt(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:ee(e)&&(t.setupState=Ns(e)),So(t)}function So(t,e,r){const o=t.type;t.render||(t.render=o.render||ue);{const n=ei(t);Be();try{Ll(t)}finally{je(),n()}}}const gc={get(t,e){return ve(t,"get",""),t[e]}};function mc(t){const e=r=>{t.exposed=r||{}};return{attrs:new Proxy(t.attrs,gc),slots:t.slots,emit:t.emit,expose:e}}function Li(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Ns(hn(t.exposed)),{get(e,r){if(r in e)return e[r];if(r in Zr)return Zr[r](t)},has(e,r){return r in e||r in Zr}})):t.proxy}const vc=/(?:^|[-_])\w/g,bc=t=>t.replace(vc,e=>e.toUpperCase()).replace(/[-_]/g,"");function wc(t,e=!0){return zt(t)?t.displayName||t.name:t.name||e&&t.__name}function Co(t,e,r=!1){let o=wc(e);if(!o&&e.__file){const n=e.__file.match(/([^/\\]+)\.\w+$/);n&&(o=n[1])}if(!o&&t){const n=i=>{for(const h in i)if(i[h]===e)return h};o=n(t.components)||t.parent&&n(t.parent.type.components)||n(t.appContext.components)}return o?bc(o):r?"App":"Anonymous"}function yc(t){return zt(t)&&"__vccOpts"in t}const ze=(t,e)=>tl(t,e,ri),xc="3.5.26";/**
* @vue/runtime-dom v3.5.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Cn;const To=typeof window!="undefined"&&window.trustedTypes;if(To)try{Cn=To.createPolicy("vue",{createHTML:t=>t})}catch(t){}const Oo=Cn?t=>Cn.createHTML(t):t=>t,_c="http://www.w3.org/2000/svg",Ec="http://www.w3.org/1998/Math/MathML",Je=typeof document!="undefined"?document:null,Ao=Je&&Je.createElement("template"),kc={insert:(t,e,r)=>{e.insertBefore(t,r||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,r,o)=>{const n=e==="svg"?Je.createElementNS(_c,t):e==="mathml"?Je.createElementNS(Ec,t):r?Je.createElement(t,{is:r}):Je.createElement(t);return t==="select"&&o&&o.multiple!=null&&n.setAttribute("multiple",o.multiple),n},createText:t=>Je.createTextNode(t),createComment:t=>Je.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Je.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,r,o,n,i){const h=r?r.previousSibling:e.lastChild;if(n&&(n===i||n.nextSibling))for(;e.insertBefore(n.cloneNode(!0),r),!(n===i||!(n=n.nextSibling)););else{Ao.innerHTML=Oo(o==="svg"?`<svg>${t}</svg>`:o==="mathml"?`<math>${t}</math>`:t);const u=Ao.content;if(o==="svg"||o==="mathml"){const l=u.firstChild;for(;l.firstChild;)u.appendChild(l.firstChild);u.removeChild(l)}e.insertBefore(u,r)}return[h?h.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}},Sc=Symbol("_vtc");function Cc(t,e,r){const o=t[Sc];o&&(e=(e?[e,...o]:[...o]).join(" ")),e==null?t.removeAttribute("class"):r?t.setAttribute("class",e):t.className=e}const Io=Symbol("_vod"),Tc=Symbol("_vsh"),Oc=Symbol(""),Ac=/(?:^|;)\s*display\s*:/;function Ic(t,e,r){const o=t.style,n=oe(r);let i=!1;if(r&&!n){if(e)if(oe(e))for(const h of e.split(";")){const u=h.slice(0,h.indexOf(":")).trim();r[u]==null&&Pi(o,u,"")}else for(const h in e)r[h]==null&&Pi(o,h,"");for(const h in r)h==="display"&&(i=!0),Pi(o,h,r[h])}else if(n){if(e!==r){const h=o[Oc];h&&(r+=";"+h),o.cssText=r,i=Ac.test(r)}}else e&&t.removeAttribute("style");Io in t&&(t[Io]=i?o.display:"",t[Tc]&&(o.display="none"))}const Ro=/\s*!important$/;function Pi(t,e,r){if(Pt(r))r.forEach(o=>Pi(t,e,o));else if(r==null&&(r=""),e.startsWith("--"))t.setProperty(e,r);else{const o=Rc(t,e);Ro.test(r)?t.setProperty(dr(o),r.replace(Ro,""),"important"):t[o]=r}}const No=["Webkit","Moz","ms"],Tn={};function Rc(t,e){const r=Tn[e];if(r)return r;let o=rr(e);if(o!=="filter"&&o in t)return Tn[e]=o;o=ns(o);for(let n=0;n<No.length;n++){const i=No[n]+o;if(i in t)return Tn[e]=i}return e}const Do="http://www.w3.org/1999/xlink";function Lo(t,e,r,o,n,i=Ca(e)){o&&e.startsWith("xlink:")?r==null?t.removeAttributeNS(Do,e.slice(6,e.length)):t.setAttributeNS(Do,e,r):r==null||i&&!as(r)?t.removeAttribute(e):t.setAttribute(e,i?"":er(r)?String(r):r)}function Po(t,e,r,o,n){if(e==="innerHTML"||e==="textContent"){r!=null&&(t[e]=e==="innerHTML"?Oo(r):r);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const u=i==="OPTION"?t.getAttribute("value")||"":t.value,l=r==null?t.type==="checkbox"?"on":"":String(r);(u!==l||!("_value"in t))&&(t.value=l),r==null&&t.removeAttribute(e),t._value=r;return}let h=!1;if(r===""||r==null){const u=typeof t[e];u==="boolean"?r=as(r):r==null&&u==="string"?(r="",h=!0):u==="number"&&(r=0,h=!0)}try{t[e]=r}catch(u){}h&&t.removeAttribute(n||e)}function Lr(t,e,r,o){t.addEventListener(e,r,o)}function Nc(t,e,r,o){t.removeEventListener(e,r,o)}const Mo=Symbol("_vei");function Dc(t,e,r,o,n=null){const i=t[Mo]||(t[Mo]={}),h=i[e];if(o&&h)h.value=o;else{const[u,l]=Lc(e);if(o){const C=i[e]=zc(o,n);Lr(t,u,C,l)}else h&&(Nc(t,u,h,l),i[e]=void 0)}}const zo=/(?:Once|Passive|Capture)$/;function Lc(t){let e;if(zo.test(t)){e={};let o;for(;o=t.match(zo);)t=t.slice(0,t.length-o[0].length),e[o[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):dr(t.slice(2)),e]}let On=0;const Pc=Promise.resolve(),Mc=()=>On||(Pc.then(()=>On=0),On=Date.now());function zc(t,e){const r=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=r.attached)return;Ue(Bc(o,r.value),e,5,[o])};return r.value=t,r.attached=Mc(),r}function Bc(t,e){if(Pt(e)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},e.map(o=>n=>!n._stopped&&o&&o(n))}else return e}const Bo=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,jc=(t,e,r,o,n,i)=>{const h=n==="svg";e==="class"?Cc(t,o,h):e==="style"?Ic(t,r,o):de(e)?Se(e)||Dc(t,e,r,o,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Uc(t,e,o,h))?(Po(t,e,o),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Lo(t,e,o,h,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!oe(o))?Po(t,rr(e),o,i,e):(e==="true-value"?t._trueValue=o:e==="false-value"&&(t._falseValue=o),Lo(t,e,o,h))};function Uc(t,e,r,o){if(o)return!!(e==="innerHTML"||e==="textContent"||e in t&&Bo(e)&&zt(r));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="sandbox"&&t.tagName==="IFRAME"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const n=t.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return Bo(e)&&oe(r)?!1:e in t}const jo=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Pt(e)?r=>ci(e,r):e};function Fc(t){t.target.composing=!0}function Uo(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const An=Symbol("_assign");function Fo(t,e,r){return e&&(t=t.trim()),r&&(t=Zi(t)),t}const Wc={created(t,{modifiers:{lazy:e,trim:r,number:o}},n){t[An]=jo(n);const i=o||n.props&&n.props.type==="number";Lr(t,e?"change":"input",h=>{h.target.composing||t[An](Fo(t.value,r,i))}),(r||i)&&Lr(t,"change",()=>{t.value=Fo(t.value,r,i)}),e||(Lr(t,"compositionstart",Fc),Lr(t,"compositionend",Uo),Lr(t,"change",Uo))},mounted(t,{value:e}){t.value=e==null?"":e},beforeUpdate(t,{value:e,oldValue:r,modifiers:{lazy:o,trim:n,number:i}},h){if(t[An]=jo(h),t.composing)return;const u=(i||t.type==="number")&&!/^0\d/.test(t.value)?Zi(t.value):t.value,l=e==null?"":e;u!==l&&(document.activeElement===t&&t.type!=="range"&&(o&&e===r||n&&t.value.trim()===l)||(t.value=l))}},$c=["ctrl","shift","alt","meta"],Hc={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>$c.some(r=>t[`${r}Key`]&&!e.includes(r))},In=(t,e)=>{const r=t._withMods||(t._withMods={}),o=e.join(".");return r[o]||(r[o]=(n,...i)=>{for(let h=0;h<e.length;h++){const u=Hc[e[h]];if(u&&u(n,e))return}return t(n,...i)})},Vc=fe({patchProp:jc},kc);let Wo;function qc(){return Wo||(Wo=tc(Vc))}const Kc=(...t)=>{const e=qc().createApp(...t),{mount:r}=e;return e.mount=o=>{const n=Xc(o);if(!n)return;const i=e._component;!zt(i)&&!i.render&&!i.template&&(i.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const h=r(n,!1,Yc(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),h},e};function Yc(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Xc(t){return oe(t)?document.querySelector(t):t}/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let $o;const Mi=t=>$o=t,Ho=Symbol();function Rn(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var ii;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(ii||(ii={}));function Zc(){const t=us(!0),e=t.run(()=>Yt({}));let r=[],o=[];const n=hn({install(i){Mi(n),n._a=i,i.provide(Ho,n),i.config.globalProperties.$pinia=n,o.forEach(h=>r.push(h)),o=[]},use(i){return this._a?r.push(i):o.push(i),this},_p:r,_a:null,_e:t,_s:new Map,state:e});return n}const Vo=()=>{};function qo(t,e,r,o=Vo){t.push(e);const n=()=>{const i=t.indexOf(e);i>-1&&(t.splice(i,1),o())};return!r&&Ji()&&fs(n),n}function Pr(t,...e){t.slice().forEach(r=>{r(...e)})}const Gc=t=>t(),Ko=Symbol(),Nn=Symbol();function Dn(t,e){t instanceof Map&&e instanceof Map?e.forEach((r,o)=>t.set(o,r)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const r in e){if(!e.hasOwnProperty(r))continue;const o=e[r],n=t[r];Rn(n)&&Rn(o)&&t.hasOwnProperty(r)&&!ie(o)&&!Ye(o)?t[r]=Dn(n,o):t[r]=o}return t}const Jc=Symbol();function Qc(t){return!Rn(t)||!t.hasOwnProperty(Jc)}const{assign:hr}=Object;function th(t){return!!(ie(t)&&t.effect)}function eh(t,e,r,o){const{state:n,actions:i,getters:h}=e,u=r.state.value[t];let l;function C(){u||(r.state.value[t]=n?n():{});const y=Za(r.state.value[t]);return hr(y,i,Object.keys(h||{}).reduce((_,a)=>(_[a]=hn(ze(()=>{Mi(r);const c=r._s.get(t);return h[a].call(c,c)})),_),{}))}return l=Yo(t,C,e,r,o,!0),l}function Yo(t,e,r={},o,n,i){let h;const u=hr({actions:{}},r),l={deep:!0};let C,y,_=[],a=[],c;const w=o.state.value[t];!i&&!w&&(o.state.value[t]={}),Yt({});let s;function v(I){let P;C=y=!1,typeof I=="function"?(I(o.state.value[t]),P={type:ii.patchFunction,storeId:t,events:c}):(Dn(o.state.value[t],I),P={type:ii.patchObject,payload:I,storeId:t,events:c});const T=s=Symbol();ar().then(()=>{s===T&&(C=!0)}),y=!0,Pr(_,P,o.state.value[t])}const d=i?function(){const{state:P}=r,T=P?P():{};this.$patch(N=>{hr(N,T)})}:Vo;function b(){h.stop(),_=[],a=[],o._s.delete(t)}const p=(I,P="")=>{if(Ko in I)return I[Nn]=P,I;const T=function(){Mi(o);const N=Array.from(arguments),A=[],B=[];function O(Y){A.push(Y)}function H(Y){B.push(Y)}Pr(a,{args:N,name:T[Nn],store:E,after:O,onError:H});let nt;try{nt=I.apply(this&&this.$id===t?this:E,N)}catch(Y){throw Pr(B,Y),Y}return nt instanceof Promise?nt.then(Y=>(Pr(A,Y),Y)).catch(Y=>(Pr(B,Y),Promise.reject(Y))):(Pr(A,nt),nt)};return T[Ko]=!0,T[Nn]=P,T},x={_p:o,$id:t,$onAction:qo.bind(null,a),$patch:v,$reset:d,$subscribe(I,P={}){const T=qo(_,I,P.detached,()=>N()),N=h.run(()=>Me(()=>o.state.value[t],A=>{(P.flush==="sync"?y:C)&&I({storeId:t,type:ii.direct,events:c},A)},hr({},l,P)));return T},$dispose:b},E=Hr(x);o._s.set(t,E);const S=(o._a&&o._a.runWithContext||Gc)(()=>o._e.run(()=>(h=us()).run(()=>e({action:p}))));for(const I in S){const P=S[I];if(ie(P)&&!th(P)||Ye(P))i||(w&&Qc(P)&&(ie(P)?P.value=w[I]:Dn(P,w[I])),o.state.value[t][I]=P);else if(typeof P=="function"){const T=p(P,I);S[I]=T,u.actions[I]=P}}return hr(E,S),hr(Kt(E),S),Object.defineProperty(E,"$state",{get:()=>o.state.value[t],set:I=>{v(P=>{hr(P,I)})}}),o._p.forEach(I=>{hr(E,h.run(()=>I({store:E,app:o._a,pinia:o,options:u})))}),w&&i&&r.hydrate&&r.hydrate(E.$state,w),C=!0,y=!0,E}/*! #__NO_SIDE_EFFECTS__ */function Ln(t,e,r){let o,n;const i=typeof e=="function";typeof t=="string"?(o=t,n=i?r:e):(n=t,o=t.id);function h(u,l){const C=dl();return u=u||(C?Kr(Ho,null):null),u&&Mi(u),u=$o,u._s.has(o)||(i?Yo(o,e,n,u):eh(o,n,u)),u._s.get(o)}return h.$id=o,h}const cd="modulepreload",hd=function(t,e){return new URL(t,e).href},ud={},Pn=function(e,r,o){let n=Promise.resolve();function i(h){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=h,window.dispatchEvent(u),!u.defaultPrevented)throw h}return n.then(h=>{for(const u of h||[])u.status==="rejected"&&i(u.reason);return e().catch(i)})},Mn=(t,e)=>e.some(r=>t instanceof r);let Xo,Zo;function rh(){return Xo||(Xo=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ih(){return Zo||(Zo=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zn=new WeakMap,Bn=new WeakMap,zi=new WeakMap;function nh(t){const e=new Promise((r,o)=>{const n=()=>{t.removeEventListener("success",i),t.removeEventListener("error",h)},i=()=>{r(yr(t.result)),n()},h=()=>{o(t.error),n()};t.addEventListener("success",i),t.addEventListener("error",h)});return zi.set(e,t),e}function sh(t){if(zn.has(t))return;const e=new Promise((r,o)=>{const n=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",h),t.removeEventListener("abort",h)},i=()=>{r(),n()},h=()=>{o(t.error||new DOMException("AbortError","AbortError")),n()};t.addEventListener("complete",i),t.addEventListener("error",h),t.addEventListener("abort",h)});zn.set(t,e)}let jn={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return zn.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return yr(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Go(t){jn=t(jn)}function oh(t){return ih().includes(t)?function(...e){return t.apply(Un(this),e),yr(this.request)}:function(...e){return yr(t.apply(Un(this),e))}}function ah(t){return typeof t=="function"?oh(t):(t instanceof IDBTransaction&&sh(t),Mn(t,rh())?new Proxy(t,jn):t)}function yr(t){if(t instanceof IDBRequest)return nh(t);if(Bn.has(t))return Bn.get(t);const e=ah(t);return e!==t&&(Bn.set(t,e),zi.set(e,t)),e}const Un=t=>zi.get(t);function lh(t,e,{blocked:r,upgrade:o,blocking:n,terminated:i}={}){const h=indexedDB.open(t,e),u=yr(h);return o&&h.addEventListener("upgradeneeded",l=>{o(yr(h.result),l.oldVersion,l.newVersion,yr(h.transaction),l)}),r&&h.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),u.then(l=>{i&&l.addEventListener("close",()=>i()),n&&l.addEventListener("versionchange",C=>n(C.oldVersion,C.newVersion,C))}).catch(()=>{}),u}const ch=["get","getKey","getAll","getAllKeys","count"],hh=["put","add","delete","clear"],Fn=new Map;function Jo(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Fn.get(e))return Fn.get(e);const r=e.replace(/FromIndex$/,""),o=e!==r,n=hh.includes(r);if(!(r in(o?IDBIndex:IDBObjectStore).prototype)||!(n||ch.includes(r)))return;const i=function(h,...u){return Ut(this,null,function*(){const l=this.transaction(h,n?"readwrite":"readonly");let C=l.store;return o&&(C=C.index(u.shift())),(yield Promise.all([C[r](...u),n&&l.done]))[0]})};return Fn.set(e,i),i}Go(t=>zr(Ve({},t),{get:(e,r,o)=>Jo(e,r)||t.get(e,r,o),has:(e,r)=>!!Jo(e,r)||t.has(e,r)}));const uh=["continue","continuePrimaryKey","advance"],Qo={},Wn=new WeakMap,ta=new WeakMap,fh={get(t,e){if(!uh.includes(e))return t[e];let r=Qo[e];return r||(r=Qo[e]=function(...o){Wn.set(this,ta.get(this)[e](...o))}),r}};function dh(...t){return ba(this,null,function*(){let e=this;if(e instanceof IDBCursor||(e=yield new Ki(e.openCursor(...t))),!e)return;e=e;const r=new Proxy(e,fh);for(ta.set(r,e),zi.set(r,Un(e));e;)yield r,e=yield new Ki(Wn.get(r)||e.continue()),Wn.delete(r)})}function ea(t,e){return e===Symbol.asyncIterator&&Mn(t,[IDBIndex,IDBObjectStore,IDBCursor])||e==="iterate"&&Mn(t,[IDBIndex,IDBObjectStore])}Go(t=>zr(Ve({},t),{get(e,r,o){return ea(e,r)?dh:t.get(e,r,o)},has(e,r){return ea(e,r)||t.has(e,r)}}));const ph="epub-web-reader",gh=2,mh=10,Bi=Ln("library",()=>{const t=Yt([]),e=Yt(null),r=Yt(!1);function o(){return Ut(this,null,function*(){r.value||(e.value=yield lh(ph,gh,{upgrade(w){w.objectStoreNames.contains("books")||w.createObjectStore("books",{keyPath:"id"}).createIndex("addedAt","addedAt")}}),yield n(),r.value=!0)})}function n(){return Ut(this,null,function*(){if(!e.value)return;const w=yield e.value.getAll("books");t.value=w.sort((s,v)=>new Date(v.addedAt).getTime()-new Date(s.addedAt).getTime()).map(s=>s.metadata)})}function i(w,s,v){return Ut(this,null,function*(){if(!e.value)return;const d=yield e.value.get("books",w.id);d?yield e.value.put("books",zr(Ve({},d),{metadata:w,coverImage:v})):(yield a(),yield e.value.add("books",{id:w.id,metadata:w,epubBlob:s,coverImage:v,addedAt:new Date})),yield n()})}function h(w,s,v,d){return Ut(this,null,function*(){if(!e.value)return;const b=yield e.value.get("books",w);b&&(b.metadata=zr(Ve({},b.metadata),{progress:d,currentChapter:s,lastReadAt:new Date}),b.readingProgress={chapterIndex:s,scrollPosition:v,percentage:d,timestamp:new Date},yield e.value.put("books",b),yield n())})}function u(w){return Ut(this,null,function*(){if(!e.value)return null;const s=yield e.value.get("books",w);return(s==null?void 0:s.readingProgress)||null})}function l(w){return Ut(this,null,function*(){e.value&&(yield e.value.delete("books",w),yield n())})}function C(w){return Ut(this,null,function*(){if(!e.value)return null;const s=yield e.value.get("books",w);return(s==null?void 0:s.epubBlob)||null})}function y(w){return Ut(this,null,function*(){if(!e.value)return null;const s=yield e.value.get("books",w);return(s==null?void 0:s.coverImage)||null})}function _(w){return Ut(this,null,function*(){return C(w)})}function a(){return Ut(this,null,function*(){if(!e.value)return;if((yield e.value.count("books"))>=mh){const s=yield e.value.getAllFromIndex("books","addedAt");if(s.length>0){const v=s[0];yield e.value.delete("books",v.id)}}})}function c(){return Ut(this,null,function*(){e.value&&(yield e.value.clear("books"),t.value=[])})}return{books:t,isInitialized:r,init:o,cacheBook:i,removeBook:l,getBookBlob:C,getCoverImage:y,exportBook:_,clearLibrary:c,updateReadingProgress:h,getReadingProgress:u}}),xr=Ln("book",()=>{const t=Yt(null),e=Yt(0),r=Yt(0),o=Yt(!1),n=Yt(null),i=Yt(new Map),h=Yt(null),u=ze(()=>{var b;return(b=t.value)==null?void 0:b.metadata}),l=ze(()=>{var b;return((b=t.value)==null?void 0:b.chapters)||[]}),C=ze(()=>{var b;return((b=t.value)==null?void 0:b.toc)||[]}),y=ze(()=>{var b;return(b=t.value)==null?void 0:b.chapters[e.value]});function _(b,p=!0,x){return Ut(this,null,function*(){o.value=!0,n.value=null;try{const{epub:E}=yield Pn(()=>Ut(this,null,function*(){const{epub:T}=yield Promise.resolve().then(()=>Cf);return{epub:T}}),void 0,Vt&&Vt.tagName.toUpperCase()==="SCRIPT"&&Vt.src||new URL("bundle.js",document.baseURI).href),f=Bi(),S=yield E.loadEpub(b,x),I=yield f.getReadingProgress(S.metadata.id);I&&(S.metadata.progress=I.percentage,S.metadata.lastReadAt=new Date,S.metadata.currentChapter=I.chapterIndex),t.value=S,e.value=0,r.value=0;const P=i.value.get(S.metadata.id);if(P&&(e.value=P.chapterIndex),I&&(e.value=I.chapterIndex,r.value=I.scrollPosition),p){const T=new Blob([yield b.arrayBuffer()],{type:"application/epub+zip"});yield f.cacheBook(S.metadata,T,S.coverBlob)}}catch(E){throw n.value=E instanceof Error?E:new Error("Failed to load book"),E}finally{o.value=!1}})}function a(b){b>=0&&b<l.value.length&&(e.value=b)}function c(){e.value<l.value.length-1&&e.value++}function w(){e.value>0&&e.value--}function s(b){return Ut(this,null,function*(){i.value.set(b.bookId,b),t.value&&(t.value.metadata.progress=b.percentage,t.value.metadata.lastReadAt=new Date,t.value.metadata.currentChapter=b.chapterIndex,yield Bi().updateReadingProgress(b.bookId,b.chapterIndex,b.scrollPosition,b.percentage))})}function v(){t.value=null,e.value=0,n.value=null}function d(b){h.value=b}return{currentBook:t,currentChapter:e,currentScrollPosition:r,isLoading:o,error:n,metadata:u,chapters:l,toc:C,currentChapterData:y,searchHighlight:h,loadBook:_,setChapter:a,nextChapter:c,prevChapter:w,updateProgress:s,clearBook:v,setSearchHighlight:d}});function vh(t){return Ji()?(fs(t),!0):!1}function $n(t){return typeof t=="function"?t():Ot(t)}const bh=typeof window!="undefined"&&typeof document!="undefined";typeof WorkerGlobalScope!="undefined"&&globalThis instanceof WorkerGlobalScope;const wh=Object.prototype.toString,yh=t=>wh.call(t)==="[object Object]",xh=()=>{};function _h(t,e){function r(...o){return new Promise((n,i)=>{Promise.resolve(t(()=>e.apply(this,o),{fn:e,thisArg:this,args:o})).then(n).catch(i)})}return r}const ra=t=>t();function Eh(t=ra){const e=Yt(!0);function r(){e.value=!1}function o(){e.value=!0}const n=(...i)=>{e.value&&t(...i)};return{isActive:mi(e),pause:r,resume:o,eventFilter:n}}function kh(t){return kn()}function Sh(t,e,r={}){const i=r,{eventFilter:o=ra}=i,n=Qn(i,["eventFilter"]);return Me(t,_h(o,e),n)}function Ch(t,e,r={}){const y=r,{eventFilter:o}=y,n=Qn(y,["eventFilter"]),{eventFilter:i,pause:h,resume:u,isActive:l}=Eh(o);return{stop:Sh(t,e,zr(Ve({},n),{eventFilter:i})),pause:h,resume:u,isActive:l}}function Th(t,e=!0,r){kh()?Ci(t,r):e?t():ar(t)}function Oh(t){var e;const r=$n(t);return(e=r==null?void 0:r.$el)!=null?e:r}const Hn=bh?window:void 0;function ia(...t){let e,r,o,n;if(typeof t[0]=="string"||Array.isArray(t[0])?([r,o,n]=t,e=Hn):[e,r,o,n]=t,!e)return xh;Array.isArray(r)||(r=[r]),Array.isArray(o)||(o=[o]);const i=[],h=()=>{i.forEach(y=>y()),i.length=0},u=(y,_,a,c)=>(y.addEventListener(_,a,c),()=>y.removeEventListener(_,a,c)),l=Me(()=>[Oh(e),$n(n)],([y,_])=>{if(h(),!y)return;const a=yh(_)?Ve({},_):_;i.push(...r.flatMap(c=>o.map(w=>u(y,c,w,a))))},{immediate:!0,flush:"post"}),C=()=>{l(),h()};return vh(C),C}const ji=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},Ui="__vueuse_ssr_handlers__",Ah=Ih();function Ih(){return Ui in ji||(ji[Ui]=ji[Ui]||{}),ji[Ui]}function Rh(t,e){return Ah[t]||e}function Nh(t){return t==null?"any":t instanceof Set?"set":t instanceof Map?"map":t instanceof Date?"date":typeof t=="boolean"?"boolean":typeof t=="string"?"string":typeof t=="object"?"object":Number.isNaN(t)?"any":"number"}const Dh={boolean:{read:t=>t==="true",write:t=>String(t)},object:{read:t=>JSON.parse(t),write:t=>JSON.stringify(t)},number:{read:t=>Number.parseFloat(t),write:t=>String(t)},any:{read:t=>t,write:t=>String(t)},string:{read:t=>t,write:t=>String(t)},map:{read:t=>new Map(JSON.parse(t)),write:t=>JSON.stringify(Array.from(t.entries()))},set:{read:t=>new Set(JSON.parse(t)),write:t=>JSON.stringify(Array.from(t))},date:{read:t=>new Date(t),write:t=>t.toISOString()}},na="vueuse-storage";function Lh(t,e,r,o={}){var n;const{flush:i="pre",deep:h=!0,listenToStorageChanges:u=!0,writeDefaults:l=!0,mergeDefaults:C=!1,shallow:y,window:_=Hn,eventFilter:a,onError:c=T=>{console.error(T)},initOnMounted:w}=o,s=(y?Ka:Yt)(typeof e=="function"?e():e);if(!r)try{r=Rh("getDefaultStorage",()=>{var T;return(T=Hn)==null?void 0:T.localStorage})()}catch(T){c(T)}if(!r)return s;const v=$n(e),d=Nh(v),b=(n=o.serializer)!=null?n:Dh[d],{pause:p,resume:x}=Ch(s,()=>f(s.value),{flush:i,deep:h,eventFilter:a});_&&u&&Th(()=>{ia(_,"storage",I),ia(_,na,P),w&&I()}),w||I();function E(T,N){_&&_.dispatchEvent(new CustomEvent(na,{detail:{key:t,oldValue:T,newValue:N,storageArea:r}}))}function f(T){try{const N=r.getItem(t);if(T==null)E(N,null),r.removeItem(t);else{const A=b.write(T);N!==A&&(r.setItem(t,A),E(N,A))}}catch(N){c(N)}}function S(T){const N=T?T.newValue:r.getItem(t);if(N==null)return l&&v!=null&&r.setItem(t,b.write(v)),v;if(!T&&C){const A=b.read(N);return typeof C=="function"?C(A,v):d==="object"&&!Array.isArray(A)?Ve(Ve({},v),A):A}else return typeof N!="string"?N:b.read(N)}function I(T){if(!(T&&T.storageArea!==r)){if(T&&T.key==null){s.value=v;return}if(!(T&&T.key!==t)){p();try{(T==null?void 0:T.newValue)!==b.write(s.value)&&(s.value=S(T))}catch(N){c(N)}finally{T?ar(x):x()}}}}function P(T){I(T.detail)}return s}const _r={theme:"light",fontSize:18,fontFamily:"georgia",lineHeight:1.8,padding:32,wideMode:!1},Vn=Ln("settings",()=>{const t=Lh("reader-preferences",_r),e=Hr({theme:t.value.theme,fontSize:t.value.fontSize,fontFamily:t.value.fontFamily,lineHeight:t.value.lineHeight,padding:t.value.padding,wideMode:t.value.wideMode});Me(()=>({theme:e.theme,fontSize:e.fontSize,fontFamily:e.fontFamily,lineHeight:e.lineHeight,padding:e.padding,wideMode:e.wideMode}),C=>{t.value=Ve({},C)},{deep:!0});function r(C){e.theme=C}function o(C){e.fontSize=Math.min(32,Math.max(12,C))}function n(C){e.fontFamily=C}function i(C){e.lineHeight=C}function h(C){e.padding=C}function u(){e.wideMode=!e.wideMode}function l(){e.theme=_r.theme,e.fontSize=_r.fontSize,e.fontFamily=_r.fontFamily,e.lineHeight=_r.lineHeight,e.padding=_r.padding,e.wideMode=_r.wideMode}return{preferences:e,setTheme:r,setFontSize:o,setFontFamily:n,setLineHeight:i,setPadding:h,toggleWideMode:u,reset:l}});function ur(){const t=Vn(),e=ze(()=>{const{theme:n}=t.preferences;switch(n){case"dark":return{bg:"bg-gray-900",text:"text-gray-100",prose:"prose-invert"};case"sepia":return{bg:"bg-[#f4ecd8]",text:"text-[#5b4636]",prose:"prose-sepia"};case"warm":return{bg:"bg-[#faf9f6]",text:"text-[#333333]",prose:""};default:return{bg:"bg-white",text:"text-gray-900",prose:""}}}),r=ze(()=>{const{theme:n}=t.preferences;return{light:"Light",dark:"Dark",sepia:"Sepia",warm:"Warm"}[n]});function o(){const n=["light","dark","sepia","warm"],h=(n.indexOf(t.preferences.theme)+1)%n.length;t.setTheme(n[h])}return{themeClasses:e,themeLabel:r,cycleTheme:o}}const Ph={class:"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-indigo-950 flex flex-col"},Mh={class:"container mx-auto px-4 pb-6 lg:pb-8 flex-1 min-h-0"},zh={class:"flex h-full min-h-0"},Bh={class:"w-full flex flex-col min-h-0"},jh={class:"flex items-center justify-between mb-6 flex-shrink-0"},Uh={class:"flex items-center gap-3"},Fh={class:"text-sm text-gray-500 dark:text-gray-400"},Wh={key:0,class:"absolute inset-0 z-10 bg-indigo-500/10 backdrop-blur-sm rounded-2xl flex items-center justify-center"},$h={key:1,class:"absolute inset-0 pointer-events-none opacity-5 flex items-center justify-center"},Hh={class:"flex-1 overflow-y-auto"},Vh={key:0,class:"h-full flex flex-col items-center justify-center py-8 px-6 text-center"},qh={key:1,class:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 xl:grid-cols-7 2xl:grid-cols-8 gap-3 lg:gap-4"},Kh=["onClick"],Yh={class:"aspect-[2/3] relative overflow-hidden bg-gray-100 dark:bg-gray-700"},Xh=["src","alt"],Zh={key:1,class:"w-full h-full bg-gradient-to-br from-indigo-400 to-purple-500 dark:from-indigo-600 dark:to-purple-700 flex items-center justify-center"},Gh={class:"absolute bottom-0 left-0 right-0 p-2 translate-y-full group-hover:translate-y-0 transition-transform duration-300"},Jh={class:"flex gap-1"},Qh=["onClick"],tu=["onClick"],eu={class:"p-4"},ru=["title"],iu={class:"text-xs text-gray-500 dark:text-gray-400 truncate mb-2"},nu={class:"flex items-center gap-1.5 text-xs"},su={class:"flex-1 h-1.5 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden"},ou={class:"text-gray-500 dark:text-gray-400 font-medium"},au={class:"text-xs text-gray-400 dark:text-gray-500 mt-1"},lu=vr({__name:"HomeScreen",emits:["select-book"],setup(t,{emit:e}){const r=e,o=Bi(),n=xr(),{themeClasses:i}=ur(),h=Yt(new Map),u=Yt(null),l=Yt(!1);Ci(()=>Ut(this,null,function*(){yield o.init(),yield C()})),Rr(()=>{h.value.forEach(p=>{URL.revokeObjectURL(p)}),h.value.clear()});function C(){return Ut(this,null,function*(){for(const p of o.books){const x=yield o.getCoverImage(p.id);if(x){const E=URL.createObjectURL(x);h.value.set(p.id,E)}}})}function y(p){return Ut(this,null,function*(){const x=yield o.getBookBlob(p.id);if(x){const E=new File([x],`${p.title}.epub`,{type:"application/epub+zip"});r("select-book",E,!1,p.id)}})}function _(p){return Ut(this,null,function*(){const x=yield o.exportBook(p.id);if(x){const E=URL.createObjectURL(x),f=document.createElement("a");f.href=E,f.download=`${p.title}.epub`,document.body.appendChild(f),f.click(),document.body.removeChild(f),URL.revokeObjectURL(E)}})}function a(p){return Ut(this,null,function*(){var x;yield o.removeBook(p),((x=n.metadata)==null?void 0:x.id)===p&&n.clearBook(),h.value.has(p)&&(URL.revokeObjectURL(h.value.get(p)),h.value.delete(p))})}function c(p){return new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric"}).format(new Date(p))}function w(p){p.preventDefault(),l.value=!0}function s(p){var x;p.preventDefault(),(!p.relatedTarget||!((x=p.currentTarget)!=null&&x.contains(p.relatedTarget)))&&(l.value=!1)}function v(p){var E;p.preventDefault(),l.value=!1;const x=(E=p.dataTransfer)==null?void 0:E.files;x&&x.length>0&&r("select-book",x[0],!0)}function d(p){const x=p.target;x.files&&x.files.length>0&&r("select-book",x.files[0],!0)}function b(){var p;(p=u.value)==null||p.click()}return(p,x)=>(Bt(),Ft("div",Ph,[x[11]||(x[11]=ht("div",{class:"container mx-auto px-4 py-6 lg:py-8 flex-shrink-0"},[ht("header",{class:"text-center mb-6 lg:mb-8"},[ht("h1",{class:"text-4xl lg:text-5xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 dark:from-indigo-400 dark:to-purple-400 bg-clip-text text-transparent mb-3"}," EpubWebReader "),ht("p",{class:"text-gray-600 dark:text-gray-400 text-lg"}," Your personal library in the cloud... wait, it's all local! ")])],-1)),ht("div",Mh,[ht("div",zh,[ht("div",Bh,[ht("div",{class:re(["bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-6 lg:p-8 border border-gray-200 dark:border-gray-700 flex flex-col h-full relative",{"ring-4 ring-indigo-500":l.value}]),onDragover:w,onDragleave:s,onDrop:v},[ht("div",jh,[ht("div",Uh,[x[0]||(x[0]=ht("div",{class:"w-10 h-10 rounded-lg bg-purple-100 dark:bg-purple-900/30 flex items-center justify-center"},[ht("svg",{class:"w-5 h-5 text-purple-600 dark:text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[ht("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})])],-1)),ht("div",null,[ht("h2",{class:re(["text-xl font-bold",Ot(i).text])},"My Library",2),ht("p",Fh,le(Ot(o).books.length)+" book"+le(Ot(o).books.length!==1?"s":""),1)])]),ht("button",{onClick:b,class:"flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg text-sm font-medium transition-colors",title:"Add Book to Library"},[...x[1]||(x[1]=[ht("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[ht("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),xo(" Add Book ",-1)])])]),l.value?(Bt(),Ft("div",Wh,[...x[2]||(x[2]=[ht("div",{class:"text-center"},[ht("svg",{class:"w-16 h-16 mx-auto text-indigo-600 dark:text-indigo-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[ht("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})]),ht("p",{class:"text-lg font-semibold text-indigo-600 dark:text-indigo-400"}," Drop your EPUB here to add it to the library ")],-1)])])):Ot(o).books.length>0?(Bt(),Ft("div",$h,[...x[3]||(x[3]=[ht("div",{class:"text-center"},[ht("svg",{class:"w-32 h-32 mx-auto text-gray-400 dark:text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[ht("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"0.5",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})])],-1)])])):Dr("",!0),ht("div",Hh,[Ot(o).books.length===0?(Bt(),Ft("div",Vh,[x[4]||(x[4]=ht("div",{class:"w-20 h-20 rounded-full bg-gradient-to-br from-indigo-100 to-purple-100 dark:from-indigo-900/30 dark:to-purple-900/30 flex items-center justify-center mb-4"},[ht("svg",{class:"w-10 h-10 text-indigo-400 dark:text-indigo-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[ht("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})])],-1)),ht("h3",{class:re(["text-base font-semibold mb-2",Ot(i).text])},"Your library is empty",2),x[5]||(x[5]=ht("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Upload your first EPUB to get started ",-1))])):(Bt(),Ft("div",qh,[(Bt(!0),Ft(Ee,null,Ti(Ot(o).books,E=>(Bt(),Ft("div",{key:E.id,class:"relative rounded-xl overflow-hidden h-full"},[x[10]||(x[10]=ht("div",{class:"absolute inset-0 -z-10 bg-gradient-to-b from-gray-50 to-gray-100 dark:from-gray-700/50 dark:to-gray-800/50 shadow-md group-hover:shadow-2xl transition-all duration-300 group-hover:-translate-y-1"},null,-1)),ht("div",{class:"group relative z-10 cursor-pointer border border-gray-200 dark:border-gray-600 rounded-xl transition-all duration-300 hover:-translate-y-1",onClick:f=>y(E)},[ht("div",Yh,[h.value.has(E.id)?(Bt(),Ft("img",{key:0,src:h.value.get(E.id),alt:E.title,class:"w-full h-full object-contain transition-transform duration-300 group-hover:scale-105"},null,8,Xh)):(Bt(),Ft("div",Zh,[...x[6]||(x[6]=[ht("svg",{class:"w-20 h-20 text-white/80",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[ht("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})],-1)])])),x[9]||(x[9]=ht("div",{class:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"},null,-1)),ht("div",Gh,[ht("div",Jh,[ht("button",{onClick:In(f=>_(E),["stop"]),class:"flex-1 bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm text-indigo-600 dark:text-indigo-400 px-2 py-1.5 rounded text-xs font-medium hover:bg-white dark:hover:bg-gray-800 transition-colors flex items-center justify-center gap-0.5 shadow-lg",title:"Export EPUB"},[...x[7]||(x[7]=[ht("svg",{class:"w-3.5 h-3.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[ht("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})],-1)])],8,Qh),ht("button",{onClick:In(f=>a(E.id),["stop"]),class:"flex-1 bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm text-red-600 dark:text-red-400 px-2 py-1.5 rounded text-xs font-medium hover:bg-white dark:hover:bg-gray-800 transition-colors flex items-center justify-center gap-0.5 shadow-lg",title:"Remove from library"},[...x[8]||(x[8]=[ht("svg",{class:"w-3.5 h-3.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[ht("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,tu)])])]),ht("div",eu,[ht("h3",{class:re(["font-semibold text-sm line-clamp-2 mb-1 min-h-[2.5rem]",Ot(i).text]),title:E.title},le(E.title),11,ru),ht("p",iu,le(E.author),1),ht("div",nu,[ht("div",su,[ht("div",{class:"h-full bg-gradient-to-r from-indigo-500 to-purple-500 rounded-full transition-all duration-300",style:nr({width:`${Math.round(E.progress)}%`})},null,4)]),ht("span",ou,le(Math.round(E.progress))+"% ",1)]),ht("div",au,le(c(E.lastReadAt)),1)])],8,Kh)]))),128))]))])],34)])])]),ht("input",{ref_key:"fileInput",ref:u,type:"file",accept:".epub,.EPUB",class:"hidden",onChange:d},null,544)]))}}),cu={class:"flex justify-center h-full py-6 px-4"},hu=vr({__name:"BookViewer",setup(t){const e=xr(),r=Vn(),{themeClasses:o}=ur(),n=Yt(null),i=Yt(null);let h=null,u=null,l=!1;const C=ze(()=>r.preferences.wideMode?"max-w-full":"max-w-2xl"),y=ze(()=>({fontSize:`${r.preferences.fontSize}px`,fontFamily:_(r.preferences.fontFamily),lineHeight:r.preferences.lineHeight}));function _(d){const b={georgia:'Georgia, Cambria, "Times New Roman", serif',campote:'"Campote", Georgia, serif',arial:"Arial, Helvetica, sans-serif",verdana:"Verdana, Arial, sans-serif"};return b[d]||b.georgia}function a(){h&&clearTimeout(h),h=window.setTimeout(()=>Ut(this,null,function*(){if(!n.value||!e.currentBook)return;const d=n.value.scrollTop,b=n.value.scrollHeight-n.value.clientHeight,p=b>0?d/b:0,x=e.chapters.length,E=x>0?(e.currentChapter+p)/x*100:0;yield e.updateProgress({bookId:e.metadata.id,cfi:"",scrollPosition:d,chapterIndex:e.currentChapter,percentage:Math.round(E),timestamp:new Date})}),500)}function c(){if(!i.value||!e.currentBook)return;const d=e.chapters[e.currentChapter];if(!d){i.value.innerHTML='<p class="text-center text-gray-500 dark:text-gray-400">No chapter content available.</p>';return}let b=d.content||'<p class="text-center text-gray-500 dark:text-gray-400">Empty chapter.</p>';e.searchHighlight&&e.searchHighlight.chapterIndex===e.currentChapter&&(b=w(b,e.searchHighlight.searchText)),i.value.innerHTML=b,!l&&e.currentScrollPosition>0&&(n.value.scrollTop=e.currentScrollPosition,l=!0),e.searchHighlight&&e.searchHighlight.chapterIndex===e.currentChapter&&ar(()=>s())}function w(d,b){var A,B;const E=new DOMParser().parseFromString(d,"text/html").body;if(!E)return d;const f=new RegExp(`(${v(b)})`,"gi"),S=document.createTreeWalker(E,NodeFilter.SHOW_TEXT,null),I=[];let P;for(;P=S.nextNode();)if(P.nodeType===Node.TEXT_NODE){const O=P;if(f.test(O.textContent||"")){const H=O.parentNode;H&&H.nodeName!=="SCRIPT"&&H.nodeName!=="STYLE"&&I.push({node:O,parent:H})}}let T=0;const N=(B=(A=e.searchHighlight)==null?void 0:A.matchIndex)!=null?B:0;for(const{node:O,parent:H}of I){const nt=(O.textContent||"").matchAll(f),Y=[];let lt=0;for(const ut of nt)if(ut.index!==void 0){Y.push(O.textContent.substring(lt,ut.index));const G=document.createElement("mark");G.className="search-highlight",T===N&&G.classList.add("active"),G.textContent=ut[0],Y.push(G),lt=ut.index+ut[0].length,T++}lt<(O.textContent||"").length&&Y.push(O.textContent.substring(lt));const rt=document.createElement("span");Y.forEach(ut=>{typeof ut=="string"?rt.appendChild(document.createTextNode(ut)):rt.appendChild(ut)}),H.replaceChild(rt,O)}return E.innerHTML}function s(){var b,p,x;const d=(b=i.value)==null?void 0:b.querySelectorAll(".search-highlight");if(d&&d.length>0){const E=(x=(p=e.searchHighlight)==null?void 0:p.matchIndex)!=null?x:0,f=d[Math.min(E,d.length-1)];f&&f.scrollIntoView({behavior:"smooth",block:"center"})}}function v(d){return d.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}return ml(()=>{i.value&&e.currentBook&&e.chapters.length>0&&ar(()=>c())}),Me(()=>e.searchHighlight,()=>{i.value&&ar(()=>c())}),Me(()=>e.currentChapter,()=>Ut(this,null,function*(){if(!e.currentBook)return;const d=e.chapters.length,b=d>0?e.currentChapter/d*100:0;yield e.updateProgress({bookId:e.metadata.id,cfi:"",scrollPosition:0,chapterIndex:e.currentChapter,percentage:Math.round(b),timestamp:new Date})})),Me(()=>[r.preferences.wideMode,r.preferences.fontSize,r.preferences.fontFamily,r.preferences.lineHeight],()=>{u&&clearTimeout(u),u=window.setTimeout(()=>Ut(this,null,function*(){if(!n.value||!e.currentBook)return;yield ar();const d=n.value.scrollTop,b=n.value.scrollHeight-n.value.clientHeight,p=b>0?d/b:0,x=e.chapters.length,E=x>0?(e.currentChapter+p)/x*100:0;yield e.updateProgress({bookId:e.metadata.id,cfi:"",scrollPosition:d,chapterIndex:e.currentChapter,percentage:Math.round(E),timestamp:new Date})}),500)}),Rr(()=>{h&&clearTimeout(h),u&&clearTimeout(u)}),(d,b)=>(Bt(),Ft("div",cu,[(Bt(),Ft("div",{key:Ot(e).currentChapter,ref_key:"containerRef",ref:n,class:re(["h-full overflow-y-auto scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-gray-600 scrollbar-track-transparent scroll-smooth",[C.value,Ot(o).bg,Ot(o).text]]),onScroll:a},[ht("div",{ref_key:"articleRef",ref:i,class:re(["prose max-w-none prose-p:leading-loose prose-p:mb-5 prose-headings:font-semibold prose-a:text-indigo-600 dark:prose-a:text-indigo-400 prose-img:rounded-lg",Ot(o).prose]),style:nr(y.value)},null,6)],34))]))}}),uu={class:"flex items-center justify-between px-4 py-3 max-w-7xl mx-auto"},fu={class:"flex items-center space-x-4"},du={class:"text-lg font-semibold truncate max-w-[200px]"},pu={class:"hidden sm:flex items-center space-x-2"},gu=["disabled"],mu={class:"text-sm text-gray-500 dark:text-gray-400"},vu=["disabled"],bu={class:"flex items-center space-x-2"},wu={class:"hidden sm:flex items-center space-x-1 border-r border-gray-200 dark:border-gray-700 pr-3 mr-1"},yu={class:"w-12 text-center text-sm font-medium"},xu=["title"],_u={key:0,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Eu={key:1,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ku={key:2,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Su=["title"],Cu={class:"h-1 bg-gray-200 dark:bg-gray-700"},Tu=vr({__name:"Controls",emits:["toggle-toc","toggle-search","toggle-library"],setup(t,{emit:e}){const r=e,o=xr(),n=Vn(),{themeLabel:i,themeClasses:h}=ur(),u=ze(()=>`${n.preferences.fontSize}px`);function l(){n.setFontSize(n.preferences.fontSize+2)}function C(){n.setFontSize(n.preferences.fontSize-2)}function y(){ur().cycleTheme()}return(_,a)=>{var c,w;return Bt(),Ft("header",{class:re(["sticky top-0 z-30 border-b border-gray-200 dark:border-gray-700 backdrop-blur-sm bg-white/80 dark:bg-gray-900/80",Ot(h).bg])},[ht("div",uu,[ht("div",fu,[ht("h1",du,le(((c=Ot(o).metadata)==null?void 0:c.title)||"EpubWebReader"),1),ht("div",pu,[ht("button",{onClick:a[0]||(a[0]=s=>Ot(o).prevChapter()),disabled:Ot(o).currentChapter===0,class:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 disabled:opacity-50 disabled:cursor-not-allowed",title:"Previous chapter"},[...a[6]||(a[6]=[ht("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[ht("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])],8,gu),ht("span",mu,le(Ot(o).currentChapter+1)+" / "+le(Ot(o).chapters.length),1),ht("button",{onClick:a[1]||(a[1]=s=>Ot(o).nextChapter()),disabled:Ot(o).currentChapter>=Ot(o).chapters.length-1,class:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 disabled:opacity-50 disabled:cursor-not-allowed",title:"Next chapter"},[...a[7]||(a[7]=[ht("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[ht("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])],8,vu)])]),ht("div",bu,[ht("div",wu,[ht("button",{onClick:C,class:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800",title:"Decrease font size"},[...a[8]||(a[8]=[ht("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[ht("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 12H4"})],-1)])]),ht("span",yu,le(u.value),1),ht("button",{onClick:l,class:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800",title:"Increase font size"},[...a[9]||(a[9]=[ht("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[ht("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1)])])]),ht("button",{onClick:y,class:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800",title:`Current theme: ${Ot(i)}`},[Ot(n).preferences.theme==="light"?(Bt(),Ft("svg",_u,[...a[10]||(a[10]=[ht("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"},null,-1)])])):Ot(n).preferences.theme==="dark"?(Bt(),Ft("svg",Eu,[...a[11]||(a[11]=[ht("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"},null,-1)])])):(Bt(),Ft("svg",ku,[...a[12]||(a[12]=[ht("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"},null,-1)])]))],8,xu),ht("button",{onClick:a[2]||(a[2]=s=>Ot(n).toggleWideMode()),class:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800",title:Ot(n).preferences.wideMode?"Wide screen mode on":"Wide screen mode off"},[...a[13]||(a[13]=[ht("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[ht("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"})],-1)])],8,Su),ht("button",{onClick:a[3]||(a[3]=s=>r("toggle-search")),class:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800",title:"Search"},[...a[14]||(a[14]=[ht("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[ht("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)])]),ht("button",{onClick:a[4]||(a[4]=s=>r("toggle-toc")),class:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800",title:"Table of contents"},[...a[15]||(a[15]=[ht("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[ht("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)])]),ht("button",{onClick:a[5]||(a[5]=s=>r("toggle-library")),class:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800",title:"Library"},[...a[16]||(a[16]=[ht("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[ht("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})],-1)])])])]),ht("div",Cu,[ht("div",{class:"h-full bg-indigo-600 transition-all duration-300",style:nr({width:`${((w=Ot(o).metadata)==null?void 0:w.progress)||0}%`})},null,4)])],2)}}}),Ou={class:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700"},Au={class:"flex-1 overflow-y-auto p-4"},Iu={class:"space-y-1"},Ru=["onClick"],Nu={key:0,class:"text-center py-8 text-gray-500"},Du=vr({__name:"ChapterList",emits:["close"],setup(t,{emit:e}){const r=e,o=xr(),{themeClasses:n}=ur();function i(h){o.setChapter(h),r("close")}return(h,u)=>(Bt(),Ft("div",{class:re(["h-full flex flex-col",Ot(n).bg])},[ht("div",Ou,[u[2]||(u[2]=ht("h2",{class:"font-semibold"},"Table of Contents",-1)),ht("button",{onClick:u[0]||(u[0]=l=>r("close")),class:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700","aria-label":"Close"},[...u[1]||(u[1]=[ht("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[ht("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),ht("nav",Au,[ht("ul",Iu,[(Bt(!0),Ft(Ee,null,Ti(Ot(o).chapters,(l,C)=>(Bt(),Ft("li",{key:l.id},[ht("button",{onClick:y=>i(C),class:re(["w-full text-left px-3 py-2 rounded-lg transition-colors duration-200",[C===Ot(o).currentChapter?"bg-indigo-100 dark:bg-indigo-900 text-indigo-700 dark:text-indigo-300 font-medium":"hover:bg-gray-100 dark:hover:bg-gray-700"]])},[ht("span",{class:"block text-sm truncate",style:nr({paddingLeft:`${l.level*16+8}px`})},le(l.title||`Chapter ${C+1}`),5)],10,Ru)]))),128))]),Ot(o).chapters.length===0?(Bt(),Ft("div",Nu," No table of contents available ")):Dr("",!0)])],2))}});function Lu(){const t=Yt([]),e=Yt(!1),r=Yt("");function o(h,u){return Ut(this,null,function*(){if(!h.trim())return t.value=[],[];e.value=!0,r.value=h;const l=[],C=10;try{for(let y=0;y<u.length;y++){const _=u[y];let a=0;if(!_.content)continue;const s=new DOMParser().parseFromString(_.content,"text/html").body;if(!s)continue;const v=s.textContent||"",d=v.toLowerCase(),b=h.toLowerCase();let p=d.indexOf(b);for(;p!==-1&&a<C;){const E=Math.max(0,p-50),f=Math.min(v.length,p+h.length+50);let S=v.substring(E,f);const I=v.substring(p,p+h.length);E>0&&(S="..."+S),f<v.length&&(S=S+"..."),S=S.replace(new RegExp(`(${i(h)})`,"gi"),"<mark>$1</mark>"),l.push({chapterIndex:y,chapterTitle:_.title,excerpt:S,cfi:_.href,searchText:h,matchedText:I,matchIndex:a}),a++,p=d.indexOf(b,p+1)}}}finally{e.value=!1}return t.value=l,l})}function n(){t.value=[],r.value=""}function i(h){return h.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}return{results:t,isSearching:e,query:r,searchInBook:o,clearSearch:n}}const Pu={class:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700"},Mu={class:"p-4 border-b border-gray-200 dark:border-gray-700"},zu={class:"relative"},Bu={class:"flex-1 overflow-y-auto p-4"},ju={key:0,class:"flex justify-center py-8"},Uu={key:1,class:"text-center py-8 text-gray-500"},Fu={key:2,class:"space-y-3"},Wu={class:"text-sm text-gray-500 dark:text-gray-400 mb-4"},$u=["onClick"],Hu=["innerHTML"],Vu={key:3,class:"text-center py-8 text-gray-500"},qu=vr({__name:"SearchPanel",emits:["close"],setup(t,{emit:e}){const r=e,o=xr(),n=Lu(),{themeClasses:i}=ur(),h=Yt(""),u=Yt(null);function l(){return Ut(this,null,function*(){if(!h.value.trim()){o.setSearchHighlight(null);return}yield n.searchInBook(h.value,o.chapters);const y=n.results.value.filter(_=>_.chapterIndex===o.currentChapter);o.setSearchHighlight({chapterIndex:o.currentChapter,searchText:h.value,matchIndex:y.length>0?0:void 0})})}Rr(()=>{o.setSearchHighlight(null)}),Me(h,()=>{const y=setTimeout(()=>{l()},300);return()=>clearTimeout(y)});function C(y){o.setSearchHighlight({chapterIndex:y.chapterIndex,searchText:y.searchText,matchIndex:y.matchIndex}),o.setChapter(y.chapterIndex)}return(y,_)=>(Bt(),Ft("div",{class:re(["h-full flex flex-col",Ot(i).bg])},[ht("div",Pu,[_[3]||(_[3]=ht("h2",{class:"font-semibold"},"Search",-1)),ht("button",{onClick:_[0]||(_[0]=a=>r("close")),class:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700","aria-label":"Close"},[..._[2]||(_[2]=[ht("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[ht("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),ht("div",Mu,[ht("div",zu,[ul(ht("input",{ref_key:"searchInput",ref:u,"onUpdate:modelValue":_[1]||(_[1]=a=>h.value=a),type:"text",placeholder:"Search in book...",class:re(["w-full px-4 py-2 pl-10 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-indigo-500",Ot(i).text])},null,2),[[Wc,h.value]]),_[4]||(_[4]=ht("svg",{class:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[ht("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1))])]),ht("div",Bu,[Ot(n).isSearching.value?(Bt(),Ft("div",ju,[..._[5]||(_[5]=[ht("svg",{class:"animate-spin h-6 w-6 text-indigo-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[ht("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),ht("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)])])):h.value&&Ot(n).results.value.length===0?(Bt(),Ft("div",Uu,' No results found for "'+le(h.value)+'" ',1)):Ot(n).results.value.length>0?(Bt(),Ft("div",Fu,[ht("p",Wu,le(Ot(n).results.value.length)+" results found ",1),(Bt(!0),Ft(Ee,null,Ti(Ot(n).results.value,(a,c)=>(Bt(),Ft("button",{key:c,onClick:w=>C(a),class:"w-full text-left p-3 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors"},[ht("p",{class:re(["font-medium text-sm mb-1",Ot(i).text])},le(a.chapterTitle),3),ht("p",{class:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2",innerHTML:a.excerpt},null,8,Hu)],8,$u))),128))])):(Bt(),Ft("div",Vu," Enter a search term to find content in this book "))])],2))}}),Ku={class:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700"},Yu={class:"flex items-center gap-2"},Xu={class:"text-sm text-gray-500 dark:text-gray-400"},Zu={class:"flex items-center gap-1"},Gu={class:"flex-1 overflow-y-auto relative"},Ju={key:0,class:"absolute inset-0 z-10 bg-indigo-500/10 backdrop-blur-sm border-4 border-dashed border-indigo-500 rounded-lg flex items-center justify-center"},Qu={key:1,class:"absolute inset-0 pointer-events-none opacity-5 flex items-center justify-center"},tf={class:"p-4"},ef={key:0,class:"text-center py-16"},rf={key:1,class:"space-y-3"},nf=["onClick"],sf={class:"w-12 h-16 flex-shrink-0 rounded overflow-hidden bg-gray-200 dark:bg-gray-700 flex items-center justify-center"},of=["src","alt"],af={key:1,class:"w-6 h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},lf={class:"flex-1 min-w-0"},cf={class:"text-sm text-gray-500 dark:text-gray-400 truncate"},hf={class:"mt-2"},uf={class:"flex items-center gap-2 mb-1"},ff={class:"text-xs text-gray-400"},df={class:"text-xs text-gray-400"},pf={class:"w-full h-1.5 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden"},gf=["onClick"],mf={class:"p-4 border-t border-gray-200 dark:border-gray-700"},vf=["disabled"],bf=vr({__name:"LibraryPanel",emits:["close"],setup(t,{emit:e}){const r=e,o=Bi(),n=xr(),{themeClasses:i}=ur(),h=Yt(null),u=Yt(new Map),l=Yt(!1);Ci(()=>Ut(this,null,function*(){o.isInitialized||(yield o.init()),yield C()})),Rr(()=>{u.value.forEach(p=>{URL.revokeObjectURL(p)}),u.value.clear()});function C(){return Ut(this,null,function*(){for(const p of o.books){const x=yield o.getCoverImage(p.id);if(x){const E=URL.createObjectURL(x);u.value.set(p.id,E)}}})}function y(p){p.preventDefault(),l.value=!0}function _(p){var x;p.preventDefault(),(!p.relatedTarget||!((x=p.currentTarget)!=null&&x.contains(p.relatedTarget)))&&(l.value=!1)}function a(p){return Ut(this,null,function*(){var E;p.preventDefault(),l.value=!1;const x=(E=p.dataTransfer)==null?void 0:E.files;x&&x.length>0&&(yield s(x[0]))})}function c(p){return Ut(this,null,function*(){const x=yield o.getBookBlob(p.id);x&&(yield n.loadBook(new File([x],p.title+".epub",{type:"application/epub+zip"}),!1,p.id),r("close"))})}function w(p){return Ut(this,null,function*(){var x;yield o.removeBook(p),((x=n.metadata)==null?void 0:x.id)===p&&n.clearBook()})}function s(p){return Ut(this,null,function*(){try{yield n.loadBook(p,!0),r("close")}catch(x){console.error("Failed to load book:",x)}})}function v(p){const x=p.target;x.files&&x.files.length>0&&s(x.files[0])}function d(){var p;(p=h.value)==null||p.click()}function b(p){return new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric"}).format(new Date(p))}return(p,x)=>(Bt(),Ft("div",{class:re(["h-full flex flex-col",Ot(i).bg]),onDragover:y,onDragleave:_,onDrop:a},[ht("div",Ku,[ht("div",Yu,[x[2]||(x[2]=ht("h2",{class:"font-semibold"},"Library",-1)),ht("span",Xu," ("+le(Ot(o).books.length)+") ",1)]),ht("div",Zu,[ht("button",{onClick:d,class:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-indigo-600 dark:text-indigo-400","aria-label":"Upload Book",title:"Upload Book"},[...x[3]||(x[3]=[ht("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[ht("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})],-1)])]),ht("button",{onClick:x[0]||(x[0]=E=>r("close")),class:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700","aria-label":"Close"},[...x[4]||(x[4]=[ht("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[ht("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])]),ht("div",Gu,[l.value?(Bt(),Ft("div",Ju,[...x[5]||(x[5]=[lc('<div class="text-center"><svg class="w-16 h-16 mx-auto text-indigo-600 dark:text-indigo-400 mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path></svg><p class="text-lg font-semibold text-indigo-600 dark:text-indigo-400"> Drop your EPUB here to add it to the library </p><p class="text-sm text-gray-600 dark:text-gray-400 mt-2"> or select a book from your collection </p></div>',1)])])):(Bt(),Ft("div",Qu,[...x[6]||(x[6]=[ht("svg",{class:"w-24 h-24 text-gray-400 dark:text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[ht("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"0.5",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})],-1)])])),ht("div",tf,[Ot(o).books.length===0?(Bt(),Ft("div",ef,[x[7]||(x[7]=ht("div",{class:"w-20 h-20 rounded-full bg-gradient-to-br from-indigo-100 to-purple-100 dark:from-indigo-900/30 dark:to-purple-900/30 flex items-center justify-center mx-auto mb-4"},[ht("svg",{class:"w-10 h-10 text-indigo-400 dark:text-indigo-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[ht("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})])],-1)),ht("h3",{class:re(["text-lg font-semibold mb-2",Ot(i).text])},"Your library is empty",2),x[8]||(x[8]=ht("p",{class:"text-gray-500 dark:text-gray-400 mb-2"}," Drop an EPUB file here or use the upload button to get started ",-1))])):(Bt(),Ft("div",rf,[(Bt(!0),Ft(Ee,null,Ti(Ot(o).books,E=>(Bt(),Ft("div",{key:E.id,class:"flex items-start gap-3 p-3 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer group",onClick:f=>c(E)},[ht("div",sf,[u.value.has(E.id)?(Bt(),Ft("img",{key:0,src:u.value.get(E.id),alt:E.title,class:"w-full h-full object-cover"},null,8,of)):(Bt(),Ft("svg",af,[...x[9]||(x[9]=[ht("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"},null,-1)])]))]),ht("div",lf,[ht("h3",{class:re(["font-medium truncate",Ot(i).text])},le(E.title),3),ht("p",cf,le(E.author),1),ht("div",hf,[ht("div",uf,[ht("span",ff,le(b(E.lastReadAt)),1),ht("span",df,le(Math.round(E.progress))+"% ",1)]),ht("div",pf,[ht("div",{class:"h-full bg-gradient-to-r from-indigo-500 to-purple-500 rounded-full transition-all duration-300",style:nr({width:`${Math.round(E.progress)}%`})},null,4)])])]),ht("button",{onClick:In(f=>w(E.id),["stop"]),class:"opacity-0 group-hover:opacity-100 p-2 rounded-lg hover:bg-red-100 dark:hover:bg-red-900/30 text-red-600 dark:text-red-400 transition-all",title:"Remove from library"},[...x[10]||(x[10]=[ht("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[ht("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,gf)],8,nf))),128))]))])]),ht("div",mf,[ht("button",{onClick:x[1]||(x[1]=E=>Ot(o).clearLibrary()),class:"w-full px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/30 rounded-lg transition-colors",disabled:Ot(o).books.length===0}," Clear Library ",8,vf)]),ht("input",{ref_key:"fileInput",ref:h,type:"file",accept:".epub,.EPUB",class:"hidden",onChange:v},null,544)],34))}}),wf={key:2,class:"flex flex-col h-screen"},yf={class:"flex flex-1 overflow-hidden"},sa=Kc(vr({__name:"App",setup(t){const e=xr(),{themeClasses:r}=ur(),o=Yt(!1),n=Yt(!1),i=Yt(!1);function h(_,a=!0,c){_.name.endsWith(".epub")||_.name.endsWith(".EPUB")?e.loadBook(_,a,c).catch(w=>{console.error("Failed to load book:",w)}):console.warn("Invalid file type:",_.name)}function u(){o.value=!o.value,n.value=!1,i.value=!1}function l(){n.value=!n.value,o.value=!1,i.value=!1}function C(){i.value=!i.value,o.value=!1,n.value=!1}function y(){o.value=!1,n.value=!1,i.value=!1}return(_,a)=>(Bt(),Ft("div",{class:re(["min-h-screen transition-colors duration-300",Ot(r).bg,Ot(r).text])},[Ot(e).currentBook?Ot(e).isLoading?(Bt(),Ft("div",{key:1,class:re(["flex flex-col items-center justify-center min-h-screen",[Ot(r).bg,Ot(r).text]])},[...a[3]||(a[3]=[ht("svg",{class:"animate-spin h-12 w-12 text-indigo-600 mb-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[ht("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),ht("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),ht("p",{class:"text-lg"},"Loading book...",-1)])],2)):(Bt(),Ft("div",wf,[ye(Tu,{onToggleToc:u,onToggleSearch:l,onToggleLibrary:C}),ht("div",yf,[o.value?(Bt(),Ft("aside",{key:0,class:re(["fixed top-16 bottom-0 left-0 z-50 w-72 overflow-y-auto border-r border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 shadow-xl transition-transform duration-300",Ot(r).bg])},[ye(Du,{onClose:a[0]||(a[0]=c=>o.value=!1)})],2)):Dr("",!0),ht("main",{class:re(["flex-1 transition-all duration-300 overflow-hidden",{"ml-72":o.value,"mr-80":n.value||i.value}])},[ye(hu)],2),n.value?(Bt(),Ft("div",{key:1,class:re(["fixed top-16 bottom-0 right-0 z-50 w-80 overflow-y-auto border-l border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 shadow-xl",Ot(r).bg])},[ye(qu,{onClose:a[1]||(a[1]=c=>n.value=!1)})],2)):Dr("",!0),i.value?(Bt(),Ft("div",{key:2,class:re(["fixed top-16 bottom-0 right-0 z-50 w-80 overflow-y-auto border-l border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 shadow-xl",Ot(r).bg])},[ye(bf,{onClose:a[2]||(a[2]=c=>i.value=!1)})],2)):Dr("",!0)])])):(Bt(),bo(lu,{key:0,onSelectBook:h})),o.value||n.value||i.value?(Bt(),Ft("div",{key:3,class:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:y})):Dr("",!0)],2))}})),xf=Zc();sa.use(xf),sa.mount("#app");let qn=null,Kn=null;function _f(){return Ut(this,null,function*(){typeof globalThis.JSZip!="function"&&(Kn||(Kn=Ut(this,null,function*(){try{const t=yield Pn(()=>Promise.resolve().then(()=>Tf),void 0,Vt&&Vt.tagName.toUpperCase()==="SCRIPT"&&Vt.src||new URL("bundle.js",document.baseURI).href),e=t.default||t.JSZip||t.jszip||t;globalThis.JSZip=e}catch(t){const e=t instanceof Error?t.message:String(t);throw new Error(`Failed to load JSZip dependency: ${e}`)}})),yield Kn)})}function Ef(t){const e=[];if(e.push(t),t&&typeof t=="object"){const i=t;e.push(i.ePub),e.push(i.default);const h=i.default;if(h&&typeof h=="object"){const u=h;e.push(u.ePub),e.push(u.default)}}e.push(globalThis.ePub);const r=e.find(i=>typeof i=="function");if(typeof r=="function")return r;const o=t&&typeof t=="object"?Object.keys(t).join(", "):"",n=typeof globalThis.ePub;throw new TypeError(`Unable to resolve epubjs factory function. Module keys: ${o||"(none)"} and typeof module is ${typeof t}. globalThis.ePub is ${n}.`)}function kf(){return Ut(this,null,function*(){if(yield _f(),!qn){const t=yield Pn(()=>Promise.resolve().then(()=>Of),void 0,Vt&&Vt.tagName.toUpperCase()==="SCRIPT"&&Vt.src||new URL("bundle.js",document.baseURI).href);qn=Ef(t)}return qn})}function oa(){function t(l,C){return Ut(this,null,function*(){const y=yield kf(),_=yield l.arrayBuffer(),a=y(_);yield a.ready;const c=yield a.loaded.metadata,w=yield a.loaded.navigation,v={id:C||(yield u(l)),title:c.title||"Untitled",author:c.creator||"Unknown Author",coverImage:void 0,description:c.description,publisher:c.publisher,publishedAt:c.publishedAt,language:c.language,addedAt:new Date,lastReadAt:new Date,progress:0,currentChapter:0},d=yield e(a),b=yield r(w);let p;try{const E=yield a.loaded.rootfile;if(E&&typeof E=="object"){const f=E,S=f.rootfileUrl||f.path||f.rootPath;if(S){const I=S.lastIndexOf("/");p=I>=0?S.substring(0,I+1):""}}}catch(E){console.warn("Unable to determine base URL from book packaging")}const x=yield o(a,p,b);return{metadata:v,chapters:x,toc:b,coverBlob:d||void 0}})}function e(l){return Ut(this,null,function*(){try{const C=yield l.coverUrl();if(C)return yield(yield fetch(C)).blob()}catch(C){return console.warn("Failed to load cover image",C),null}return null})}function r(l){return Ut(this,null,function*(){const C=[];if(l.toc)for(const y of l.toc)C.push({id:y.id||y.href,href:y.href,title:y.label,level:0,children:[]});return C})}function o(l,C,y){return Ut(this,null,function*(){const _=[];for(const a of y){const c=yield n(l,C,a.href,a.title);if(_.push({id:a.id,href:a.href,title:a.title,level:a.level,content:c}),a.children)for(const w of a.children){const s=yield n(l,C,w.href,w.title);_.push({id:w.id||w.href,href:w.href,title:w.title,level:1,content:s})}}return _})}function n(l,C,y,_){return Ut(this,null,function*(){var a,c;try{const w=(a=l.archive)==null?void 0:a.zip;if(!w||typeof w.file!="function")return console.warn(`Archive zip not available for chapter: ${_} (${y})`),`<p>Unable to load chapter: ${_}</p>`;let s;if(y.startsWith("http://")||y.startsWith("https://"))try{s=new URL(y).pathname}catch(f){s=y}else if(C)try{s=new URL(y,C).pathname}catch(f){s=y}else s=y;s=s.replace(/^\//,""),s=decodeURIComponent(s);let v=w.file(s);if(!v){const S=(w.files?Object.keys(w.files):[]).find(I=>I.endsWith(s)||I.endsWith(`/${s}`));S&&(v=w.file(S),s=S)}if(!v)return console.warn(`Chapter file not found in archive: ${_} (${s})`),`<p>Unable to load chapter: ${_}</p>`;const d=yield v.async("string");if(!d||d.trim()==="")return console.warn(`Empty chapter content: ${_} (${s})`),`<p>Empty chapter: ${_}</p>`;const p=new DOMParser().parseFromString(d,"application/xhtml+xml");if(!p)return console.warn(`Failed to parse chapter: ${_} (${s})`),`<p>Unable to load chapter: ${_}</p>`;let x=p.body;if(!x){const f=p.documentElement,S=(c=f==null?void 0:f.outerHTML)==null?void 0:c.substring(0,200).replace(/\s+/g," ");if(console.warn(`No body element in chapter: ${_} (${s}) Document element: ${(f==null?void 0:f.tagName)||"none"}, outerHTML preview: ${S||"(empty)"}`),f){const I=f.getElementsByTagName("body");if(I.length>0)x=I[0];else{const P=f.getElementsByTagNameNS("http://www.w3.org/1999/xhtml","body");P.length>0&&(x=P[0])}}if(!x)return`<p>Unable to load chapter: ${_}</p>`}let E=x.innerHTML;return!E||E.trim()===""?(console.warn(`Empty body in chapter: ${_} (${s})`),`<p>Empty chapter: ${_}</p>`):(E=yield h(E,w,C,s),E)}catch(w){return console.warn(`Failed to load chapter content: ${_} (${y})`,w),`<p>Unable to load chapter: ${_}</p>`}})}function i(l,C,y){return Ut(this,null,function*(){if(l.startsWith("http://")||l.startsWith("https://"))try{return new URL(l).pathname}catch(a){return l}if(l.startsWith("data:")||l.startsWith("#"))return l;try{if(C)return new URL(l,`http://localhost/${C}`).pathname.substring(1)}catch(a){return l}const _=y.lastIndexOf("/");if(_>=0){const a=y.substring(0,_+1);try{return new URL(l,`http://localhost/${a}`).pathname.substring(1)}catch(c){return a+l}}return l})}function h(l,C,y,_){return Ut(this,null,function*(){const c=new DOMParser().parseFromString(`<div>${l}</div>`,"text/html"),w=c.querySelectorAll("img");if(w.length===0)return l;const s=new Map;for(const d of w){const b=d.getAttribute("src");if(!b)continue;if(s.has(b)){d.setAttribute("src",s.get(b));continue}if(b.startsWith("data:"))continue;let x=(yield i(b,y,_)).replace(/^\//,"");x=decodeURIComponent(x);let E=C.file(x);if(!E){const S=(C.files?Object.keys(C.files):[]).find(I=>I.endsWith(x)||I.endsWith(`/${x}`));S&&(E=C.file(S))}if(!E){console.warn(`Image not found in archive: ${x} (from ${b})`);continue}try{const f=yield E.async("blob"),S=URL.createObjectURL(f);s.set(b,S),d.setAttribute("src",S)}catch(f){console.warn(`Failed to load image: ${x}`,f)}}const v=c.querySelector("div");return v?v.innerHTML:l})}function u(l){return Ut(this,null,function*(){const C=Date.now(),y=yield crypto.subtle.digest("SHA-256",yield l.arrayBuffer()),a=Array.from(new Uint8Array(y)).map(c=>c.toString(16).padStart(2,"0")).join("");return`${l.name}-${C}-${a.substring(0,8)}`})}return{loadEpub:t}}const Sf=oa(),Cf=Object.freeze(Object.defineProperty({__proto__:null,epub:Sf,useEpub:oa},Symbol.toStringTag,{value:"Module"}));var Fi=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function aa(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Wi(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var la={exports:{}};/*!

  JSZip v3.10.1 - A JavaScript class for generating and reading zip files
  <http://stuartk.com/jszip>

  (c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
  Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

  JSZip uses the library pako released under the MIT license :
  https://github.com/nodeca/pako/blob/main/LICENSE
  */(function(t,e){(function(r){t.exports=r()})(function(){return function r(o,n,i){function h(C,y){if(!n[C]){if(!o[C]){var _=typeof Wi=="function"&&Wi;if(!y&&_)return _(C,!0);if(u)return u(C,!0);var a=new Error("Cannot find module '"+C+"'");throw a.code="MODULE_NOT_FOUND",a}var c=n[C]={exports:{}};o[C][0].call(c.exports,function(w){var s=o[C][1][w];return h(s||w)},c,c.exports,r,o,n,i)}return n[C].exports}for(var u=typeof Wi=="function"&&Wi,l=0;l<i.length;l++)h(i[l]);return h}({1:[function(r,o,n){var i=r("./utils"),h=r("./support"),u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(l){for(var C,y,_,a,c,w,s,v=[],d=0,b=l.length,p=b,x=i.getTypeOf(l)!=="string";d<l.length;)p=b-d,_=x?(C=l[d++],y=d<b?l[d++]:0,d<b?l[d++]:0):(C=l.charCodeAt(d++),y=d<b?l.charCodeAt(d++):0,d<b?l.charCodeAt(d++):0),a=C>>2,c=(3&C)<<4|y>>4,w=1<p?(15&y)<<2|_>>6:64,s=2<p?63&_:64,v.push(u.charAt(a)+u.charAt(c)+u.charAt(w)+u.charAt(s));return v.join("")},n.decode=function(l){var C,y,_,a,c,w,s=0,v=0,d="data:";if(l.substr(0,d.length)===d)throw new Error("Invalid base64 input, it looks like a data url.");var b,p=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===u.charAt(64)&&p--,l.charAt(l.length-2)===u.charAt(64)&&p--,p%1!=0)throw new Error("Invalid base64 input, bad content length.");for(b=h.uint8array?new Uint8Array(0|p):new Array(0|p);s<l.length;)C=u.indexOf(l.charAt(s++))<<2|(a=u.indexOf(l.charAt(s++)))>>4,y=(15&a)<<4|(c=u.indexOf(l.charAt(s++)))>>2,_=(3&c)<<6|(w=u.indexOf(l.charAt(s++))),b[v++]=C,c!==64&&(b[v++]=y),w!==64&&(b[v++]=_);return b}},{"./support":30,"./utils":32}],2:[function(r,o,n){var i=r("./external"),h=r("./stream/DataWorker"),u=r("./stream/Crc32Probe"),l=r("./stream/DataLengthProbe");function C(y,_,a,c,w){this.compressedSize=y,this.uncompressedSize=_,this.crc32=a,this.compression=c,this.compressedContent=w}C.prototype={getContentWorker:function(){var y=new h(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),_=this;return y.on("end",function(){if(this.streamInfo.data_length!==_.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),y},getCompressedWorker:function(){return new h(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},C.createWorkerFrom=function(y,_,a){return y.pipe(new u).pipe(new l("uncompressedSize")).pipe(_.compressWorker(a)).pipe(new l("compressedSize")).withStreamInfo("compression",_)},o.exports=C},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,o,n){var i=r("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},n.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,o,n){var i=r("./utils"),h=function(){for(var u,l=[],C=0;C<256;C++){u=C;for(var y=0;y<8;y++)u=1&u?3988292384^u>>>1:u>>>1;l[C]=u}return l}();o.exports=function(u,l){return u!==void 0&&u.length?i.getTypeOf(u)!=="string"?function(C,y,_,a){var c=h,w=a+_;C^=-1;for(var s=a;s<w;s++)C=C>>>8^c[255&(C^y[s])];return-1^C}(0|l,u,u.length,0):function(C,y,_,a){var c=h,w=a+_;C^=-1;for(var s=a;s<w;s++)C=C>>>8^c[255&(C^y.charCodeAt(s))];return-1^C}(0|l,u,u.length,0):0}},{"./utils":32}],5:[function(r,o,n){n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(r,o,n){var i=null;i=typeof Promise!="undefined"?Promise:r("lie"),o.exports={Promise:i}},{lie:37}],7:[function(r,o,n){var i=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Uint32Array!="undefined",h=r("pako"),u=r("./utils"),l=r("./stream/GenericWorker"),C=i?"uint8array":"array";function y(_,a){l.call(this,"FlateWorker/"+_),this._pako=null,this._pakoAction=_,this._pakoOptions=a,this.meta={}}n.magic="\b\0",u.inherits(y,l),y.prototype.processChunk=function(_){this.meta=_.meta,this._pako===null&&this._createPako(),this._pako.push(u.transformTo(C,_.data),!1)},y.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},y.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},y.prototype._createPako=function(){this._pako=new h[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var _=this;this._pako.onData=function(a){_.push({data:a,meta:_.meta})}},n.compressWorker=function(_){return new y("Deflate",_)},n.uncompressWorker=function(){return new y("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,o,n){function i(c,w){var s,v="";for(s=0;s<w;s++)v+=String.fromCharCode(255&c),c>>>=8;return v}function h(c,w,s,v,d,b){var p,x,E=c.file,f=c.compression,S=b!==C.utf8encode,I=u.transformTo("string",b(E.name)),P=u.transformTo("string",C.utf8encode(E.name)),T=E.comment,N=u.transformTo("string",b(T)),A=u.transformTo("string",C.utf8encode(T)),B=P.length!==E.name.length,O=A.length!==T.length,H="",nt="",Y="",lt=E.dir,rt=E.date,ut={crc32:0,compressedSize:0,uncompressedSize:0};w&&!s||(ut.crc32=c.crc32,ut.compressedSize=c.compressedSize,ut.uncompressedSize=c.uncompressedSize);var G=0;w&&(G|=8),S||!B&&!O||(G|=2048);var it=0,gt=0;lt&&(it|=16),d==="UNIX"?(gt=798,it|=function(ft,Et){var kt=ft;return ft||(kt=Et?16893:33204),(65535&kt)<<16}(E.unixPermissions,lt)):(gt=20,it|=function(ft){return 63&(ft||0)}(E.dosPermissions)),p=rt.getUTCHours(),p<<=6,p|=rt.getUTCMinutes(),p<<=5,p|=rt.getUTCSeconds()/2,x=rt.getUTCFullYear()-1980,x<<=4,x|=rt.getUTCMonth()+1,x<<=5,x|=rt.getUTCDate(),B&&(nt=i(1,1)+i(y(I),4)+P,H+="up"+i(nt.length,2)+nt),O&&(Y=i(1,1)+i(y(N),4)+A,H+="uc"+i(Y.length,2)+Y);var pt="";return pt+=`
\0`,pt+=i(G,2),pt+=f.magic,pt+=i(p,2),pt+=i(x,2),pt+=i(ut.crc32,4),pt+=i(ut.compressedSize,4),pt+=i(ut.uncompressedSize,4),pt+=i(I.length,2),pt+=i(H.length,2),{fileRecord:_.LOCAL_FILE_HEADER+pt+I+H,dirRecord:_.CENTRAL_FILE_HEADER+i(gt,2)+pt+i(N.length,2)+"\0\0\0\0"+i(it,4)+i(v,4)+I+H+N}}var u=r("../utils"),l=r("../stream/GenericWorker"),C=r("../utf8"),y=r("../crc32"),_=r("../signature");function a(c,w,s,v){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=w,this.zipPlatform=s,this.encodeFileName=v,this.streamFiles=c,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}u.inherits(a,l),a.prototype.push=function(c){var w=c.meta.percent||0,s=this.entriesCount,v=this._sources.length;this.accumulate?this.contentBuffer.push(c):(this.bytesWritten+=c.data.length,l.prototype.push.call(this,{data:c.data,meta:{currentFile:this.currentFile,percent:s?(w+100*(s-v-1))/s:100}}))},a.prototype.openedSource=function(c){this.currentSourceOffset=this.bytesWritten,this.currentFile=c.file.name;var w=this.streamFiles&&!c.file.dir;if(w){var s=h(c,w,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:s.fileRecord,meta:{percent:0}})}else this.accumulate=!0},a.prototype.closedSource=function(c){this.accumulate=!1;var w=this.streamFiles&&!c.file.dir,s=h(c,w,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(s.dirRecord),w)this.push({data:function(v){return _.DATA_DESCRIPTOR+i(v.crc32,4)+i(v.compressedSize,4)+i(v.uncompressedSize,4)}(c),meta:{percent:100}});else for(this.push({data:s.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},a.prototype.flush=function(){for(var c=this.bytesWritten,w=0;w<this.dirRecords.length;w++)this.push({data:this.dirRecords[w],meta:{percent:100}});var s=this.bytesWritten-c,v=function(d,b,p,x,E){var f=u.transformTo("string",E(x));return _.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(d,2)+i(d,2)+i(b,4)+i(p,4)+i(f.length,2)+f}(this.dirRecords.length,s,c,this.zipComment,this.encodeFileName);this.push({data:v,meta:{percent:100}})},a.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},a.prototype.registerPrevious=function(c){this._sources.push(c);var w=this;return c.on("data",function(s){w.processChunk(s)}),c.on("end",function(){w.closedSource(w.previous.streamInfo),w._sources.length?w.prepareNextSource():w.end()}),c.on("error",function(s){w.error(s)}),this},a.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},a.prototype.error=function(c){var w=this._sources;if(!l.prototype.error.call(this,c))return!1;for(var s=0;s<w.length;s++)try{w[s].error(c)}catch(v){}return!0},a.prototype.lock=function(){l.prototype.lock.call(this);for(var c=this._sources,w=0;w<c.length;w++)c[w].lock()},o.exports=a},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,o,n){var i=r("../compressions"),h=r("./ZipFileWorker");n.generateWorker=function(u,l,C){var y=new h(l.streamFiles,C,l.platform,l.encodeFileName),_=0;try{u.forEach(function(a,c){_++;var w=function(b,p){var x=b||p,E=i[x];if(!E)throw new Error(x+" is not a valid compression method !");return E}(c.options.compression,l.compression),s=c.options.compressionOptions||l.compressionOptions||{},v=c.dir,d=c.date;c._compressWorker(w,s).withStreamInfo("file",{name:a,dir:v,date:d,comment:c.comment||"",unixPermissions:c.unixPermissions,dosPermissions:c.dosPermissions}).pipe(y)}),y.entriesCount=_}catch(a){y.error(a)}return y}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,o,n){function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var h=new i;for(var u in this)typeof this[u]!="function"&&(h[u]=this[u]);return h}}(i.prototype=r("./object")).loadAsync=r("./load"),i.support=r("./support"),i.defaults=r("./defaults"),i.version="3.10.1",i.loadAsync=function(h,u){return new i().loadAsync(h,u)},i.external=r("./external"),o.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,o,n){var i=r("./utils"),h=r("./external"),u=r("./utf8"),l=r("./zipEntries"),C=r("./stream/Crc32Probe"),y=r("./nodejsUtils");function _(a){return new h.Promise(function(c,w){var s=a.decompressed.getContentWorker().pipe(new C);s.on("error",function(v){w(v)}).on("end",function(){s.streamInfo.crc32!==a.decompressed.crc32?w(new Error("Corrupted zip : CRC32 mismatch")):c()}).resume()})}o.exports=function(a,c){var w=this;return c=i.extend(c||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:u.utf8decode}),y.isNode&&y.isStream(a)?h.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",a,!0,c.optimizedBinaryString,c.base64).then(function(s){var v=new l(c);return v.load(s),v}).then(function(s){var v=[h.Promise.resolve(s)],d=s.files;if(c.checkCRC32)for(var b=0;b<d.length;b++)v.push(_(d[b]));return h.Promise.all(v)}).then(function(s){for(var v=s.shift(),d=v.files,b=0;b<d.length;b++){var p=d[b],x=p.fileNameStr,E=i.resolve(p.fileNameStr);w.file(E,p.decompressed,{binary:!0,optimizedBinaryString:!0,date:p.date,dir:p.dir,comment:p.fileCommentStr.length?p.fileCommentStr:null,unixPermissions:p.unixPermissions,dosPermissions:p.dosPermissions,createFolders:c.createFolders}),p.dir||(w.file(E).unsafeOriginalName=x)}return v.zipComment.length&&(w.comment=v.zipComment),w})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,o,n){var i=r("../utils"),h=r("../stream/GenericWorker");function u(l,C){h.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(C)}i.inherits(u,h),u.prototype._bindStream=function(l){var C=this;(this._stream=l).pause(),l.on("data",function(y){C.push({data:y,meta:{percent:0}})}).on("error",function(y){C.isPaused?this.generatedError=y:C.error(y)}).on("end",function(){C.isPaused?C._upstreamEnded=!0:C.end()})},u.prototype.pause=function(){return!!h.prototype.pause.call(this)&&(this._stream.pause(),!0)},u.prototype.resume=function(){return!!h.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},o.exports=u},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,o,n){var i=r("readable-stream").Readable;function h(u,l,C){i.call(this,l),this._helper=u;var y=this;u.on("data",function(_,a){y.push(_)||y._helper.pause(),C&&C(a)}).on("error",function(_){y.emit("error",_)}).on("end",function(){y.push(null)})}r("../utils").inherits(h,i),h.prototype._read=function(){this._helper.resume()},o.exports=h},{"../utils":32,"readable-stream":16}],14:[function(r,o,n){o.exports={isNode:typeof Buffer!="undefined",newBufferFrom:function(i,h){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(i,h);if(typeof i=="number")throw new Error('The "data" argument must not be a number');return new Buffer(i,h)},allocBuffer:function(i){if(Buffer.alloc)return Buffer.alloc(i);var h=new Buffer(i);return h.fill(0),h},isBuffer:function(i){return Buffer.isBuffer(i)},isStream:function(i){return i&&typeof i.on=="function"&&typeof i.pause=="function"&&typeof i.resume=="function"}}},{}],15:[function(r,o,n){function i(E,f,S){var I,P=u.getTypeOf(f),T=u.extend(S||{},y);T.date=T.date||new Date,T.compression!==null&&(T.compression=T.compression.toUpperCase()),typeof T.unixPermissions=="string"&&(T.unixPermissions=parseInt(T.unixPermissions,8)),T.unixPermissions&&16384&T.unixPermissions&&(T.dir=!0),T.dosPermissions&&16&T.dosPermissions&&(T.dir=!0),T.dir&&(E=d(E)),T.createFolders&&(I=v(E))&&b.call(this,I,!0);var N=P==="string"&&T.binary===!1&&T.base64===!1;S&&S.binary!==void 0||(T.binary=!N),(f instanceof _&&f.uncompressedSize===0||T.dir||!f||f.length===0)&&(T.base64=!1,T.binary=!0,f="",T.compression="STORE",P="string");var A=null;A=f instanceof _||f instanceof l?f:w.isNode&&w.isStream(f)?new s(E,f):u.prepareContent(E,f,T.binary,T.optimizedBinaryString,T.base64);var B=new a(E,A,T);this.files[E]=B}var h=r("./utf8"),u=r("./utils"),l=r("./stream/GenericWorker"),C=r("./stream/StreamHelper"),y=r("./defaults"),_=r("./compressedObject"),a=r("./zipObject"),c=r("./generate"),w=r("./nodejsUtils"),s=r("./nodejs/NodejsStreamInputAdapter"),v=function(E){E.slice(-1)==="/"&&(E=E.substring(0,E.length-1));var f=E.lastIndexOf("/");return 0<f?E.substring(0,f):""},d=function(E){return E.slice(-1)!=="/"&&(E+="/"),E},b=function(E,f){return f=f!==void 0?f:y.createFolders,E=d(E),this.files[E]||i.call(this,E,null,{dir:!0,createFolders:f}),this.files[E]};function p(E){return Object.prototype.toString.call(E)==="[object RegExp]"}var x={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(E){var f,S,I;for(f in this.files)I=this.files[f],(S=f.slice(this.root.length,f.length))&&f.slice(0,this.root.length)===this.root&&E(S,I)},filter:function(E){var f=[];return this.forEach(function(S,I){E(S,I)&&f.push(I)}),f},file:function(E,f,S){if(arguments.length!==1)return E=this.root+E,i.call(this,E,f,S),this;if(p(E)){var I=E;return this.filter(function(T,N){return!N.dir&&I.test(T)})}var P=this.files[this.root+E];return P&&!P.dir?P:null},folder:function(E){if(!E)return this;if(p(E))return this.filter(function(P,T){return T.dir&&E.test(P)});var f=this.root+E,S=b.call(this,f),I=this.clone();return I.root=S.name,I},remove:function(E){E=this.root+E;var f=this.files[E];if(f||(E.slice(-1)!=="/"&&(E+="/"),f=this.files[E]),f&&!f.dir)delete this.files[E];else for(var S=this.filter(function(P,T){return T.name.slice(0,E.length)===E}),I=0;I<S.length;I++)delete this.files[S[I].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(E){var f,S={};try{if((S=u.extend(E||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:h.utf8encode})).type=S.type.toLowerCase(),S.compression=S.compression.toUpperCase(),S.type==="binarystring"&&(S.type="string"),!S.type)throw new Error("No output type specified.");u.checkSupport(S.type),S.platform!=="darwin"&&S.platform!=="freebsd"&&S.platform!=="linux"&&S.platform!=="sunos"||(S.platform="UNIX"),S.platform==="win32"&&(S.platform="DOS");var I=S.comment||this.comment||"";f=c.generateWorker(this,S,I)}catch(P){(f=new l("error")).error(P)}return new C(f,S.type||"string",S.mimeType)},generateAsync:function(E,f){return this.generateInternalStream(E).accumulate(f)},generateNodeStream:function(E,f){return(E=E||{}).type||(E.type="nodebuffer"),this.generateInternalStream(E).toNodejsStream(f)}};o.exports=x},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,o,n){o.exports=r("stream")},{stream:void 0}],17:[function(r,o,n){var i=r("./DataReader");function h(u){i.call(this,u);for(var l=0;l<this.data.length;l++)u[l]=255&u[l]}r("../utils").inherits(h,i),h.prototype.byteAt=function(u){return this.data[this.zero+u]},h.prototype.lastIndexOfSignature=function(u){for(var l=u.charCodeAt(0),C=u.charCodeAt(1),y=u.charCodeAt(2),_=u.charCodeAt(3),a=this.length-4;0<=a;--a)if(this.data[a]===l&&this.data[a+1]===C&&this.data[a+2]===y&&this.data[a+3]===_)return a-this.zero;return-1},h.prototype.readAndCheckSignature=function(u){var l=u.charCodeAt(0),C=u.charCodeAt(1),y=u.charCodeAt(2),_=u.charCodeAt(3),a=this.readData(4);return l===a[0]&&C===a[1]&&y===a[2]&&_===a[3]},h.prototype.readData=function(u){if(this.checkOffset(u),u===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,l},o.exports=h},{"../utils":32,"./DataReader":18}],18:[function(r,o,n){var i=r("../utils");function h(u){this.data=u,this.length=u.length,this.index=0,this.zero=0}h.prototype={checkOffset:function(u){this.checkIndex(this.index+u)},checkIndex:function(u){if(this.length<this.zero+u||u<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+u+"). Corrupted zip ?")},setIndex:function(u){this.checkIndex(u),this.index=u},skip:function(u){this.setIndex(this.index+u)},byteAt:function(){},readInt:function(u){var l,C=0;for(this.checkOffset(u),l=this.index+u-1;l>=this.index;l--)C=(C<<8)+this.byteAt(l);return this.index+=u,C},readString:function(u){return i.transformTo("string",this.readData(u))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var u=this.readInt(4);return new Date(Date.UTC(1980+(u>>25&127),(u>>21&15)-1,u>>16&31,u>>11&31,u>>5&63,(31&u)<<1))}},o.exports=h},{"../utils":32}],19:[function(r,o,n){var i=r("./Uint8ArrayReader");function h(u){i.call(this,u)}r("../utils").inherits(h,i),h.prototype.readData=function(u){this.checkOffset(u);var l=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,l},o.exports=h},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,o,n){var i=r("./DataReader");function h(u){i.call(this,u)}r("../utils").inherits(h,i),h.prototype.byteAt=function(u){return this.data.charCodeAt(this.zero+u)},h.prototype.lastIndexOfSignature=function(u){return this.data.lastIndexOf(u)-this.zero},h.prototype.readAndCheckSignature=function(u){return u===this.readData(4)},h.prototype.readData=function(u){this.checkOffset(u);var l=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,l},o.exports=h},{"../utils":32,"./DataReader":18}],21:[function(r,o,n){var i=r("./ArrayReader");function h(u){i.call(this,u)}r("../utils").inherits(h,i),h.prototype.readData=function(u){if(this.checkOffset(u),u===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+u);return this.index+=u,l},o.exports=h},{"../utils":32,"./ArrayReader":17}],22:[function(r,o,n){var i=r("../utils"),h=r("../support"),u=r("./ArrayReader"),l=r("./StringReader"),C=r("./NodeBufferReader"),y=r("./Uint8ArrayReader");o.exports=function(_){var a=i.getTypeOf(_);return i.checkSupport(a),a!=="string"||h.uint8array?a==="nodebuffer"?new C(_):h.uint8array?new y(i.transformTo("uint8array",_)):new u(i.transformTo("array",_)):new l(_)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,o,n){n.LOCAL_FILE_HEADER="PK",n.CENTRAL_FILE_HEADER="PK",n.CENTRAL_DIRECTORY_END="PK",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",n.ZIP64_CENTRAL_DIRECTORY_END="PK",n.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,o,n){var i=r("./GenericWorker"),h=r("../utils");function u(l){i.call(this,"ConvertWorker to "+l),this.destType=l}h.inherits(u,i),u.prototype.processChunk=function(l){this.push({data:h.transformTo(this.destType,l.data),meta:l.meta})},o.exports=u},{"../utils":32,"./GenericWorker":28}],25:[function(r,o,n){var i=r("./GenericWorker"),h=r("../crc32");function u(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(u,i),u.prototype.processChunk=function(l){this.streamInfo.crc32=h(l.data,this.streamInfo.crc32||0),this.push(l)},o.exports=u},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,o,n){var i=r("../utils"),h=r("./GenericWorker");function u(l){h.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}i.inherits(u,h),u.prototype.processChunk=function(l){if(l){var C=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=C+l.data.length}h.prototype.processChunk.call(this,l)},o.exports=u},{"../utils":32,"./GenericWorker":28}],27:[function(r,o,n){var i=r("../utils"),h=r("./GenericWorker");function u(l){h.call(this,"DataWorker");var C=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(y){C.dataIsReady=!0,C.data=y,C.max=y&&y.length||0,C.type=i.getTypeOf(y),C.isPaused||C._tickAndRepeat()},function(y){C.error(y)})}i.inherits(u,h),u.prototype.cleanUp=function(){h.prototype.cleanUp.call(this),this.data=null},u.prototype.resume=function(){return!!h.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},u.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},u.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,C=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,C);break;case"uint8array":l=this.data.subarray(this.index,C);break;case"array":case"nodebuffer":l=this.data.slice(this.index,C)}return this.index=C,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},o.exports=u},{"../utils":32,"./GenericWorker":28}],28:[function(r,o,n){function i(h){this.name=h||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(h){this.emit("data",h)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(h){this.emit("error",h)}return!0},error:function(h){return!this.isFinished&&(this.isPaused?this.generatedError=h:(this.isFinished=!0,this.emit("error",h),this.previous&&this.previous.error(h),this.cleanUp()),!0)},on:function(h,u){return this._listeners[h].push(u),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(h,u){if(this._listeners[h])for(var l=0;l<this._listeners[h].length;l++)this._listeners[h][l].call(this,u)},pipe:function(h){return h.registerPrevious(this)},registerPrevious:function(h){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=h.streamInfo,this.mergeStreamInfo(),this.previous=h;var u=this;return h.on("data",function(l){u.processChunk(l)}),h.on("end",function(){u.end()}),h.on("error",function(l){u.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var h=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),h=!0),this.previous&&this.previous.resume(),!h},flush:function(){},processChunk:function(h){this.push(h)},withStreamInfo:function(h,u){return this.extraStreamInfo[h]=u,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var h in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,h)&&(this.streamInfo[h]=this.extraStreamInfo[h])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var h="Worker "+this.name;return this.previous?this.previous+" -> "+h:h}},o.exports=i},{}],29:[function(r,o,n){var i=r("../utils"),h=r("./ConvertWorker"),u=r("./GenericWorker"),l=r("../base64"),C=r("../support"),y=r("../external"),_=null;if(C.nodestream)try{_=r("../nodejs/NodejsStreamOutputAdapter")}catch(w){}function a(w,s){return new y.Promise(function(v,d){var b=[],p=w._internalType,x=w._outputType,E=w._mimeType;w.on("data",function(f,S){b.push(f),s&&s(S)}).on("error",function(f){b=[],d(f)}).on("end",function(){try{var f=function(S,I,P){switch(S){case"blob":return i.newBlob(i.transformTo("arraybuffer",I),P);case"base64":return l.encode(I);default:return i.transformTo(S,I)}}(x,function(S,I){var P,T=0,N=null,A=0;for(P=0;P<I.length;P++)A+=I[P].length;switch(S){case"string":return I.join("");case"array":return Array.prototype.concat.apply([],I);case"uint8array":for(N=new Uint8Array(A),P=0;P<I.length;P++)N.set(I[P],T),T+=I[P].length;return N;case"nodebuffer":return Buffer.concat(I);default:throw new Error("concat : unsupported type '"+S+"'")}}(p,b),E);v(f)}catch(S){d(S)}b=[]}).resume()})}function c(w,s,v){var d=s;switch(s){case"blob":case"arraybuffer":d="uint8array";break;case"base64":d="string"}try{this._internalType=d,this._outputType=s,this._mimeType=v,i.checkSupport(d),this._worker=w.pipe(new h(d)),w.lock()}catch(b){this._worker=new u("error"),this._worker.error(b)}}c.prototype={accumulate:function(w){return a(this,w)},on:function(w,s){var v=this;return w==="data"?this._worker.on(w,function(d){s.call(v,d.data,d.meta)}):this._worker.on(w,function(){i.delay(s,arguments,v)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(w){if(i.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new _(this,{objectMode:this._outputType!=="nodebuffer"},w)}},o.exports=c},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,o,n){if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer=typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined",n.nodebuffer=typeof Buffer!="undefined",n.uint8array=typeof Uint8Array!="undefined",typeof ArrayBuffer=="undefined")n.blob=!1;else{var i=new ArrayBuffer(0);try{n.blob=new Blob([i],{type:"application/zip"}).size===0}catch(u){try{var h=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);h.append(i),n.blob=h.getBlob("application/zip").size===0}catch(l){n.blob=!1}}}try{n.nodestream=!!r("readable-stream").Readable}catch(u){n.nodestream=!1}},{"readable-stream":16}],31:[function(r,o,n){for(var i=r("./utils"),h=r("./support"),u=r("./nodejsUtils"),l=r("./stream/GenericWorker"),C=new Array(256),y=0;y<256;y++)C[y]=252<=y?6:248<=y?5:240<=y?4:224<=y?3:192<=y?2:1;C[254]=C[254]=1;function _(){l.call(this,"utf-8 decode"),this.leftOver=null}function a(){l.call(this,"utf-8 encode")}n.utf8encode=function(c){return h.nodebuffer?u.newBufferFrom(c,"utf-8"):function(w){var s,v,d,b,p,x=w.length,E=0;for(b=0;b<x;b++)(64512&(v=w.charCodeAt(b)))==55296&&b+1<x&&(64512&(d=w.charCodeAt(b+1)))==56320&&(v=65536+(v-55296<<10)+(d-56320),b++),E+=v<128?1:v<2048?2:v<65536?3:4;for(s=h.uint8array?new Uint8Array(E):new Array(E),b=p=0;p<E;b++)(64512&(v=w.charCodeAt(b)))==55296&&b+1<x&&(64512&(d=w.charCodeAt(b+1)))==56320&&(v=65536+(v-55296<<10)+(d-56320),b++),v<128?s[p++]=v:(v<2048?s[p++]=192|v>>>6:(v<65536?s[p++]=224|v>>>12:(s[p++]=240|v>>>18,s[p++]=128|v>>>12&63),s[p++]=128|v>>>6&63),s[p++]=128|63&v);return s}(c)},n.utf8decode=function(c){return h.nodebuffer?i.transformTo("nodebuffer",c).toString("utf-8"):function(w){var s,v,d,b,p=w.length,x=new Array(2*p);for(s=v=0;s<p;)if((d=w[s++])<128)x[v++]=d;else if(4<(b=C[d]))x[v++]=65533,s+=b-1;else{for(d&=b===2?31:b===3?15:7;1<b&&s<p;)d=d<<6|63&w[s++],b--;1<b?x[v++]=65533:d<65536?x[v++]=d:(d-=65536,x[v++]=55296|d>>10&1023,x[v++]=56320|1023&d)}return x.length!==v&&(x.subarray?x=x.subarray(0,v):x.length=v),i.applyFromCharCode(x)}(c=i.transformTo(h.uint8array?"uint8array":"array",c))},i.inherits(_,l),_.prototype.processChunk=function(c){var w=i.transformTo(h.uint8array?"uint8array":"array",c.data);if(this.leftOver&&this.leftOver.length){if(h.uint8array){var s=w;(w=new Uint8Array(s.length+this.leftOver.length)).set(this.leftOver,0),w.set(s,this.leftOver.length)}else w=this.leftOver.concat(w);this.leftOver=null}var v=function(b,p){var x;for((p=p||b.length)>b.length&&(p=b.length),x=p-1;0<=x&&(192&b[x])==128;)x--;return x<0||x===0?p:x+C[b[x]]>p?x:p}(w),d=w;v!==w.length&&(h.uint8array?(d=w.subarray(0,v),this.leftOver=w.subarray(v,w.length)):(d=w.slice(0,v),this.leftOver=w.slice(v,w.length))),this.push({data:n.utf8decode(d),meta:c.meta})},_.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=_,i.inherits(a,l),a.prototype.processChunk=function(c){this.push({data:n.utf8encode(c.data),meta:c.meta})},n.Utf8EncodeWorker=a},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,o,n){var i=r("./support"),h=r("./base64"),u=r("./nodejsUtils"),l=r("./external");function C(s){return s}function y(s,v){for(var d=0;d<s.length;++d)v[d]=255&s.charCodeAt(d);return v}r("setimmediate"),n.newBlob=function(s,v){n.checkSupport("blob");try{return new Blob([s],{type:v})}catch(b){try{var d=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return d.append(s),d.getBlob(v)}catch(p){throw new Error("Bug : can't construct the Blob.")}}};var _={stringifyByChunk:function(s,v,d){var b=[],p=0,x=s.length;if(x<=d)return String.fromCharCode.apply(null,s);for(;p<x;)v==="array"||v==="nodebuffer"?b.push(String.fromCharCode.apply(null,s.slice(p,Math.min(p+d,x)))):b.push(String.fromCharCode.apply(null,s.subarray(p,Math.min(p+d,x)))),p+=d;return b.join("")},stringifyByChar:function(s){for(var v="",d=0;d<s.length;d++)v+=String.fromCharCode(s[d]);return v},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch(s){return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&String.fromCharCode.apply(null,u.allocBuffer(1)).length===1}catch(s){return!1}}()}};function a(s){var v=65536,d=n.getTypeOf(s),b=!0;if(d==="uint8array"?b=_.applyCanBeUsed.uint8array:d==="nodebuffer"&&(b=_.applyCanBeUsed.nodebuffer),b)for(;1<v;)try{return _.stringifyByChunk(s,d,v)}catch(p){v=Math.floor(v/2)}return _.stringifyByChar(s)}function c(s,v){for(var d=0;d<s.length;d++)v[d]=s[d];return v}n.applyFromCharCode=a;var w={};w.string={string:C,array:function(s){return y(s,new Array(s.length))},arraybuffer:function(s){return w.string.uint8array(s).buffer},uint8array:function(s){return y(s,new Uint8Array(s.length))},nodebuffer:function(s){return y(s,u.allocBuffer(s.length))}},w.array={string:a,array:C,arraybuffer:function(s){return new Uint8Array(s).buffer},uint8array:function(s){return new Uint8Array(s)},nodebuffer:function(s){return u.newBufferFrom(s)}},w.arraybuffer={string:function(s){return a(new Uint8Array(s))},array:function(s){return c(new Uint8Array(s),new Array(s.byteLength))},arraybuffer:C,uint8array:function(s){return new Uint8Array(s)},nodebuffer:function(s){return u.newBufferFrom(new Uint8Array(s))}},w.uint8array={string:a,array:function(s){return c(s,new Array(s.length))},arraybuffer:function(s){return s.buffer},uint8array:C,nodebuffer:function(s){return u.newBufferFrom(s)}},w.nodebuffer={string:a,array:function(s){return c(s,new Array(s.length))},arraybuffer:function(s){return w.nodebuffer.uint8array(s).buffer},uint8array:function(s){return c(s,new Uint8Array(s.length))},nodebuffer:C},n.transformTo=function(s,v){if(v=v||"",!s)return v;n.checkSupport(s);var d=n.getTypeOf(v);return w[d][s](v)},n.resolve=function(s){for(var v=s.split("/"),d=[],b=0;b<v.length;b++){var p=v[b];p==="."||p===""&&b!==0&&b!==v.length-1||(p===".."?d.pop():d.push(p))}return d.join("/")},n.getTypeOf=function(s){return typeof s=="string"?"string":Object.prototype.toString.call(s)==="[object Array]"?"array":i.nodebuffer&&u.isBuffer(s)?"nodebuffer":i.uint8array&&s instanceof Uint8Array?"uint8array":i.arraybuffer&&s instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(s){if(!i[s.toLowerCase()])throw new Error(s+" is not supported by this platform")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(s){var v,d,b="";for(d=0;d<(s||"").length;d++)b+="\\x"+((v=s.charCodeAt(d))<16?"0":"")+v.toString(16).toUpperCase();return b},n.delay=function(s,v,d){setImmediate(function(){s.apply(d||null,v||[])})},n.inherits=function(s,v){function d(){}d.prototype=v.prototype,s.prototype=new d},n.extend=function(){var s,v,d={};for(s=0;s<arguments.length;s++)for(v in arguments[s])Object.prototype.hasOwnProperty.call(arguments[s],v)&&d[v]===void 0&&(d[v]=arguments[s][v]);return d},n.prepareContent=function(s,v,d,b,p){return l.Promise.resolve(v).then(function(x){return i.blob&&(x instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(x))!==-1)&&typeof FileReader!="undefined"?new l.Promise(function(E,f){var S=new FileReader;S.onload=function(I){E(I.target.result)},S.onerror=function(I){f(I.target.error)},S.readAsArrayBuffer(x)}):x}).then(function(x){var E=n.getTypeOf(x);return E?(E==="arraybuffer"?x=n.transformTo("uint8array",x):E==="string"&&(p?x=h.decode(x):d&&b!==!0&&(x=function(f){return y(f,i.uint8array?new Uint8Array(f.length):new Array(f.length))}(x))),x):l.Promise.reject(new Error("Can't read the data of '"+s+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,o,n){var i=r("./reader/readerFor"),h=r("./utils"),u=r("./signature"),l=r("./zipEntry"),C=r("./support");function y(_){this.files=[],this.loadOptions=_}y.prototype={checkSignature:function(_){if(!this.reader.readAndCheckSignature(_)){this.reader.index-=4;var a=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+h.pretty(a)+", expected "+h.pretty(_)+")")}},isSignature:function(_,a){var c=this.reader.index;this.reader.setIndex(_);var w=this.reader.readString(4)===a;return this.reader.setIndex(c),w},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var _=this.reader.readData(this.zipCommentLength),a=C.uint8array?"uint8array":"array",c=h.transformTo(a,_);this.zipComment=this.loadOptions.decodeFileName(c)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var _,a,c,w=this.zip64EndOfCentralSize-44;0<w;)_=this.reader.readInt(2),a=this.reader.readInt(4),c=this.reader.readData(a),this.zip64ExtensibleData[_]={id:_,length:a,value:c}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var _,a;for(_=0;_<this.files.length;_++)a=this.files[_],this.reader.setIndex(a.localHeaderOffset),this.checkSignature(u.LOCAL_FILE_HEADER),a.readLocalPart(this.reader),a.handleUTF8(),a.processAttributes()},readCentralDir:function(){var _;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(u.CENTRAL_FILE_HEADER);)(_=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(_);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var _=this.reader.lastIndexOfSignature(u.CENTRAL_DIRECTORY_END);if(_<0)throw this.isSignature(0,u.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(_);var a=_;if(this.checkSignature(u.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===h.MAX_VALUE_16BITS||this.diskWithCentralDirStart===h.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===h.MAX_VALUE_16BITS||this.centralDirRecords===h.MAX_VALUE_16BITS||this.centralDirSize===h.MAX_VALUE_32BITS||this.centralDirOffset===h.MAX_VALUE_32BITS){if(this.zip64=!0,(_=this.reader.lastIndexOfSignature(u.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(_),this.checkSignature(u.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,u.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(u.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(u.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var c=this.centralDirOffset+this.centralDirSize;this.zip64&&(c+=20,c+=12+this.zip64EndOfCentralSize);var w=a-c;if(0<w)this.isSignature(a,u.CENTRAL_FILE_HEADER)||(this.reader.zero=w);else if(w<0)throw new Error("Corrupted zip: missing "+Math.abs(w)+" bytes.")},prepareReader:function(_){this.reader=i(_)},load:function(_){this.prepareReader(_),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},o.exports=y},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,o,n){var i=r("./reader/readerFor"),h=r("./utils"),u=r("./compressedObject"),l=r("./crc32"),C=r("./utf8"),y=r("./compressions"),_=r("./support");function a(c,w){this.options=c,this.loadOptions=w}a.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(c){var w,s;if(c.skip(22),this.fileNameLength=c.readInt(2),s=c.readInt(2),this.fileName=c.readData(this.fileNameLength),c.skip(s),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((w=function(v){for(var d in y)if(Object.prototype.hasOwnProperty.call(y,d)&&y[d].magic===v)return y[d];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+h.pretty(this.compressionMethod)+" unknown (inner file : "+h.transformTo("string",this.fileName)+")");this.decompressed=new u(this.compressedSize,this.uncompressedSize,this.crc32,w,c.readData(this.compressedSize))},readCentralPart:function(c){this.versionMadeBy=c.readInt(2),c.skip(2),this.bitFlag=c.readInt(2),this.compressionMethod=c.readString(2),this.date=c.readDate(),this.crc32=c.readInt(4),this.compressedSize=c.readInt(4),this.uncompressedSize=c.readInt(4);var w=c.readInt(2);if(this.extraFieldsLength=c.readInt(2),this.fileCommentLength=c.readInt(2),this.diskNumberStart=c.readInt(2),this.internalFileAttributes=c.readInt(2),this.externalFileAttributes=c.readInt(4),this.localHeaderOffset=c.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");c.skip(w),this.readExtraFields(c),this.parseZIP64ExtraField(c),this.fileComment=c.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var c=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),c==0&&(this.dosPermissions=63&this.externalFileAttributes),c==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var c=i(this.extraFields[1].value);this.uncompressedSize===h.MAX_VALUE_32BITS&&(this.uncompressedSize=c.readInt(8)),this.compressedSize===h.MAX_VALUE_32BITS&&(this.compressedSize=c.readInt(8)),this.localHeaderOffset===h.MAX_VALUE_32BITS&&(this.localHeaderOffset=c.readInt(8)),this.diskNumberStart===h.MAX_VALUE_32BITS&&(this.diskNumberStart=c.readInt(4))}},readExtraFields:function(c){var w,s,v,d=c.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});c.index+4<d;)w=c.readInt(2),s=c.readInt(2),v=c.readData(s),this.extraFields[w]={id:w,length:s,value:v};c.setIndex(d)},handleUTF8:function(){var c=_.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=C.utf8decode(this.fileName),this.fileCommentStr=C.utf8decode(this.fileComment);else{var w=this.findExtraFieldUnicodePath();if(w!==null)this.fileNameStr=w;else{var s=h.transformTo(c,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(s)}var v=this.findExtraFieldUnicodeComment();if(v!==null)this.fileCommentStr=v;else{var d=h.transformTo(c,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(d)}}},findExtraFieldUnicodePath:function(){var c=this.extraFields[28789];if(c){var w=i(c.value);return w.readInt(1)!==1||l(this.fileName)!==w.readInt(4)?null:C.utf8decode(w.readData(c.length-5))}return null},findExtraFieldUnicodeComment:function(){var c=this.extraFields[25461];if(c){var w=i(c.value);return w.readInt(1)!==1||l(this.fileComment)!==w.readInt(4)?null:C.utf8decode(w.readData(c.length-5))}return null}},o.exports=a},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,o,n){function i(w,s,v){this.name=w,this.dir=v.dir,this.date=v.date,this.comment=v.comment,this.unixPermissions=v.unixPermissions,this.dosPermissions=v.dosPermissions,this._data=s,this._dataBinary=v.binary,this.options={compression:v.compression,compressionOptions:v.compressionOptions}}var h=r("./stream/StreamHelper"),u=r("./stream/DataWorker"),l=r("./utf8"),C=r("./compressedObject"),y=r("./stream/GenericWorker");i.prototype={internalStream:function(w){var s=null,v="string";try{if(!w)throw new Error("No output type specified.");var d=(v=w.toLowerCase())==="string"||v==="text";v!=="binarystring"&&v!=="text"||(v="string"),s=this._decompressWorker();var b=!this._dataBinary;b&&!d&&(s=s.pipe(new l.Utf8EncodeWorker)),!b&&d&&(s=s.pipe(new l.Utf8DecodeWorker))}catch(p){(s=new y("error")).error(p)}return new h(s,v,"")},async:function(w,s){return this.internalStream(w).accumulate(s)},nodeStream:function(w,s){return this.internalStream(w||"nodebuffer").toNodejsStream(s)},_compressWorker:function(w,s){if(this._data instanceof C&&this._data.compression.magic===w.magic)return this._data.getCompressedWorker();var v=this._decompressWorker();return this._dataBinary||(v=v.pipe(new l.Utf8EncodeWorker)),C.createWorkerFrom(v,w,s)},_decompressWorker:function(){return this._data instanceof C?this._data.getContentWorker():this._data instanceof y?this._data:new u(this._data)}};for(var _=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],a=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},c=0;c<_.length;c++)i.prototype[_[c]]=a;o.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,o,n){(function(i){var h,u,l=i.MutationObserver||i.WebKitMutationObserver;if(l){var C=0,y=new l(w),_=i.document.createTextNode("");y.observe(_,{characterData:!0}),h=function(){_.data=C=++C%2}}else if(i.setImmediate||i.MessageChannel===void 0)h="document"in i&&"onreadystatechange"in i.document.createElement("script")?function(){var s=i.document.createElement("script");s.onreadystatechange=function(){w(),s.onreadystatechange=null,s.parentNode.removeChild(s),s=null},i.document.documentElement.appendChild(s)}:function(){setTimeout(w,0)};else{var a=new i.MessageChannel;a.port1.onmessage=w,h=function(){a.port2.postMessage(0)}}var c=[];function w(){var s,v;u=!0;for(var d=c.length;d;){for(v=c,c=[],s=-1;++s<d;)v[s]();d=c.length}u=!1}o.exports=function(s){c.push(s)!==1||u||h()}}).call(this,typeof Fi!="undefined"?Fi:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],37:[function(r,o,n){var i=r("immediate");function h(){}var u={},l=["REJECTED"],C=["FULFILLED"],y=["PENDING"];function _(d){if(typeof d!="function")throw new TypeError("resolver must be a function");this.state=y,this.queue=[],this.outcome=void 0,d!==h&&s(this,d)}function a(d,b,p){this.promise=d,typeof b=="function"&&(this.onFulfilled=b,this.callFulfilled=this.otherCallFulfilled),typeof p=="function"&&(this.onRejected=p,this.callRejected=this.otherCallRejected)}function c(d,b,p){i(function(){var x;try{x=b(p)}catch(E){return u.reject(d,E)}x===d?u.reject(d,new TypeError("Cannot resolve promise with itself")):u.resolve(d,x)})}function w(d){var b=d&&d.then;if(d&&(typeof d=="object"||typeof d=="function")&&typeof b=="function")return function(){b.apply(d,arguments)}}function s(d,b){var p=!1;function x(S){p||(p=!0,u.reject(d,S))}function E(S){p||(p=!0,u.resolve(d,S))}var f=v(function(){b(E,x)});f.status==="error"&&x(f.value)}function v(d,b){var p={};try{p.value=d(b),p.status="success"}catch(x){p.status="error",p.value=x}return p}(o.exports=_).prototype.finally=function(d){if(typeof d!="function")return this;var b=this.constructor;return this.then(function(p){return b.resolve(d()).then(function(){return p})},function(p){return b.resolve(d()).then(function(){throw p})})},_.prototype.catch=function(d){return this.then(null,d)},_.prototype.then=function(d,b){if(typeof d!="function"&&this.state===C||typeof b!="function"&&this.state===l)return this;var p=new this.constructor(h);return this.state!==y?c(p,this.state===C?d:b,this.outcome):this.queue.push(new a(p,d,b)),p},a.prototype.callFulfilled=function(d){u.resolve(this.promise,d)},a.prototype.otherCallFulfilled=function(d){c(this.promise,this.onFulfilled,d)},a.prototype.callRejected=function(d){u.reject(this.promise,d)},a.prototype.otherCallRejected=function(d){c(this.promise,this.onRejected,d)},u.resolve=function(d,b){var p=v(w,b);if(p.status==="error")return u.reject(d,p.value);var x=p.value;if(x)s(d,x);else{d.state=C,d.outcome=b;for(var E=-1,f=d.queue.length;++E<f;)d.queue[E].callFulfilled(b)}return d},u.reject=function(d,b){d.state=l,d.outcome=b;for(var p=-1,x=d.queue.length;++p<x;)d.queue[p].callRejected(b);return d},_.resolve=function(d){return d instanceof this?d:u.resolve(new this(h),d)},_.reject=function(d){var b=new this(h);return u.reject(b,d)},_.all=function(d){var b=this;if(Object.prototype.toString.call(d)!=="[object Array]")return this.reject(new TypeError("must be an array"));var p=d.length,x=!1;if(!p)return this.resolve([]);for(var E=new Array(p),f=0,S=-1,I=new this(h);++S<p;)P(d[S],S);return I;function P(T,N){b.resolve(T).then(function(A){E[N]=A,++f!==p||x||(x=!0,u.resolve(I,E))},function(A){x||(x=!0,u.reject(I,A))})}},_.race=function(d){var b=this;if(Object.prototype.toString.call(d)!=="[object Array]")return this.reject(new TypeError("must be an array"));var p=d.length,x=!1;if(!p)return this.resolve([]);for(var E=-1,f=new this(h);++E<p;)S=d[E],b.resolve(S).then(function(I){x||(x=!0,u.resolve(f,I))},function(I){x||(x=!0,u.reject(f,I))});var S;return f}},{immediate:36}],38:[function(r,o,n){var i={};(0,r("./lib/utils/common").assign)(i,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),o.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,o,n){var i=r("./zlib/deflate"),h=r("./utils/common"),u=r("./utils/strings"),l=r("./zlib/messages"),C=r("./zlib/zstream"),y=Object.prototype.toString,_=0,a=-1,c=0,w=8;function s(d){if(!(this instanceof s))return new s(d);this.options=h.assign({level:a,method:w,chunkSize:16384,windowBits:15,memLevel:8,strategy:c,to:""},d||{});var b=this.options;b.raw&&0<b.windowBits?b.windowBits=-b.windowBits:b.gzip&&0<b.windowBits&&b.windowBits<16&&(b.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new C,this.strm.avail_out=0;var p=i.deflateInit2(this.strm,b.level,b.method,b.windowBits,b.memLevel,b.strategy);if(p!==_)throw new Error(l[p]);if(b.header&&i.deflateSetHeader(this.strm,b.header),b.dictionary){var x;if(x=typeof b.dictionary=="string"?u.string2buf(b.dictionary):y.call(b.dictionary)==="[object ArrayBuffer]"?new Uint8Array(b.dictionary):b.dictionary,(p=i.deflateSetDictionary(this.strm,x))!==_)throw new Error(l[p]);this._dict_set=!0}}function v(d,b){var p=new s(b);if(p.push(d,!0),p.err)throw p.msg||l[p.err];return p.result}s.prototype.push=function(d,b){var p,x,E=this.strm,f=this.options.chunkSize;if(this.ended)return!1;x=b===~~b?b:b===!0?4:0,typeof d=="string"?E.input=u.string2buf(d):y.call(d)==="[object ArrayBuffer]"?E.input=new Uint8Array(d):E.input=d,E.next_in=0,E.avail_in=E.input.length;do{if(E.avail_out===0&&(E.output=new h.Buf8(f),E.next_out=0,E.avail_out=f),(p=i.deflate(E,x))!==1&&p!==_)return this.onEnd(p),!(this.ended=!0);E.avail_out!==0&&(E.avail_in!==0||x!==4&&x!==2)||(this.options.to==="string"?this.onData(u.buf2binstring(h.shrinkBuf(E.output,E.next_out))):this.onData(h.shrinkBuf(E.output,E.next_out)))}while((0<E.avail_in||E.avail_out===0)&&p!==1);return x===4?(p=i.deflateEnd(this.strm),this.onEnd(p),this.ended=!0,p===_):x!==2||(this.onEnd(_),!(E.avail_out=0))},s.prototype.onData=function(d){this.chunks.push(d)},s.prototype.onEnd=function(d){d===_&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=h.flattenChunks(this.chunks)),this.chunks=[],this.err=d,this.msg=this.strm.msg},n.Deflate=s,n.deflate=v,n.deflateRaw=function(d,b){return(b=b||{}).raw=!0,v(d,b)},n.gzip=function(d,b){return(b=b||{}).gzip=!0,v(d,b)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,o,n){var i=r("./zlib/inflate"),h=r("./utils/common"),u=r("./utils/strings"),l=r("./zlib/constants"),C=r("./zlib/messages"),y=r("./zlib/zstream"),_=r("./zlib/gzheader"),a=Object.prototype.toString;function c(s){if(!(this instanceof c))return new c(s);this.options=h.assign({chunkSize:16384,windowBits:0,to:""},s||{});var v=this.options;v.raw&&0<=v.windowBits&&v.windowBits<16&&(v.windowBits=-v.windowBits,v.windowBits===0&&(v.windowBits=-15)),!(0<=v.windowBits&&v.windowBits<16)||s&&s.windowBits||(v.windowBits+=32),15<v.windowBits&&v.windowBits<48&&!(15&v.windowBits)&&(v.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new y,this.strm.avail_out=0;var d=i.inflateInit2(this.strm,v.windowBits);if(d!==l.Z_OK)throw new Error(C[d]);this.header=new _,i.inflateGetHeader(this.strm,this.header)}function w(s,v){var d=new c(v);if(d.push(s,!0),d.err)throw d.msg||C[d.err];return d.result}c.prototype.push=function(s,v){var d,b,p,x,E,f,S=this.strm,I=this.options.chunkSize,P=this.options.dictionary,T=!1;if(this.ended)return!1;b=v===~~v?v:v===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof s=="string"?S.input=u.binstring2buf(s):a.call(s)==="[object ArrayBuffer]"?S.input=new Uint8Array(s):S.input=s,S.next_in=0,S.avail_in=S.input.length;do{if(S.avail_out===0&&(S.output=new h.Buf8(I),S.next_out=0,S.avail_out=I),(d=i.inflate(S,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&P&&(f=typeof P=="string"?u.string2buf(P):a.call(P)==="[object ArrayBuffer]"?new Uint8Array(P):P,d=i.inflateSetDictionary(this.strm,f)),d===l.Z_BUF_ERROR&&T===!0&&(d=l.Z_OK,T=!1),d!==l.Z_STREAM_END&&d!==l.Z_OK)return this.onEnd(d),!(this.ended=!0);S.next_out&&(S.avail_out!==0&&d!==l.Z_STREAM_END&&(S.avail_in!==0||b!==l.Z_FINISH&&b!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(p=u.utf8border(S.output,S.next_out),x=S.next_out-p,E=u.buf2string(S.output,p),S.next_out=x,S.avail_out=I-x,x&&h.arraySet(S.output,S.output,p,x,0),this.onData(E)):this.onData(h.shrinkBuf(S.output,S.next_out)))),S.avail_in===0&&S.avail_out===0&&(T=!0)}while((0<S.avail_in||S.avail_out===0)&&d!==l.Z_STREAM_END);return d===l.Z_STREAM_END&&(b=l.Z_FINISH),b===l.Z_FINISH?(d=i.inflateEnd(this.strm),this.onEnd(d),this.ended=!0,d===l.Z_OK):b!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(S.avail_out=0))},c.prototype.onData=function(s){this.chunks.push(s)},c.prototype.onEnd=function(s){s===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=h.flattenChunks(this.chunks)),this.chunks=[],this.err=s,this.msg=this.strm.msg},n.Inflate=c,n.inflate=w,n.inflateRaw=function(s,v){return(v=v||{}).raw=!0,w(s,v)},n.ungzip=w},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,o,n){var i=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Int32Array!="undefined";n.assign=function(l){for(var C=Array.prototype.slice.call(arguments,1);C.length;){var y=C.shift();if(y){if(typeof y!="object")throw new TypeError(y+"must be non-object");for(var _ in y)y.hasOwnProperty(_)&&(l[_]=y[_])}}return l},n.shrinkBuf=function(l,C){return l.length===C?l:l.subarray?l.subarray(0,C):(l.length=C,l)};var h={arraySet:function(l,C,y,_,a){if(C.subarray&&l.subarray)l.set(C.subarray(y,y+_),a);else for(var c=0;c<_;c++)l[a+c]=C[y+c]},flattenChunks:function(l){var C,y,_,a,c,w;for(C=_=0,y=l.length;C<y;C++)_+=l[C].length;for(w=new Uint8Array(_),C=a=0,y=l.length;C<y;C++)c=l[C],w.set(c,a),a+=c.length;return w}},u={arraySet:function(l,C,y,_,a){for(var c=0;c<_;c++)l[a+c]=C[y+c]},flattenChunks:function(l){return[].concat.apply([],l)}};n.setTyped=function(l){l?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,h)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,u))},n.setTyped(i)},{}],42:[function(r,o,n){var i=r("./common"),h=!0,u=!0;try{String.fromCharCode.apply(null,[0])}catch(_){h=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(_){u=!1}for(var l=new i.Buf8(256),C=0;C<256;C++)l[C]=252<=C?6:248<=C?5:240<=C?4:224<=C?3:192<=C?2:1;function y(_,a){if(a<65537&&(_.subarray&&u||!_.subarray&&h))return String.fromCharCode.apply(null,i.shrinkBuf(_,a));for(var c="",w=0;w<a;w++)c+=String.fromCharCode(_[w]);return c}l[254]=l[254]=1,n.string2buf=function(_){var a,c,w,s,v,d=_.length,b=0;for(s=0;s<d;s++)(64512&(c=_.charCodeAt(s)))==55296&&s+1<d&&(64512&(w=_.charCodeAt(s+1)))==56320&&(c=65536+(c-55296<<10)+(w-56320),s++),b+=c<128?1:c<2048?2:c<65536?3:4;for(a=new i.Buf8(b),s=v=0;v<b;s++)(64512&(c=_.charCodeAt(s)))==55296&&s+1<d&&(64512&(w=_.charCodeAt(s+1)))==56320&&(c=65536+(c-55296<<10)+(w-56320),s++),c<128?a[v++]=c:(c<2048?a[v++]=192|c>>>6:(c<65536?a[v++]=224|c>>>12:(a[v++]=240|c>>>18,a[v++]=128|c>>>12&63),a[v++]=128|c>>>6&63),a[v++]=128|63&c);return a},n.buf2binstring=function(_){return y(_,_.length)},n.binstring2buf=function(_){for(var a=new i.Buf8(_.length),c=0,w=a.length;c<w;c++)a[c]=_.charCodeAt(c);return a},n.buf2string=function(_,a){var c,w,s,v,d=a||_.length,b=new Array(2*d);for(c=w=0;c<d;)if((s=_[c++])<128)b[w++]=s;else if(4<(v=l[s]))b[w++]=65533,c+=v-1;else{for(s&=v===2?31:v===3?15:7;1<v&&c<d;)s=s<<6|63&_[c++],v--;1<v?b[w++]=65533:s<65536?b[w++]=s:(s-=65536,b[w++]=55296|s>>10&1023,b[w++]=56320|1023&s)}return y(b,w)},n.utf8border=function(_,a){var c;for((a=a||_.length)>_.length&&(a=_.length),c=a-1;0<=c&&(192&_[c])==128;)c--;return c<0||c===0?a:c+l[_[c]]>a?c:a}},{"./common":41}],43:[function(r,o,n){o.exports=function(i,h,u,l){for(var C=65535&i|0,y=i>>>16&65535|0,_=0;u!==0;){for(u-=_=2e3<u?2e3:u;y=y+(C=C+h[l++]|0)|0,--_;);C%=65521,y%=65521}return C|y<<16|0}},{}],44:[function(r,o,n){o.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,o,n){var i=function(){for(var h,u=[],l=0;l<256;l++){h=l;for(var C=0;C<8;C++)h=1&h?3988292384^h>>>1:h>>>1;u[l]=h}return u}();o.exports=function(h,u,l,C){var y=i,_=C+l;h^=-1;for(var a=C;a<_;a++)h=h>>>8^y[255&(h^u[a])];return-1^h}},{}],46:[function(r,o,n){var i,h=r("../utils/common"),u=r("./trees"),l=r("./adler32"),C=r("./crc32"),y=r("./messages"),_=0,a=4,c=0,w=-2,s=-1,v=4,d=2,b=8,p=9,x=286,E=30,f=19,S=2*x+1,I=15,P=3,T=258,N=T+P+1,A=42,B=113,O=1,H=2,nt=3,Y=4;function lt(m,U){return m.msg=y[U],U}function rt(m){return(m<<1)-(4<m?9:0)}function ut(m){for(var U=m.length;0<=--U;)m[U]=0}function G(m){var U=m.state,j=U.pending;j>m.avail_out&&(j=m.avail_out),j!==0&&(h.arraySet(m.output,U.pending_buf,U.pending_out,j,m.next_out),m.next_out+=j,U.pending_out+=j,m.total_out+=j,m.avail_out-=j,U.pending-=j,U.pending===0&&(U.pending_out=0))}function it(m,U){u._tr_flush_block(m,0<=m.block_start?m.block_start:-1,m.strstart-m.block_start,U),m.block_start=m.strstart,G(m.strm)}function gt(m,U){m.pending_buf[m.pending++]=U}function pt(m,U){m.pending_buf[m.pending++]=U>>>8&255,m.pending_buf[m.pending++]=255&U}function ft(m,U){var j,R,L=m.max_chain_length,W=m.strstart,Z=m.prev_length,q=m.nice_match,g=m.strstart>m.w_size-N?m.strstart-(m.w_size-N):0,k=m.window,D=m.w_mask,M=m.prev,X=m.strstart+T,J=k[W+Z-1],at=k[W+Z];m.prev_length>=m.good_match&&(L>>=2),q>m.lookahead&&(q=m.lookahead);do if(k[(j=U)+Z]===at&&k[j+Z-1]===J&&k[j]===k[W]&&k[++j]===k[W+1]){W+=2,j++;do;while(k[++W]===k[++j]&&k[++W]===k[++j]&&k[++W]===k[++j]&&k[++W]===k[++j]&&k[++W]===k[++j]&&k[++W]===k[++j]&&k[++W]===k[++j]&&k[++W]===k[++j]&&W<X);if(R=T-(X-W),W=X-T,Z<R){if(m.match_start=U,q<=(Z=R))break;J=k[W+Z-1],at=k[W+Z]}}while((U=M[U&D])>g&&--L!=0);return Z<=m.lookahead?Z:m.lookahead}function Et(m){var U,j,R,L,W,Z,q,g,k,D,M=m.w_size;do{if(L=m.window_size-m.lookahead-m.strstart,m.strstart>=M+(M-N)){for(h.arraySet(m.window,m.window,M,M,0),m.match_start-=M,m.strstart-=M,m.block_start-=M,U=j=m.hash_size;R=m.head[--U],m.head[U]=M<=R?R-M:0,--j;);for(U=j=M;R=m.prev[--U],m.prev[U]=M<=R?R-M:0,--j;);L+=M}if(m.strm.avail_in===0)break;if(Z=m.strm,q=m.window,g=m.strstart+m.lookahead,k=L,D=void 0,D=Z.avail_in,k<D&&(D=k),j=D===0?0:(Z.avail_in-=D,h.arraySet(q,Z.input,Z.next_in,D,g),Z.state.wrap===1?Z.adler=l(Z.adler,q,D,g):Z.state.wrap===2&&(Z.adler=C(Z.adler,q,D,g)),Z.next_in+=D,Z.total_in+=D,D),m.lookahead+=j,m.lookahead+m.insert>=P)for(W=m.strstart-m.insert,m.ins_h=m.window[W],m.ins_h=(m.ins_h<<m.hash_shift^m.window[W+1])&m.hash_mask;m.insert&&(m.ins_h=(m.ins_h<<m.hash_shift^m.window[W+P-1])&m.hash_mask,m.prev[W&m.w_mask]=m.head[m.ins_h],m.head[m.ins_h]=W,W++,m.insert--,!(m.lookahead+m.insert<P)););}while(m.lookahead<N&&m.strm.avail_in!==0)}function kt(m,U){for(var j,R;;){if(m.lookahead<N){if(Et(m),m.lookahead<N&&U===_)return O;if(m.lookahead===0)break}if(j=0,m.lookahead>=P&&(m.ins_h=(m.ins_h<<m.hash_shift^m.window[m.strstart+P-1])&m.hash_mask,j=m.prev[m.strstart&m.w_mask]=m.head[m.ins_h],m.head[m.ins_h]=m.strstart),j!==0&&m.strstart-j<=m.w_size-N&&(m.match_length=ft(m,j)),m.match_length>=P)if(R=u._tr_tally(m,m.strstart-m.match_start,m.match_length-P),m.lookahead-=m.match_length,m.match_length<=m.max_lazy_match&&m.lookahead>=P){for(m.match_length--;m.strstart++,m.ins_h=(m.ins_h<<m.hash_shift^m.window[m.strstart+P-1])&m.hash_mask,j=m.prev[m.strstart&m.w_mask]=m.head[m.ins_h],m.head[m.ins_h]=m.strstart,--m.match_length!=0;);m.strstart++}else m.strstart+=m.match_length,m.match_length=0,m.ins_h=m.window[m.strstart],m.ins_h=(m.ins_h<<m.hash_shift^m.window[m.strstart+1])&m.hash_mask;else R=u._tr_tally(m,0,m.window[m.strstart]),m.lookahead--,m.strstart++;if(R&&(it(m,!1),m.strm.avail_out===0))return O}return m.insert=m.strstart<P-1?m.strstart:P-1,U===a?(it(m,!0),m.strm.avail_out===0?nt:Y):m.last_lit&&(it(m,!1),m.strm.avail_out===0)?O:H}function St(m,U){for(var j,R,L;;){if(m.lookahead<N){if(Et(m),m.lookahead<N&&U===_)return O;if(m.lookahead===0)break}if(j=0,m.lookahead>=P&&(m.ins_h=(m.ins_h<<m.hash_shift^m.window[m.strstart+P-1])&m.hash_mask,j=m.prev[m.strstart&m.w_mask]=m.head[m.ins_h],m.head[m.ins_h]=m.strstart),m.prev_length=m.match_length,m.prev_match=m.match_start,m.match_length=P-1,j!==0&&m.prev_length<m.max_lazy_match&&m.strstart-j<=m.w_size-N&&(m.match_length=ft(m,j),m.match_length<=5&&(m.strategy===1||m.match_length===P&&4096<m.strstart-m.match_start)&&(m.match_length=P-1)),m.prev_length>=P&&m.match_length<=m.prev_length){for(L=m.strstart+m.lookahead-P,R=u._tr_tally(m,m.strstart-1-m.prev_match,m.prev_length-P),m.lookahead-=m.prev_length-1,m.prev_length-=2;++m.strstart<=L&&(m.ins_h=(m.ins_h<<m.hash_shift^m.window[m.strstart+P-1])&m.hash_mask,j=m.prev[m.strstart&m.w_mask]=m.head[m.ins_h],m.head[m.ins_h]=m.strstart),--m.prev_length!=0;);if(m.match_available=0,m.match_length=P-1,m.strstart++,R&&(it(m,!1),m.strm.avail_out===0))return O}else if(m.match_available){if((R=u._tr_tally(m,0,m.window[m.strstart-1]))&&it(m,!1),m.strstart++,m.lookahead--,m.strm.avail_out===0)return O}else m.match_available=1,m.strstart++,m.lookahead--}return m.match_available&&(R=u._tr_tally(m,0,m.window[m.strstart-1]),m.match_available=0),m.insert=m.strstart<P-1?m.strstart:P-1,U===a?(it(m,!0),m.strm.avail_out===0?nt:Y):m.last_lit&&(it(m,!1),m.strm.avail_out===0)?O:H}function Rt(m,U,j,R,L){this.good_length=m,this.max_lazy=U,this.nice_length=j,this.max_chain=R,this.func=L}function Dt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=b,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new h.Buf16(2*S),this.dyn_dtree=new h.Buf16(2*(2*E+1)),this.bl_tree=new h.Buf16(2*(2*f+1)),ut(this.dyn_ltree),ut(this.dyn_dtree),ut(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new h.Buf16(I+1),this.heap=new h.Buf16(2*x+1),ut(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new h.Buf16(2*x+1),ut(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Nt(m){var U;return m&&m.state?(m.total_in=m.total_out=0,m.data_type=d,(U=m.state).pending=0,U.pending_out=0,U.wrap<0&&(U.wrap=-U.wrap),U.status=U.wrap?A:B,m.adler=U.wrap===2?0:1,U.last_flush=_,u._tr_init(U),c):lt(m,w)}function K(m){var U=Nt(m);return U===c&&function(j){j.window_size=2*j.w_size,ut(j.head),j.max_lazy_match=i[j.level].max_lazy,j.good_match=i[j.level].good_length,j.nice_match=i[j.level].nice_length,j.max_chain_length=i[j.level].max_chain,j.strstart=0,j.block_start=0,j.lookahead=0,j.insert=0,j.match_length=j.prev_length=P-1,j.match_available=0,j.ins_h=0}(m.state),U}function et(m,U,j,R,L,W){if(!m)return w;var Z=1;if(U===s&&(U=6),R<0?(Z=0,R=-R):15<R&&(Z=2,R-=16),L<1||p<L||j!==b||R<8||15<R||U<0||9<U||W<0||v<W)return lt(m,w);R===8&&(R=9);var q=new Dt;return(m.state=q).strm=m,q.wrap=Z,q.gzhead=null,q.w_bits=R,q.w_size=1<<q.w_bits,q.w_mask=q.w_size-1,q.hash_bits=L+7,q.hash_size=1<<q.hash_bits,q.hash_mask=q.hash_size-1,q.hash_shift=~~((q.hash_bits+P-1)/P),q.window=new h.Buf8(2*q.w_size),q.head=new h.Buf16(q.hash_size),q.prev=new h.Buf16(q.w_size),q.lit_bufsize=1<<L+6,q.pending_buf_size=4*q.lit_bufsize,q.pending_buf=new h.Buf8(q.pending_buf_size),q.d_buf=1*q.lit_bufsize,q.l_buf=3*q.lit_bufsize,q.level=U,q.strategy=W,q.method=j,K(m)}i=[new Rt(0,0,0,0,function(m,U){var j=65535;for(j>m.pending_buf_size-5&&(j=m.pending_buf_size-5);;){if(m.lookahead<=1){if(Et(m),m.lookahead===0&&U===_)return O;if(m.lookahead===0)break}m.strstart+=m.lookahead,m.lookahead=0;var R=m.block_start+j;if((m.strstart===0||m.strstart>=R)&&(m.lookahead=m.strstart-R,m.strstart=R,it(m,!1),m.strm.avail_out===0)||m.strstart-m.block_start>=m.w_size-N&&(it(m,!1),m.strm.avail_out===0))return O}return m.insert=0,U===a?(it(m,!0),m.strm.avail_out===0?nt:Y):(m.strstart>m.block_start&&(it(m,!1),m.strm.avail_out),O)}),new Rt(4,4,8,4,kt),new Rt(4,5,16,8,kt),new Rt(4,6,32,32,kt),new Rt(4,4,16,16,St),new Rt(8,16,32,32,St),new Rt(8,16,128,128,St),new Rt(8,32,128,256,St),new Rt(32,128,258,1024,St),new Rt(32,258,258,4096,St)],n.deflateInit=function(m,U){return et(m,U,b,15,8,0)},n.deflateInit2=et,n.deflateReset=K,n.deflateResetKeep=Nt,n.deflateSetHeader=function(m,U){return m&&m.state?m.state.wrap!==2?w:(m.state.gzhead=U,c):w},n.deflate=function(m,U){var j,R,L,W;if(!m||!m.state||5<U||U<0)return m?lt(m,w):w;if(R=m.state,!m.output||!m.input&&m.avail_in!==0||R.status===666&&U!==a)return lt(m,m.avail_out===0?-5:w);if(R.strm=m,j=R.last_flush,R.last_flush=U,R.status===A)if(R.wrap===2)m.adler=0,gt(R,31),gt(R,139),gt(R,8),R.gzhead?(gt(R,(R.gzhead.text?1:0)+(R.gzhead.hcrc?2:0)+(R.gzhead.extra?4:0)+(R.gzhead.name?8:0)+(R.gzhead.comment?16:0)),gt(R,255&R.gzhead.time),gt(R,R.gzhead.time>>8&255),gt(R,R.gzhead.time>>16&255),gt(R,R.gzhead.time>>24&255),gt(R,R.level===9?2:2<=R.strategy||R.level<2?4:0),gt(R,255&R.gzhead.os),R.gzhead.extra&&R.gzhead.extra.length&&(gt(R,255&R.gzhead.extra.length),gt(R,R.gzhead.extra.length>>8&255)),R.gzhead.hcrc&&(m.adler=C(m.adler,R.pending_buf,R.pending,0)),R.gzindex=0,R.status=69):(gt(R,0),gt(R,0),gt(R,0),gt(R,0),gt(R,0),gt(R,R.level===9?2:2<=R.strategy||R.level<2?4:0),gt(R,3),R.status=B);else{var Z=b+(R.w_bits-8<<4)<<8;Z|=(2<=R.strategy||R.level<2?0:R.level<6?1:R.level===6?2:3)<<6,R.strstart!==0&&(Z|=32),Z+=31-Z%31,R.status=B,pt(R,Z),R.strstart!==0&&(pt(R,m.adler>>>16),pt(R,65535&m.adler)),m.adler=1}if(R.status===69)if(R.gzhead.extra){for(L=R.pending;R.gzindex<(65535&R.gzhead.extra.length)&&(R.pending!==R.pending_buf_size||(R.gzhead.hcrc&&R.pending>L&&(m.adler=C(m.adler,R.pending_buf,R.pending-L,L)),G(m),L=R.pending,R.pending!==R.pending_buf_size));)gt(R,255&R.gzhead.extra[R.gzindex]),R.gzindex++;R.gzhead.hcrc&&R.pending>L&&(m.adler=C(m.adler,R.pending_buf,R.pending-L,L)),R.gzindex===R.gzhead.extra.length&&(R.gzindex=0,R.status=73)}else R.status=73;if(R.status===73)if(R.gzhead.name){L=R.pending;do{if(R.pending===R.pending_buf_size&&(R.gzhead.hcrc&&R.pending>L&&(m.adler=C(m.adler,R.pending_buf,R.pending-L,L)),G(m),L=R.pending,R.pending===R.pending_buf_size)){W=1;break}W=R.gzindex<R.gzhead.name.length?255&R.gzhead.name.charCodeAt(R.gzindex++):0,gt(R,W)}while(W!==0);R.gzhead.hcrc&&R.pending>L&&(m.adler=C(m.adler,R.pending_buf,R.pending-L,L)),W===0&&(R.gzindex=0,R.status=91)}else R.status=91;if(R.status===91)if(R.gzhead.comment){L=R.pending;do{if(R.pending===R.pending_buf_size&&(R.gzhead.hcrc&&R.pending>L&&(m.adler=C(m.adler,R.pending_buf,R.pending-L,L)),G(m),L=R.pending,R.pending===R.pending_buf_size)){W=1;break}W=R.gzindex<R.gzhead.comment.length?255&R.gzhead.comment.charCodeAt(R.gzindex++):0,gt(R,W)}while(W!==0);R.gzhead.hcrc&&R.pending>L&&(m.adler=C(m.adler,R.pending_buf,R.pending-L,L)),W===0&&(R.status=103)}else R.status=103;if(R.status===103&&(R.gzhead.hcrc?(R.pending+2>R.pending_buf_size&&G(m),R.pending+2<=R.pending_buf_size&&(gt(R,255&m.adler),gt(R,m.adler>>8&255),m.adler=0,R.status=B)):R.status=B),R.pending!==0){if(G(m),m.avail_out===0)return R.last_flush=-1,c}else if(m.avail_in===0&&rt(U)<=rt(j)&&U!==a)return lt(m,-5);if(R.status===666&&m.avail_in!==0)return lt(m,-5);if(m.avail_in!==0||R.lookahead!==0||U!==_&&R.status!==666){var q=R.strategy===2?function(g,k){for(var D;;){if(g.lookahead===0&&(Et(g),g.lookahead===0)){if(k===_)return O;break}if(g.match_length=0,D=u._tr_tally(g,0,g.window[g.strstart]),g.lookahead--,g.strstart++,D&&(it(g,!1),g.strm.avail_out===0))return O}return g.insert=0,k===a?(it(g,!0),g.strm.avail_out===0?nt:Y):g.last_lit&&(it(g,!1),g.strm.avail_out===0)?O:H}(R,U):R.strategy===3?function(g,k){for(var D,M,X,J,at=g.window;;){if(g.lookahead<=T){if(Et(g),g.lookahead<=T&&k===_)return O;if(g.lookahead===0)break}if(g.match_length=0,g.lookahead>=P&&0<g.strstart&&(M=at[X=g.strstart-1])===at[++X]&&M===at[++X]&&M===at[++X]){J=g.strstart+T;do;while(M===at[++X]&&M===at[++X]&&M===at[++X]&&M===at[++X]&&M===at[++X]&&M===at[++X]&&M===at[++X]&&M===at[++X]&&X<J);g.match_length=T-(J-X),g.match_length>g.lookahead&&(g.match_length=g.lookahead)}if(g.match_length>=P?(D=u._tr_tally(g,1,g.match_length-P),g.lookahead-=g.match_length,g.strstart+=g.match_length,g.match_length=0):(D=u._tr_tally(g,0,g.window[g.strstart]),g.lookahead--,g.strstart++),D&&(it(g,!1),g.strm.avail_out===0))return O}return g.insert=0,k===a?(it(g,!0),g.strm.avail_out===0?nt:Y):g.last_lit&&(it(g,!1),g.strm.avail_out===0)?O:H}(R,U):i[R.level].func(R,U);if(q!==nt&&q!==Y||(R.status=666),q===O||q===nt)return m.avail_out===0&&(R.last_flush=-1),c;if(q===H&&(U===1?u._tr_align(R):U!==5&&(u._tr_stored_block(R,0,0,!1),U===3&&(ut(R.head),R.lookahead===0&&(R.strstart=0,R.block_start=0,R.insert=0))),G(m),m.avail_out===0))return R.last_flush=-1,c}return U!==a?c:R.wrap<=0?1:(R.wrap===2?(gt(R,255&m.adler),gt(R,m.adler>>8&255),gt(R,m.adler>>16&255),gt(R,m.adler>>24&255),gt(R,255&m.total_in),gt(R,m.total_in>>8&255),gt(R,m.total_in>>16&255),gt(R,m.total_in>>24&255)):(pt(R,m.adler>>>16),pt(R,65535&m.adler)),G(m),0<R.wrap&&(R.wrap=-R.wrap),R.pending!==0?c:1)},n.deflateEnd=function(m){var U;return m&&m.state?(U=m.state.status)!==A&&U!==69&&U!==73&&U!==91&&U!==103&&U!==B&&U!==666?lt(m,w):(m.state=null,U===B?lt(m,-3):c):w},n.deflateSetDictionary=function(m,U){var j,R,L,W,Z,q,g,k,D=U.length;if(!m||!m.state||(W=(j=m.state).wrap)===2||W===1&&j.status!==A||j.lookahead)return w;for(W===1&&(m.adler=l(m.adler,U,D,0)),j.wrap=0,D>=j.w_size&&(W===0&&(ut(j.head),j.strstart=0,j.block_start=0,j.insert=0),k=new h.Buf8(j.w_size),h.arraySet(k,U,D-j.w_size,j.w_size,0),U=k,D=j.w_size),Z=m.avail_in,q=m.next_in,g=m.input,m.avail_in=D,m.next_in=0,m.input=U,Et(j);j.lookahead>=P;){for(R=j.strstart,L=j.lookahead-(P-1);j.ins_h=(j.ins_h<<j.hash_shift^j.window[R+P-1])&j.hash_mask,j.prev[R&j.w_mask]=j.head[j.ins_h],j.head[j.ins_h]=R,R++,--L;);j.strstart=R,j.lookahead=P-1,Et(j)}return j.strstart+=j.lookahead,j.block_start=j.strstart,j.insert=j.lookahead,j.lookahead=0,j.match_length=j.prev_length=P-1,j.match_available=0,m.next_in=q,m.input=g,m.avail_in=Z,j.wrap=W,c},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,o,n){o.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,o,n){o.exports=function(i,h){var u,l,C,y,_,a,c,w,s,v,d,b,p,x,E,f,S,I,P,T,N,A,B,O,H;u=i.state,l=i.next_in,O=i.input,C=l+(i.avail_in-5),y=i.next_out,H=i.output,_=y-(h-i.avail_out),a=y+(i.avail_out-257),c=u.dmax,w=u.wsize,s=u.whave,v=u.wnext,d=u.window,b=u.hold,p=u.bits,x=u.lencode,E=u.distcode,f=(1<<u.lenbits)-1,S=(1<<u.distbits)-1;t:do{p<15&&(b+=O[l++]<<p,p+=8,b+=O[l++]<<p,p+=8),I=x[b&f];e:for(;;){if(b>>>=P=I>>>24,p-=P,(P=I>>>16&255)===0)H[y++]=65535&I;else{if(!(16&P)){if(!(64&P)){I=x[(65535&I)+(b&(1<<P)-1)];continue e}if(32&P){u.mode=12;break t}i.msg="invalid literal/length code",u.mode=30;break t}T=65535&I,(P&=15)&&(p<P&&(b+=O[l++]<<p,p+=8),T+=b&(1<<P)-1,b>>>=P,p-=P),p<15&&(b+=O[l++]<<p,p+=8,b+=O[l++]<<p,p+=8),I=E[b&S];r:for(;;){if(b>>>=P=I>>>24,p-=P,!(16&(P=I>>>16&255))){if(!(64&P)){I=E[(65535&I)+(b&(1<<P)-1)];continue r}i.msg="invalid distance code",u.mode=30;break t}if(N=65535&I,p<(P&=15)&&(b+=O[l++]<<p,(p+=8)<P&&(b+=O[l++]<<p,p+=8)),c<(N+=b&(1<<P)-1)){i.msg="invalid distance too far back",u.mode=30;break t}if(b>>>=P,p-=P,(P=y-_)<N){if(s<(P=N-P)&&u.sane){i.msg="invalid distance too far back",u.mode=30;break t}if(B=d,(A=0)===v){if(A+=w-P,P<T){for(T-=P;H[y++]=d[A++],--P;);A=y-N,B=H}}else if(v<P){if(A+=w+v-P,(P-=v)<T){for(T-=P;H[y++]=d[A++],--P;);if(A=0,v<T){for(T-=P=v;H[y++]=d[A++],--P;);A=y-N,B=H}}}else if(A+=v-P,P<T){for(T-=P;H[y++]=d[A++],--P;);A=y-N,B=H}for(;2<T;)H[y++]=B[A++],H[y++]=B[A++],H[y++]=B[A++],T-=3;T&&(H[y++]=B[A++],1<T&&(H[y++]=B[A++]))}else{for(A=y-N;H[y++]=H[A++],H[y++]=H[A++],H[y++]=H[A++],2<(T-=3););T&&(H[y++]=H[A++],1<T&&(H[y++]=H[A++]))}break}}break}}while(l<C&&y<a);l-=T=p>>3,b&=(1<<(p-=T<<3))-1,i.next_in=l,i.next_out=y,i.avail_in=l<C?C-l+5:5-(l-C),i.avail_out=y<a?a-y+257:257-(y-a),u.hold=b,u.bits=p}},{}],49:[function(r,o,n){var i=r("../utils/common"),h=r("./adler32"),u=r("./crc32"),l=r("./inffast"),C=r("./inftrees"),y=1,_=2,a=0,c=-2,w=1,s=852,v=592;function d(A){return(A>>>24&255)+(A>>>8&65280)+((65280&A)<<8)+((255&A)<<24)}function b(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function p(A){var B;return A&&A.state?(B=A.state,A.total_in=A.total_out=B.total=0,A.msg="",B.wrap&&(A.adler=1&B.wrap),B.mode=w,B.last=0,B.havedict=0,B.dmax=32768,B.head=null,B.hold=0,B.bits=0,B.lencode=B.lendyn=new i.Buf32(s),B.distcode=B.distdyn=new i.Buf32(v),B.sane=1,B.back=-1,a):c}function x(A){var B;return A&&A.state?((B=A.state).wsize=0,B.whave=0,B.wnext=0,p(A)):c}function E(A,B){var O,H;return A&&A.state?(H=A.state,B<0?(O=0,B=-B):(O=1+(B>>4),B<48&&(B&=15)),B&&(B<8||15<B)?c:(H.window!==null&&H.wbits!==B&&(H.window=null),H.wrap=O,H.wbits=B,x(A))):c}function f(A,B){var O,H;return A?(H=new b,(A.state=H).window=null,(O=E(A,B))!==a&&(A.state=null),O):c}var S,I,P=!0;function T(A){if(P){var B;for(S=new i.Buf32(512),I=new i.Buf32(32),B=0;B<144;)A.lens[B++]=8;for(;B<256;)A.lens[B++]=9;for(;B<280;)A.lens[B++]=7;for(;B<288;)A.lens[B++]=8;for(C(y,A.lens,0,288,S,0,A.work,{bits:9}),B=0;B<32;)A.lens[B++]=5;C(_,A.lens,0,32,I,0,A.work,{bits:5}),P=!1}A.lencode=S,A.lenbits=9,A.distcode=I,A.distbits=5}function N(A,B,O,H){var nt,Y=A.state;return Y.window===null&&(Y.wsize=1<<Y.wbits,Y.wnext=0,Y.whave=0,Y.window=new i.Buf8(Y.wsize)),H>=Y.wsize?(i.arraySet(Y.window,B,O-Y.wsize,Y.wsize,0),Y.wnext=0,Y.whave=Y.wsize):(H<(nt=Y.wsize-Y.wnext)&&(nt=H),i.arraySet(Y.window,B,O-H,nt,Y.wnext),(H-=nt)?(i.arraySet(Y.window,B,O-H,H,0),Y.wnext=H,Y.whave=Y.wsize):(Y.wnext+=nt,Y.wnext===Y.wsize&&(Y.wnext=0),Y.whave<Y.wsize&&(Y.whave+=nt))),0}n.inflateReset=x,n.inflateReset2=E,n.inflateResetKeep=p,n.inflateInit=function(A){return f(A,15)},n.inflateInit2=f,n.inflate=function(A,B){var O,H,nt,Y,lt,rt,ut,G,it,gt,pt,ft,Et,kt,St,Rt,Dt,Nt,K,et,m,U,j,R,L=0,W=new i.Buf8(4),Z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!A||!A.state||!A.output||!A.input&&A.avail_in!==0)return c;(O=A.state).mode===12&&(O.mode=13),lt=A.next_out,nt=A.output,ut=A.avail_out,Y=A.next_in,H=A.input,rt=A.avail_in,G=O.hold,it=O.bits,gt=rt,pt=ut,U=a;t:for(;;)switch(O.mode){case w:if(O.wrap===0){O.mode=13;break}for(;it<16;){if(rt===0)break t;rt--,G+=H[Y++]<<it,it+=8}if(2&O.wrap&&G===35615){W[O.check=0]=255&G,W[1]=G>>>8&255,O.check=u(O.check,W,2,0),it=G=0,O.mode=2;break}if(O.flags=0,O.head&&(O.head.done=!1),!(1&O.wrap)||(((255&G)<<8)+(G>>8))%31){A.msg="incorrect header check",O.mode=30;break}if((15&G)!=8){A.msg="unknown compression method",O.mode=30;break}if(it-=4,m=8+(15&(G>>>=4)),O.wbits===0)O.wbits=m;else if(m>O.wbits){A.msg="invalid window size",O.mode=30;break}O.dmax=1<<m,A.adler=O.check=1,O.mode=512&G?10:12,it=G=0;break;case 2:for(;it<16;){if(rt===0)break t;rt--,G+=H[Y++]<<it,it+=8}if(O.flags=G,(255&O.flags)!=8){A.msg="unknown compression method",O.mode=30;break}if(57344&O.flags){A.msg="unknown header flags set",O.mode=30;break}O.head&&(O.head.text=G>>8&1),512&O.flags&&(W[0]=255&G,W[1]=G>>>8&255,O.check=u(O.check,W,2,0)),it=G=0,O.mode=3;case 3:for(;it<32;){if(rt===0)break t;rt--,G+=H[Y++]<<it,it+=8}O.head&&(O.head.time=G),512&O.flags&&(W[0]=255&G,W[1]=G>>>8&255,W[2]=G>>>16&255,W[3]=G>>>24&255,O.check=u(O.check,W,4,0)),it=G=0,O.mode=4;case 4:for(;it<16;){if(rt===0)break t;rt--,G+=H[Y++]<<it,it+=8}O.head&&(O.head.xflags=255&G,O.head.os=G>>8),512&O.flags&&(W[0]=255&G,W[1]=G>>>8&255,O.check=u(O.check,W,2,0)),it=G=0,O.mode=5;case 5:if(1024&O.flags){for(;it<16;){if(rt===0)break t;rt--,G+=H[Y++]<<it,it+=8}O.length=G,O.head&&(O.head.extra_len=G),512&O.flags&&(W[0]=255&G,W[1]=G>>>8&255,O.check=u(O.check,W,2,0)),it=G=0}else O.head&&(O.head.extra=null);O.mode=6;case 6:if(1024&O.flags&&(rt<(ft=O.length)&&(ft=rt),ft&&(O.head&&(m=O.head.extra_len-O.length,O.head.extra||(O.head.extra=new Array(O.head.extra_len)),i.arraySet(O.head.extra,H,Y,ft,m)),512&O.flags&&(O.check=u(O.check,H,ft,Y)),rt-=ft,Y+=ft,O.length-=ft),O.length))break t;O.length=0,O.mode=7;case 7:if(2048&O.flags){if(rt===0)break t;for(ft=0;m=H[Y+ft++],O.head&&m&&O.length<65536&&(O.head.name+=String.fromCharCode(m)),m&&ft<rt;);if(512&O.flags&&(O.check=u(O.check,H,ft,Y)),rt-=ft,Y+=ft,m)break t}else O.head&&(O.head.name=null);O.length=0,O.mode=8;case 8:if(4096&O.flags){if(rt===0)break t;for(ft=0;m=H[Y+ft++],O.head&&m&&O.length<65536&&(O.head.comment+=String.fromCharCode(m)),m&&ft<rt;);if(512&O.flags&&(O.check=u(O.check,H,ft,Y)),rt-=ft,Y+=ft,m)break t}else O.head&&(O.head.comment=null);O.mode=9;case 9:if(512&O.flags){for(;it<16;){if(rt===0)break t;rt--,G+=H[Y++]<<it,it+=8}if(G!==(65535&O.check)){A.msg="header crc mismatch",O.mode=30;break}it=G=0}O.head&&(O.head.hcrc=O.flags>>9&1,O.head.done=!0),A.adler=O.check=0,O.mode=12;break;case 10:for(;it<32;){if(rt===0)break t;rt--,G+=H[Y++]<<it,it+=8}A.adler=O.check=d(G),it=G=0,O.mode=11;case 11:if(O.havedict===0)return A.next_out=lt,A.avail_out=ut,A.next_in=Y,A.avail_in=rt,O.hold=G,O.bits=it,2;A.adler=O.check=1,O.mode=12;case 12:if(B===5||B===6)break t;case 13:if(O.last){G>>>=7&it,it-=7&it,O.mode=27;break}for(;it<3;){if(rt===0)break t;rt--,G+=H[Y++]<<it,it+=8}switch(O.last=1&G,it-=1,3&(G>>>=1)){case 0:O.mode=14;break;case 1:if(T(O),O.mode=20,B!==6)break;G>>>=2,it-=2;break t;case 2:O.mode=17;break;case 3:A.msg="invalid block type",O.mode=30}G>>>=2,it-=2;break;case 14:for(G>>>=7&it,it-=7&it;it<32;){if(rt===0)break t;rt--,G+=H[Y++]<<it,it+=8}if((65535&G)!=(G>>>16^65535)){A.msg="invalid stored block lengths",O.mode=30;break}if(O.length=65535&G,it=G=0,O.mode=15,B===6)break t;case 15:O.mode=16;case 16:if(ft=O.length){if(rt<ft&&(ft=rt),ut<ft&&(ft=ut),ft===0)break t;i.arraySet(nt,H,Y,ft,lt),rt-=ft,Y+=ft,ut-=ft,lt+=ft,O.length-=ft;break}O.mode=12;break;case 17:for(;it<14;){if(rt===0)break t;rt--,G+=H[Y++]<<it,it+=8}if(O.nlen=257+(31&G),G>>>=5,it-=5,O.ndist=1+(31&G),G>>>=5,it-=5,O.ncode=4+(15&G),G>>>=4,it-=4,286<O.nlen||30<O.ndist){A.msg="too many length or distance symbols",O.mode=30;break}O.have=0,O.mode=18;case 18:for(;O.have<O.ncode;){for(;it<3;){if(rt===0)break t;rt--,G+=H[Y++]<<it,it+=8}O.lens[Z[O.have++]]=7&G,G>>>=3,it-=3}for(;O.have<19;)O.lens[Z[O.have++]]=0;if(O.lencode=O.lendyn,O.lenbits=7,j={bits:O.lenbits},U=C(0,O.lens,0,19,O.lencode,0,O.work,j),O.lenbits=j.bits,U){A.msg="invalid code lengths set",O.mode=30;break}O.have=0,O.mode=19;case 19:for(;O.have<O.nlen+O.ndist;){for(;Rt=(L=O.lencode[G&(1<<O.lenbits)-1])>>>16&255,Dt=65535&L,!((St=L>>>24)<=it);){if(rt===0)break t;rt--,G+=H[Y++]<<it,it+=8}if(Dt<16)G>>>=St,it-=St,O.lens[O.have++]=Dt;else{if(Dt===16){for(R=St+2;it<R;){if(rt===0)break t;rt--,G+=H[Y++]<<it,it+=8}if(G>>>=St,it-=St,O.have===0){A.msg="invalid bit length repeat",O.mode=30;break}m=O.lens[O.have-1],ft=3+(3&G),G>>>=2,it-=2}else if(Dt===17){for(R=St+3;it<R;){if(rt===0)break t;rt--,G+=H[Y++]<<it,it+=8}it-=St,m=0,ft=3+(7&(G>>>=St)),G>>>=3,it-=3}else{for(R=St+7;it<R;){if(rt===0)break t;rt--,G+=H[Y++]<<it,it+=8}it-=St,m=0,ft=11+(127&(G>>>=St)),G>>>=7,it-=7}if(O.have+ft>O.nlen+O.ndist){A.msg="invalid bit length repeat",O.mode=30;break}for(;ft--;)O.lens[O.have++]=m}}if(O.mode===30)break;if(O.lens[256]===0){A.msg="invalid code -- missing end-of-block",O.mode=30;break}if(O.lenbits=9,j={bits:O.lenbits},U=C(y,O.lens,0,O.nlen,O.lencode,0,O.work,j),O.lenbits=j.bits,U){A.msg="invalid literal/lengths set",O.mode=30;break}if(O.distbits=6,O.distcode=O.distdyn,j={bits:O.distbits},U=C(_,O.lens,O.nlen,O.ndist,O.distcode,0,O.work,j),O.distbits=j.bits,U){A.msg="invalid distances set",O.mode=30;break}if(O.mode=20,B===6)break t;case 20:O.mode=21;case 21:if(6<=rt&&258<=ut){A.next_out=lt,A.avail_out=ut,A.next_in=Y,A.avail_in=rt,O.hold=G,O.bits=it,l(A,pt),lt=A.next_out,nt=A.output,ut=A.avail_out,Y=A.next_in,H=A.input,rt=A.avail_in,G=O.hold,it=O.bits,O.mode===12&&(O.back=-1);break}for(O.back=0;Rt=(L=O.lencode[G&(1<<O.lenbits)-1])>>>16&255,Dt=65535&L,!((St=L>>>24)<=it);){if(rt===0)break t;rt--,G+=H[Y++]<<it,it+=8}if(Rt&&!(240&Rt)){for(Nt=St,K=Rt,et=Dt;Rt=(L=O.lencode[et+((G&(1<<Nt+K)-1)>>Nt)])>>>16&255,Dt=65535&L,!(Nt+(St=L>>>24)<=it);){if(rt===0)break t;rt--,G+=H[Y++]<<it,it+=8}G>>>=Nt,it-=Nt,O.back+=Nt}if(G>>>=St,it-=St,O.back+=St,O.length=Dt,Rt===0){O.mode=26;break}if(32&Rt){O.back=-1,O.mode=12;break}if(64&Rt){A.msg="invalid literal/length code",O.mode=30;break}O.extra=15&Rt,O.mode=22;case 22:if(O.extra){for(R=O.extra;it<R;){if(rt===0)break t;rt--,G+=H[Y++]<<it,it+=8}O.length+=G&(1<<O.extra)-1,G>>>=O.extra,it-=O.extra,O.back+=O.extra}O.was=O.length,O.mode=23;case 23:for(;Rt=(L=O.distcode[G&(1<<O.distbits)-1])>>>16&255,Dt=65535&L,!((St=L>>>24)<=it);){if(rt===0)break t;rt--,G+=H[Y++]<<it,it+=8}if(!(240&Rt)){for(Nt=St,K=Rt,et=Dt;Rt=(L=O.distcode[et+((G&(1<<Nt+K)-1)>>Nt)])>>>16&255,Dt=65535&L,!(Nt+(St=L>>>24)<=it);){if(rt===0)break t;rt--,G+=H[Y++]<<it,it+=8}G>>>=Nt,it-=Nt,O.back+=Nt}if(G>>>=St,it-=St,O.back+=St,64&Rt){A.msg="invalid distance code",O.mode=30;break}O.offset=Dt,O.extra=15&Rt,O.mode=24;case 24:if(O.extra){for(R=O.extra;it<R;){if(rt===0)break t;rt--,G+=H[Y++]<<it,it+=8}O.offset+=G&(1<<O.extra)-1,G>>>=O.extra,it-=O.extra,O.back+=O.extra}if(O.offset>O.dmax){A.msg="invalid distance too far back",O.mode=30;break}O.mode=25;case 25:if(ut===0)break t;if(ft=pt-ut,O.offset>ft){if((ft=O.offset-ft)>O.whave&&O.sane){A.msg="invalid distance too far back",O.mode=30;break}Et=ft>O.wnext?(ft-=O.wnext,O.wsize-ft):O.wnext-ft,ft>O.length&&(ft=O.length),kt=O.window}else kt=nt,Et=lt-O.offset,ft=O.length;for(ut<ft&&(ft=ut),ut-=ft,O.length-=ft;nt[lt++]=kt[Et++],--ft;);O.length===0&&(O.mode=21);break;case 26:if(ut===0)break t;nt[lt++]=O.length,ut--,O.mode=21;break;case 27:if(O.wrap){for(;it<32;){if(rt===0)break t;rt--,G|=H[Y++]<<it,it+=8}if(pt-=ut,A.total_out+=pt,O.total+=pt,pt&&(A.adler=O.check=O.flags?u(O.check,nt,pt,lt-pt):h(O.check,nt,pt,lt-pt)),pt=ut,(O.flags?G:d(G))!==O.check){A.msg="incorrect data check",O.mode=30;break}it=G=0}O.mode=28;case 28:if(O.wrap&&O.flags){for(;it<32;){if(rt===0)break t;rt--,G+=H[Y++]<<it,it+=8}if(G!==(4294967295&O.total)){A.msg="incorrect length check",O.mode=30;break}it=G=0}O.mode=29;case 29:U=1;break t;case 30:U=-3;break t;case 31:return-4;case 32:default:return c}return A.next_out=lt,A.avail_out=ut,A.next_in=Y,A.avail_in=rt,O.hold=G,O.bits=it,(O.wsize||pt!==A.avail_out&&O.mode<30&&(O.mode<27||B!==4))&&N(A,A.output,A.next_out,pt-A.avail_out)?(O.mode=31,-4):(gt-=A.avail_in,pt-=A.avail_out,A.total_in+=gt,A.total_out+=pt,O.total+=pt,O.wrap&&pt&&(A.adler=O.check=O.flags?u(O.check,nt,pt,A.next_out-pt):h(O.check,nt,pt,A.next_out-pt)),A.data_type=O.bits+(O.last?64:0)+(O.mode===12?128:0)+(O.mode===20||O.mode===15?256:0),(gt==0&&pt===0||B===4)&&U===a&&(U=-5),U)},n.inflateEnd=function(A){if(!A||!A.state)return c;var B=A.state;return B.window&&(B.window=null),A.state=null,a},n.inflateGetHeader=function(A,B){var O;return A&&A.state&&2&(O=A.state).wrap?((O.head=B).done=!1,a):c},n.inflateSetDictionary=function(A,B){var O,H=B.length;return A&&A.state?(O=A.state).wrap!==0&&O.mode!==11?c:O.mode===11&&h(1,B,H,0)!==O.check?-3:N(A,B,H,H)?(O.mode=31,-4):(O.havedict=1,a):c},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,o,n){var i=r("../utils/common"),h=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],u=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],C=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];o.exports=function(y,_,a,c,w,s,v,d){var b,p,x,E,f,S,I,P,T,N=d.bits,A=0,B=0,O=0,H=0,nt=0,Y=0,lt=0,rt=0,ut=0,G=0,it=null,gt=0,pt=new i.Buf16(16),ft=new i.Buf16(16),Et=null,kt=0;for(A=0;A<=15;A++)pt[A]=0;for(B=0;B<c;B++)pt[_[a+B]]++;for(nt=N,H=15;1<=H&&pt[H]===0;H--);if(H<nt&&(nt=H),H===0)return w[s++]=20971520,w[s++]=20971520,d.bits=1,0;for(O=1;O<H&&pt[O]===0;O++);for(nt<O&&(nt=O),A=rt=1;A<=15;A++)if(rt<<=1,(rt-=pt[A])<0)return-1;if(0<rt&&(y===0||H!==1))return-1;for(ft[1]=0,A=1;A<15;A++)ft[A+1]=ft[A]+pt[A];for(B=0;B<c;B++)_[a+B]!==0&&(v[ft[_[a+B]]++]=B);if(S=y===0?(it=Et=v,19):y===1?(it=h,gt-=257,Et=u,kt-=257,256):(it=l,Et=C,-1),A=O,f=s,lt=B=G=0,x=-1,E=(ut=1<<(Y=nt))-1,y===1&&852<ut||y===2&&592<ut)return 1;for(;;){for(I=A-lt,T=v[B]<S?(P=0,v[B]):v[B]>S?(P=Et[kt+v[B]],it[gt+v[B]]):(P=96,0),b=1<<A-lt,O=p=1<<Y;w[f+(G>>lt)+(p-=b)]=I<<24|P<<16|T|0,p!==0;);for(b=1<<A-1;G&b;)b>>=1;if(b!==0?(G&=b-1,G+=b):G=0,B++,--pt[A]==0){if(A===H)break;A=_[a+v[B]]}if(nt<A&&(G&E)!==x){for(lt===0&&(lt=nt),f+=O,rt=1<<(Y=A-lt);Y+lt<H&&!((rt-=pt[Y+lt])<=0);)Y++,rt<<=1;if(ut+=1<<Y,y===1&&852<ut||y===2&&592<ut)return 1;w[x=G&E]=nt<<24|Y<<16|f-s|0}}return G!==0&&(w[f+G]=A-lt<<24|64<<16|0),d.bits=nt,0}},{"../utils/common":41}],51:[function(r,o,n){o.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,o,n){var i=r("../utils/common"),h=0,u=1;function l(L){for(var W=L.length;0<=--W;)L[W]=0}var C=0,y=29,_=256,a=_+1+y,c=30,w=19,s=2*a+1,v=15,d=16,b=7,p=256,x=16,E=17,f=18,S=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],I=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],P=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],T=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],N=new Array(2*(a+2));l(N);var A=new Array(2*c);l(A);var B=new Array(512);l(B);var O=new Array(256);l(O);var H=new Array(y);l(H);var nt,Y,lt,rt=new Array(c);function ut(L,W,Z,q,g){this.static_tree=L,this.extra_bits=W,this.extra_base=Z,this.elems=q,this.max_length=g,this.has_stree=L&&L.length}function G(L,W){this.dyn_tree=L,this.max_code=0,this.stat_desc=W}function it(L){return L<256?B[L]:B[256+(L>>>7)]}function gt(L,W){L.pending_buf[L.pending++]=255&W,L.pending_buf[L.pending++]=W>>>8&255}function pt(L,W,Z){L.bi_valid>d-Z?(L.bi_buf|=W<<L.bi_valid&65535,gt(L,L.bi_buf),L.bi_buf=W>>d-L.bi_valid,L.bi_valid+=Z-d):(L.bi_buf|=W<<L.bi_valid&65535,L.bi_valid+=Z)}function ft(L,W,Z){pt(L,Z[2*W],Z[2*W+1])}function Et(L,W){for(var Z=0;Z|=1&L,L>>>=1,Z<<=1,0<--W;);return Z>>>1}function kt(L,W,Z){var q,g,k=new Array(v+1),D=0;for(q=1;q<=v;q++)k[q]=D=D+Z[q-1]<<1;for(g=0;g<=W;g++){var M=L[2*g+1];M!==0&&(L[2*g]=Et(k[M]++,M))}}function St(L){var W;for(W=0;W<a;W++)L.dyn_ltree[2*W]=0;for(W=0;W<c;W++)L.dyn_dtree[2*W]=0;for(W=0;W<w;W++)L.bl_tree[2*W]=0;L.dyn_ltree[2*p]=1,L.opt_len=L.static_len=0,L.last_lit=L.matches=0}function Rt(L){8<L.bi_valid?gt(L,L.bi_buf):0<L.bi_valid&&(L.pending_buf[L.pending++]=L.bi_buf),L.bi_buf=0,L.bi_valid=0}function Dt(L,W,Z,q){var g=2*W,k=2*Z;return L[g]<L[k]||L[g]===L[k]&&q[W]<=q[Z]}function Nt(L,W,Z){for(var q=L.heap[Z],g=Z<<1;g<=L.heap_len&&(g<L.heap_len&&Dt(W,L.heap[g+1],L.heap[g],L.depth)&&g++,!Dt(W,q,L.heap[g],L.depth));)L.heap[Z]=L.heap[g],Z=g,g<<=1;L.heap[Z]=q}function K(L,W,Z){var q,g,k,D,M=0;if(L.last_lit!==0)for(;q=L.pending_buf[L.d_buf+2*M]<<8|L.pending_buf[L.d_buf+2*M+1],g=L.pending_buf[L.l_buf+M],M++,q===0?ft(L,g,W):(ft(L,(k=O[g])+_+1,W),(D=S[k])!==0&&pt(L,g-=H[k],D),ft(L,k=it(--q),Z),(D=I[k])!==0&&pt(L,q-=rt[k],D)),M<L.last_lit;);ft(L,p,W)}function et(L,W){var Z,q,g,k=W.dyn_tree,D=W.stat_desc.static_tree,M=W.stat_desc.has_stree,X=W.stat_desc.elems,J=-1;for(L.heap_len=0,L.heap_max=s,Z=0;Z<X;Z++)k[2*Z]!==0?(L.heap[++L.heap_len]=J=Z,L.depth[Z]=0):k[2*Z+1]=0;for(;L.heap_len<2;)k[2*(g=L.heap[++L.heap_len]=J<2?++J:0)]=1,L.depth[g]=0,L.opt_len--,M&&(L.static_len-=D[2*g+1]);for(W.max_code=J,Z=L.heap_len>>1;1<=Z;Z--)Nt(L,k,Z);for(g=X;Z=L.heap[1],L.heap[1]=L.heap[L.heap_len--],Nt(L,k,1),q=L.heap[1],L.heap[--L.heap_max]=Z,L.heap[--L.heap_max]=q,k[2*g]=k[2*Z]+k[2*q],L.depth[g]=(L.depth[Z]>=L.depth[q]?L.depth[Z]:L.depth[q])+1,k[2*Z+1]=k[2*q+1]=g,L.heap[1]=g++,Nt(L,k,1),2<=L.heap_len;);L.heap[--L.heap_max]=L.heap[1],function(at,vt){var Ct,It,Lt,At,jt,Mt,z=vt.dyn_tree,$=vt.max_code,tt=vt.stat_desc.static_tree,dt=vt.stat_desc.has_stree,xt=vt.stat_desc.extra_bits,Wt=vt.stat_desc.extra_base,Jt=vt.stat_desc.max_length,ne=0;for(At=0;At<=v;At++)at.bl_count[At]=0;for(z[2*at.heap[at.heap_max]+1]=0,Ct=at.heap_max+1;Ct<s;Ct++)Jt<(At=z[2*z[2*(It=at.heap[Ct])+1]+1]+1)&&(At=Jt,ne++),z[2*It+1]=At,$<It||(at.bl_count[At]++,jt=0,Wt<=It&&(jt=xt[It-Wt]),Mt=z[2*It],at.opt_len+=Mt*(At+jt),dt&&(at.static_len+=Mt*(tt[2*It+1]+jt)));if(ne!==0){do{for(At=Jt-1;at.bl_count[At]===0;)At--;at.bl_count[At]--,at.bl_count[At+1]+=2,at.bl_count[Jt]--,ne-=2}while(0<ne);for(At=Jt;At!==0;At--)for(It=at.bl_count[At];It!==0;)$<(Lt=at.heap[--Ct])||(z[2*Lt+1]!==At&&(at.opt_len+=(At-z[2*Lt+1])*z[2*Lt],z[2*Lt+1]=At),It--)}}(L,W),kt(k,J,L.bl_count)}function m(L,W,Z){var q,g,k=-1,D=W[1],M=0,X=7,J=4;for(D===0&&(X=138,J=3),W[2*(Z+1)+1]=65535,q=0;q<=Z;q++)g=D,D=W[2*(q+1)+1],++M<X&&g===D||(M<J?L.bl_tree[2*g]+=M:g!==0?(g!==k&&L.bl_tree[2*g]++,L.bl_tree[2*x]++):M<=10?L.bl_tree[2*E]++:L.bl_tree[2*f]++,k=g,J=(M=0)===D?(X=138,3):g===D?(X=6,3):(X=7,4))}function U(L,W,Z){var q,g,k=-1,D=W[1],M=0,X=7,J=4;for(D===0&&(X=138,J=3),q=0;q<=Z;q++)if(g=D,D=W[2*(q+1)+1],!(++M<X&&g===D)){if(M<J)for(;ft(L,g,L.bl_tree),--M!=0;);else g!==0?(g!==k&&(ft(L,g,L.bl_tree),M--),ft(L,x,L.bl_tree),pt(L,M-3,2)):M<=10?(ft(L,E,L.bl_tree),pt(L,M-3,3)):(ft(L,f,L.bl_tree),pt(L,M-11,7));k=g,J=(M=0)===D?(X=138,3):g===D?(X=6,3):(X=7,4)}}l(rt);var j=!1;function R(L,W,Z,q){pt(L,(C<<1)+(q?1:0),3),function(g,k,D,M){Rt(g),gt(g,D),gt(g,~D),i.arraySet(g.pending_buf,g.window,k,D,g.pending),g.pending+=D}(L,W,Z)}n._tr_init=function(L){j||(function(){var W,Z,q,g,k,D=new Array(v+1);for(g=q=0;g<y-1;g++)for(H[g]=q,W=0;W<1<<S[g];W++)O[q++]=g;for(O[q-1]=g,g=k=0;g<16;g++)for(rt[g]=k,W=0;W<1<<I[g];W++)B[k++]=g;for(k>>=7;g<c;g++)for(rt[g]=k<<7,W=0;W<1<<I[g]-7;W++)B[256+k++]=g;for(Z=0;Z<=v;Z++)D[Z]=0;for(W=0;W<=143;)N[2*W+1]=8,W++,D[8]++;for(;W<=255;)N[2*W+1]=9,W++,D[9]++;for(;W<=279;)N[2*W+1]=7,W++,D[7]++;for(;W<=287;)N[2*W+1]=8,W++,D[8]++;for(kt(N,a+1,D),W=0;W<c;W++)A[2*W+1]=5,A[2*W]=Et(W,5);nt=new ut(N,S,_+1,a,v),Y=new ut(A,I,0,c,v),lt=new ut(new Array(0),P,0,w,b)}(),j=!0),L.l_desc=new G(L.dyn_ltree,nt),L.d_desc=new G(L.dyn_dtree,Y),L.bl_desc=new G(L.bl_tree,lt),L.bi_buf=0,L.bi_valid=0,St(L)},n._tr_stored_block=R,n._tr_flush_block=function(L,W,Z,q){var g,k,D=0;0<L.level?(L.strm.data_type===2&&(L.strm.data_type=function(M){var X,J=4093624447;for(X=0;X<=31;X++,J>>>=1)if(1&J&&M.dyn_ltree[2*X]!==0)return h;if(M.dyn_ltree[18]!==0||M.dyn_ltree[20]!==0||M.dyn_ltree[26]!==0)return u;for(X=32;X<_;X++)if(M.dyn_ltree[2*X]!==0)return u;return h}(L)),et(L,L.l_desc),et(L,L.d_desc),D=function(M){var X;for(m(M,M.dyn_ltree,M.l_desc.max_code),m(M,M.dyn_dtree,M.d_desc.max_code),et(M,M.bl_desc),X=w-1;3<=X&&M.bl_tree[2*T[X]+1]===0;X--);return M.opt_len+=3*(X+1)+5+5+4,X}(L),g=L.opt_len+3+7>>>3,(k=L.static_len+3+7>>>3)<=g&&(g=k)):g=k=Z+5,Z+4<=g&&W!==-1?R(L,W,Z,q):L.strategy===4||k===g?(pt(L,2+(q?1:0),3),K(L,N,A)):(pt(L,4+(q?1:0),3),function(M,X,J,at){var vt;for(pt(M,X-257,5),pt(M,J-1,5),pt(M,at-4,4),vt=0;vt<at;vt++)pt(M,M.bl_tree[2*T[vt]+1],3);U(M,M.dyn_ltree,X-1),U(M,M.dyn_dtree,J-1)}(L,L.l_desc.max_code+1,L.d_desc.max_code+1,D+1),K(L,L.dyn_ltree,L.dyn_dtree)),St(L),q&&Rt(L)},n._tr_tally=function(L,W,Z){return L.pending_buf[L.d_buf+2*L.last_lit]=W>>>8&255,L.pending_buf[L.d_buf+2*L.last_lit+1]=255&W,L.pending_buf[L.l_buf+L.last_lit]=255&Z,L.last_lit++,W===0?L.dyn_ltree[2*Z]++:(L.matches++,W--,L.dyn_ltree[2*(O[Z]+_+1)]++,L.dyn_dtree[2*it(W)]++),L.last_lit===L.lit_bufsize-1},n._tr_align=function(L){pt(L,2,3),ft(L,p,N),function(W){W.bi_valid===16?(gt(W,W.bi_buf),W.bi_buf=0,W.bi_valid=0):8<=W.bi_valid&&(W.pending_buf[W.pending++]=255&W.bi_buf,W.bi_buf>>=8,W.bi_valid-=8)}(L)}},{"../utils/common":41}],53:[function(r,o,n){o.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,o,n){(function(i){(function(h,u){if(!h.setImmediate){var l,C,y,_,a=1,c={},w=!1,s=h.document,v=Object.getPrototypeOf&&Object.getPrototypeOf(h);v=v&&v.setTimeout?v:h,l={}.toString.call(h.process)==="[object process]"?function(x){process.nextTick(function(){b(x)})}:function(){if(h.postMessage&&!h.importScripts){var x=!0,E=h.onmessage;return h.onmessage=function(){x=!1},h.postMessage("","*"),h.onmessage=E,x}}()?(_="setImmediate$"+Math.random()+"$",h.addEventListener?h.addEventListener("message",p,!1):h.attachEvent("onmessage",p),function(x){h.postMessage(_+x,"*")}):h.MessageChannel?((y=new MessageChannel).port1.onmessage=function(x){b(x.data)},function(x){y.port2.postMessage(x)}):s&&"onreadystatechange"in s.createElement("script")?(C=s.documentElement,function(x){var E=s.createElement("script");E.onreadystatechange=function(){b(x),E.onreadystatechange=null,C.removeChild(E),E=null},C.appendChild(E)}):function(x){setTimeout(b,0,x)},v.setImmediate=function(x){typeof x!="function"&&(x=new Function(""+x));for(var E=new Array(arguments.length-1),f=0;f<E.length;f++)E[f]=arguments[f+1];var S={callback:x,args:E};return c[a]=S,l(a),a++},v.clearImmediate=d}function d(x){delete c[x]}function b(x){if(w)setTimeout(b,0,x);else{var E=c[x];if(E){w=!0;try{(function(f){var S=f.callback,I=f.args;switch(I.length){case 0:S();break;case 1:S(I[0]);break;case 2:S(I[0],I[1]);break;case 3:S(I[0],I[1],I[2]);break;default:S.apply(u,I)}})(E)}finally{d(x),w=!1}}}}function p(x){x.source===h&&typeof x.data=="string"&&x.data.indexOf(_)===0&&b(+x.data.slice(_.length))}})(typeof self=="undefined"?i===void 0?this:i:self)}).call(this,typeof Fi!="undefined"?Fi:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}]},{},[10])(10)})})(la);var Yn=la.exports;const Tf=Qt({__proto__:null,default:aa(Yn)},[Yn]);var ca={exports:{}};(function(t,e){(function(o,n){t.exports=n(Yn)})(window,function(r){return function(o){var n={};function i(h){if(n[h])return n[h].exports;var u=n[h]={i:h,l:!1,exports:{}};return o[h].call(u.exports,u,u.exports,i),u.l=!0,u.exports}return i.m=o,i.c=n,i.d=function(h,u,l){i.o(h,u)||Object.defineProperty(h,u,{enumerable:!0,get:l})},i.r=function(h){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(h,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(h,"__esModule",{value:!0})},i.t=function(h,u){if(u&1&&(h=i(h)),u&8||u&4&&typeof h=="object"&&h&&h.__esModule)return h;var l=Object.create(null);if(i.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:h}),u&2&&typeof h!="string")for(var C in h)i.d(l,C,function(y){return h[y]}.bind(null,C));return l},i.n=function(h){var u=h&&h.__esModule?function(){return h.default}:function(){return h};return i.d(u,"a",u),u},i.o=function(h,u){return Object.prototype.hasOwnProperty.call(h,u)},i.p="/dist/",i(i.s=30)}([function(o,n,i){i.r(n),i.d(n,"requestAnimationFrame",function(){return u}),i.d(n,"uuid",function(){return _}),i.d(n,"documentHeight",function(){return a}),i.d(n,"isElement",function(){return c}),i.d(n,"isNumber",function(){return w}),i.d(n,"isFloat",function(){return s}),i.d(n,"prefixed",function(){return v}),i.d(n,"defaults",function(){return d}),i.d(n,"extend",function(){return b}),i.d(n,"insert",function(){return p}),i.d(n,"locationOf",function(){return x}),i.d(n,"indexOfSorted",function(){return E}),i.d(n,"bounds",function(){return f}),i.d(n,"borders",function(){return S}),i.d(n,"nodeBounds",function(){return I}),i.d(n,"windowBounds",function(){return P}),i.d(n,"indexOfNode",function(){return T}),i.d(n,"indexOfTextNode",function(){return N}),i.d(n,"indexOfElementNode",function(){return A}),i.d(n,"isXml",function(){return B}),i.d(n,"createBlob",function(){return O}),i.d(n,"createBlobUrl",function(){return H}),i.d(n,"revokeBlobUrl",function(){return nt}),i.d(n,"createBase64Url",function(){return Y}),i.d(n,"type",function(){return lt}),i.d(n,"parse",function(){return rt}),i.d(n,"qs",function(){return ut}),i.d(n,"qsa",function(){return G}),i.d(n,"qsp",function(){return it}),i.d(n,"sprint",function(){return gt}),i.d(n,"treeWalker",function(){return pt}),i.d(n,"walk",function(){return ft}),i.d(n,"blob2base64",function(){return Et}),i.d(n,"defer",function(){return kt}),i.d(n,"querySelectorByType",function(){return St}),i.d(n,"findChildren",function(){return Rt}),i.d(n,"parents",function(){return Dt}),i.d(n,"filterChildren",function(){return Nt}),i.d(n,"getParentByTagName",function(){return K}),i.d(n,"RangeObject",function(){return et});var h=i(15);const u=typeof window!="undefined"?window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame:!1,l=1,C=3,y=typeof URL!="undefined"?URL:typeof window!="undefined"?window.URL||window.webkitURL||window.mozURL:void 0;function _(){var m=new Date().getTime(),U="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(j){var R=(m+Math.random()*16)%16|0;return m=Math.floor(m/16),(j=="x"?R:R&7|8).toString(16)});return U}function a(){return Math.max(document.documentElement.clientHeight,document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight)}function c(m){return!!(m&&m.nodeType==1)}function w(m){return!isNaN(parseFloat(m))&&isFinite(m)}function s(m){let U=parseFloat(m);return w(m)===!1?!1:typeof m=="string"&&m.indexOf(".")>-1?!0:Math.floor(U)!==U}function v(m){var U=["Webkit","webkit","Moz","O","ms"],j=["-webkit-","-webkit-","-moz-","-o-","-ms-"],R=m.toLowerCase(),L=U.length;if(typeof document=="undefined"||typeof document.body.style[R]!="undefined")return m;for(var W=0;W<L;W++)if(typeof document.body.style[j[W]+R]!="undefined")return j[W]+R;return m}function d(m){for(var U=1,j=arguments.length;U<j;U++){var R=arguments[U];for(var L in R)m[L]===void 0&&(m[L]=R[L])}return m}function b(m){var U=[].slice.call(arguments,1);return U.forEach(function(j){j&&Object.getOwnPropertyNames(j).forEach(function(R){Object.defineProperty(m,R,Object.getOwnPropertyDescriptor(j,R))})}),m}function p(m,U,j){var R=x(m,U,j);return U.splice(R,0,m),R}function x(m,U,j,R,L){var W=R||0,Z=L||U.length,q=parseInt(W+(Z-W)/2),g;return j||(j=function(k,D){if(k>D)return 1;if(k<D)return-1;if(k==D)return 0}),Z-W<=0?q:(g=j(U[q],m),Z-W===1?g>=0?q:q+1:g===0?q:g===-1?x(m,U,j,q,Z):x(m,U,j,W,q))}function E(m,U,j,R,L){var W=R||0,Z=L||U.length,q=parseInt(W+(Z-W)/2),g;return j||(j=function(k,D){if(k>D)return 1;if(k<D)return-1;if(k==D)return 0}),Z-W<=0?-1:(g=j(U[q],m),Z-W===1?g===0?q:-1:g===0?q:g===-1?E(m,U,j,q,Z):E(m,U,j,W,q))}function f(m){var U=window.getComputedStyle(m),j=["width","paddingRight","paddingLeft","marginRight","marginLeft","borderRightWidth","borderLeftWidth"],R=["height","paddingTop","paddingBottom","marginTop","marginBottom","borderTopWidth","borderBottomWidth"],L=0,W=0;return j.forEach(function(Z){L+=parseFloat(U[Z])||0}),R.forEach(function(Z){W+=parseFloat(U[Z])||0}),{height:W,width:L}}function S(m){var U=window.getComputedStyle(m),j=["paddingRight","paddingLeft","marginRight","marginLeft","borderRightWidth","borderLeftWidth"],R=["paddingTop","paddingBottom","marginTop","marginBottom","borderTopWidth","borderBottomWidth"],L=0,W=0;return j.forEach(function(Z){L+=parseFloat(U[Z])||0}),R.forEach(function(Z){W+=parseFloat(U[Z])||0}),{height:W,width:L}}function I(m){let U,j=m.ownerDocument;if(m.nodeType==Node.TEXT_NODE){let R=j.createRange();R.selectNodeContents(m),U=R.getBoundingClientRect()}else U=m.getBoundingClientRect();return U}function P(){var m=window.innerWidth,U=window.innerHeight;return{top:0,left:0,right:m,bottom:U,width:m,height:U}}function T(m,U){for(var j=m.parentNode,R=j.childNodes,L,W=-1,Z=0;Z<R.length&&(L=R[Z],L.nodeType===U&&W++,L!=m);Z++);return W}function N(m){return T(m,C)}function A(m){return T(m,l)}function B(m){return["xml","opf","ncx"].indexOf(m)>-1}function O(m,U){return new Blob([m],{type:U})}function H(m,U){var j,R=O(m,U);return j=y.createObjectURL(R),j}function nt(m){return y.revokeObjectURL(m)}function Y(m,U){var j,R;if(typeof m=="string")return j=btoa(m),R="data:"+U+";base64,"+j,R}function lt(m){return Object.prototype.toString.call(m).slice(8,-1)}function rt(m,U,j){var R,L;return typeof DOMParser=="undefined"||j?L=h.DOMParser:L=DOMParser,m.charCodeAt(0)===65279&&(m=m.slice(1)),R=new L().parseFromString(m,U),R}function ut(m,U){var j;if(!m)throw new Error("No Element Provided");if(typeof m.querySelector!="undefined")return m.querySelector(U);if(j=m.getElementsByTagName(U),j.length)return j[0]}function G(m,U){return typeof m.querySelector!="undefined"?m.querySelectorAll(U):m.getElementsByTagName(U)}function it(m,U,j){var R,L;if(typeof m.querySelector!="undefined"){U+="[";for(var W in j)U+=W+"~='"+j[W]+"'";return U+="]",m.querySelector(U)}else if(R=m.getElementsByTagName(U),L=Array.prototype.slice.call(R,0).filter(function(Z){for(var q in j)if(Z.getAttribute(q)===j[q])return!0;return!1}),L)return L[0]}function gt(m,U){var j=m.ownerDocument||m;typeof j.createTreeWalker!="undefined"?pt(m,U,NodeFilter.SHOW_TEXT):ft(m,function(R){R&&R.nodeType===3&&U(R)})}function pt(m,U,j){var R=document.createTreeWalker(m,j,null,!1);let L;for(;L=R.nextNode();)U(L)}function ft(m,U){if(U(m))return!0;if(m=m.firstChild,m)do{if(ft(m,U))return!0;m=m.nextSibling}while(m)}function Et(m){return new Promise(function(U,j){var R=new FileReader;R.readAsDataURL(m),R.onloadend=function(){U(R.result)}})}function kt(){this.resolve=null,this.reject=null,this.id=_(),this.promise=new Promise((m,U)=>{this.resolve=m,this.reject=U}),Object.freeze(this)}function St(m,U,j){var R;if(typeof m.querySelector!="undefined"&&(R=m.querySelector(`${U}[*|type="${j}"]`)),!R||R.length===0){R=G(m,U);for(var L=0;L<R.length;L++)if(R[L].getAttributeNS("http://www.idpf.org/2007/ops","type")===j||R[L].getAttribute("epub:type")===j)return R[L]}else return R}function Rt(m){for(var U=[],j=m.childNodes,R=0;R<j.length;R++){let L=j[R];L.nodeType===1&&U.push(L)}return U}function Dt(m){for(var U=[m];m;m=m.parentNode)U.unshift(m);return U}function Nt(m,U,j){for(var R=[],L=m.childNodes,W=0;W<L.length;W++){let Z=L[W];if(Z.nodeType===1&&Z.nodeName.toLowerCase()===U){if(j)return Z;R.push(Z)}}if(!j)return R}function K(m,U){let j;if(!(m===null||U===""))for(j=m.parentNode;j.nodeType===1;){if(j.tagName.toLowerCase()===U)return j;j=j.parentNode}}class et{constructor(){this.collapsed=!1,this.commonAncestorContainer=void 0,this.endContainer=void 0,this.endOffset=void 0,this.startContainer=void 0,this.startOffset=void 0}setStart(U,j){this.startContainer=U,this.startOffset=j,this.endContainer?this.commonAncestorContainer=this._commonAncestorContainer():this.collapse(!0),this._checkCollapsed()}setEnd(U,j){this.endContainer=U,this.endOffset=j,this.startContainer?(this.collapsed=!1,this.commonAncestorContainer=this._commonAncestorContainer()):this.collapse(!1),this._checkCollapsed()}collapse(U){this.collapsed=!0,U?(this.endContainer=this.startContainer,this.endOffset=this.startOffset,this.commonAncestorContainer=this.startContainer.parentNode):(this.startContainer=this.endContainer,this.startOffset=this.endOffset,this.commonAncestorContainer=this.endOffset.parentNode)}selectNode(U){let j=U.parentNode,R=Array.prototype.indexOf.call(j.childNodes,U);this.setStart(j,R),this.setEnd(j,R+1)}selectNodeContents(U){U.childNodes[U.childNodes-1];let j=U.nodeType===3?U.textContent.length:parent.childNodes.length;this.setStart(U,0),this.setEnd(U,j)}_commonAncestorContainer(U,j){var R=Dt(U||this.startContainer),L=Dt(j||this.endContainer);if(R[0]==L[0]){for(var W=0;W<R.length;W++)if(R[W]!=L[W])return R[W-1]}}_checkCollapsed(){this.startContainer===this.endContainer&&this.startOffset===this.endOffset?this.collapsed=!0:this.collapsed=!1}toString(){}}},function(o,n,i){i.d(n,"b",function(){return h}),i.d(n,"a",function(){return u}),i.d(n,"c",function(){return l});const h="0.3",u=["keydown","keyup","keypressed","mouseup","mousedown","mousemove","click","touchend","touchstart","touchmove"],l={BOOK:{OPEN_FAILED:"openFailed"},CONTENTS:{EXPAND:"expand",RESIZE:"resize",SELECTED:"selected",SELECTED_RANGE:"selectedRange",LINK_CLICKED:"linkClicked"},LOCATIONS:{CHANGED:"changed"},MANAGERS:{RESIZE:"resize",RESIZED:"resized",ORIENTATION_CHANGE:"orientationchange",ADDED:"added",SCROLL:"scroll",SCROLLED:"scrolled",REMOVED:"removed"},VIEWS:{AXIS:"axis",WRITING_MODE:"writingMode",LOAD_ERROR:"loaderror",RENDERED:"rendered",RESIZED:"resized",DISPLAYED:"displayed",SHOWN:"shown",HIDDEN:"hidden",MARK_CLICKED:"markClicked"},RENDITION:{STARTED:"started",ATTACHED:"attached",DISPLAYED:"displayed",DISPLAY_ERROR:"displayerror",RENDERED:"rendered",REMOVED:"removed",RESIZED:"resized",ORIENTATION_CHANGE:"orientationchange",LOCATION_CHANGED:"locationChanged",RELOCATED:"relocated",MARK_CLICKED:"markClicked",SELECTED:"selected",LAYOUT:"layout"},LAYOUT:{UPDATED:"updated"},ANNOTATION:{ATTACH:"attach",DETACH:"detach"}}},function(o,n,i){var h=i(0);const u=1,l=3,C=9;class y{constructor(a,c,w){var s;if(this.str="",this.base={},this.spinePos=0,this.range=!1,this.path={},this.start=null,this.end=null,!(this instanceof y))return new y(a,c,w);if(typeof c=="string"?this.base=this.parseComponent(c):typeof c=="object"&&c.steps&&(this.base=c),s=this.checkType(a),s==="string")return this.str=a,Object(h.extend)(this,this.parse(a));if(s==="range")return Object(h.extend)(this,this.fromRange(a,this.base,w));if(s==="node")return Object(h.extend)(this,this.fromNode(a,this.base,w));if(s==="EpubCFI"&&a.path)return a;if(a)throw new TypeError("not a valid argument for EpubCFI");return this}checkType(a){return this.isCfiString(a)?"string":a&&typeof a=="object"&&(Object(h.type)(a)==="Range"||typeof a.startContainer!="undefined")?"range":a&&typeof a=="object"&&typeof a.nodeType!="undefined"?"node":a&&typeof a=="object"&&a instanceof y?"EpubCFI":!1}parse(a){var c={spinePos:-1,range:!1,base:{},path:{},start:null,end:null},w,s,v;return typeof a!="string"?{spinePos:-1}:(a.indexOf("epubcfi(")===0&&a[a.length-1]===")"&&(a=a.slice(8,a.length-1)),w=this.getChapterComponent(a),w?(c.base=this.parseComponent(w),s=this.getPathComponent(a),c.path=this.parseComponent(s),v=this.getRange(a),v&&(c.range=!0,c.start=this.parseComponent(v[0]),c.end=this.parseComponent(v[1])),c.spinePos=c.base.steps[1].index,c):{spinePos:-1})}parseComponent(a){var c={steps:[],terminal:{offset:null,assertion:null}},w=a.split(":"),s=w[0].split("/"),v;return w.length>1&&(v=w[1],c.terminal=this.parseTerminal(v)),s[0]===""&&s.shift(),c.steps=s.map(function(d){return this.parseStep(d)}.bind(this)),c}parseStep(a){var c,w,s,v,d;if(v=a.match(/\[(.*)\]/),v&&v[1]&&(d=v[1]),w=parseInt(a),!isNaN(w))return w%2===0?(c="element",s=w/2-1):(c="text",s=(w-1)/2),{type:c,index:s,id:d||null}}parseTerminal(a){var c,w,s=a.match(/\[(.*)\]/);return s&&s[1]?(c=parseInt(a.split("[")[0]),w=s[1]):c=parseInt(a),Object(h.isNumber)(c)||(c=null),{offset:c,assertion:w}}getChapterComponent(a){var c=a.split("!");return c[0]}getPathComponent(a){var c=a.split("!");if(c[1])return c[1].split(",")[0]}getRange(a){var c=a.split(",");return c.length===3?[c[1],c[2]]:!1}getCharecterOffsetComponent(a){var c=a.split(":");return c[1]||""}joinSteps(a){return a?a.map(function(c){var w="";return c.type==="element"&&(w+=(c.index+1)*2),c.type==="text"&&(w+=1+2*c.index),c.id&&(w+="["+c.id+"]"),w}).join("/"):""}segmentString(a){var c="/";return c+=this.joinSteps(a.steps),a.terminal&&a.terminal.offset!=null&&(c+=":"+a.terminal.offset),a.terminal&&a.terminal.assertion!=null&&(c+="["+a.terminal.assertion+"]"),c}toString(){var a="epubcfi(";return a+=this.segmentString(this.base),a+="!",a+=this.segmentString(this.path),this.range&&this.start&&(a+=",",a+=this.segmentString(this.start)),this.range&&this.end&&(a+=",",a+=this.segmentString(this.end)),a+=")",a}compare(a,c){var w,s,v,d;if(typeof a=="string"&&(a=new y(a)),typeof c=="string"&&(c=new y(c)),a.spinePos>c.spinePos)return 1;if(a.spinePos<c.spinePos)return-1;a.range?(w=a.path.steps.concat(a.start.steps),v=a.start.terminal):(w=a.path.steps,v=a.path.terminal),c.range?(s=c.path.steps.concat(c.start.steps),d=c.start.terminal):(s=c.path.steps,d=c.path.terminal);for(var b=0;b<w.length;b++){if(!w[b])return-1;if(!s[b]||w[b].index>s[b].index)return 1;if(w[b].index<s[b].index)return-1}return w.length<s.length?-1:v.offset>d.offset?1:v.offset<d.offset?-1:0}step(a){var c=a.nodeType===l?"text":"element";return{id:a.id,tagName:a.tagName,type:c,index:this.position(a)}}filteredStep(a,c){var w=this.filter(a,c),s;if(w)return s=w.nodeType===l?"text":"element",{id:w.id,tagName:w.tagName,type:s,index:this.filteredPosition(w,c)}}pathTo(a,c,w){for(var s={steps:[],terminal:{offset:null,assertion:null}},v=a,d;v&&v.parentNode&&v.parentNode.nodeType!=C;)w?d=this.filteredStep(v,w):d=this.step(v),d&&s.steps.unshift(d),v=v.parentNode;return c!=null&&c>=0&&(s.terminal.offset=c,s.steps[s.steps.length-1].type!="text"&&s.steps.push({type:"text",index:0})),s}equalStep(a,c){return!a||!c?!1:a.index===c.index&&a.id===c.id&&a.type===c.type}fromRange(a,c,w){var s={range:!1,base:{},path:{},start:null,end:null},v=a.startContainer,d=a.endContainer,b=a.startOffset,p=a.endOffset,x=!1;if(w&&(x=v.ownerDocument.querySelector("."+w)!=null),typeof c=="string"?(s.base=this.parseComponent(c),s.spinePos=s.base.steps[1].index):typeof c=="object"&&(s.base=c),a.collapsed)x&&(b=this.patchOffset(v,b,w)),s.path=this.pathTo(v,b,w);else{s.range=!0,x&&(b=this.patchOffset(v,b,w)),s.start=this.pathTo(v,b,w),x&&(p=this.patchOffset(d,p,w)),s.end=this.pathTo(d,p,w),s.path={steps:[],terminal:null};var E=s.start.steps.length,f;for(f=0;f<E&&this.equalStep(s.start.steps[f],s.end.steps[f]);f++)f===E-1?s.start.terminal===s.end.terminal&&(s.path.steps.push(s.start.steps[f]),s.range=!1):s.path.steps.push(s.start.steps[f]);s.start.steps=s.start.steps.slice(s.path.steps.length),s.end.steps=s.end.steps.slice(s.path.steps.length)}return s}fromNode(a,c,w){var s={range:!1,base:{},path:{},start:null,end:null};return typeof c=="string"?(s.base=this.parseComponent(c),s.spinePos=s.base.steps[1].index):typeof c=="object"&&(s.base=c),s.path=this.pathTo(a,null,w),s}filter(a,c){var w,s,v,d,b,p=!1;return a.nodeType===l?(p=!0,v=a.parentNode,w=a.parentNode.classList.contains(c)):(p=!1,w=a.classList.contains(c)),w&&p?(d=v.previousSibling,b=v.nextSibling,d&&d.nodeType===l?s=d:b&&b.nodeType===l&&(s=b),s||a):w&&!p?!1:a}patchOffset(a,c,w){if(a.nodeType!=l)throw new Error("Anchor must be a text node");var s=a,v=c;for(a.parentNode.classList.contains(w)&&(s=a.parentNode);s.previousSibling;){if(s.previousSibling.nodeType===u)if(s.previousSibling.classList.contains(w))v+=s.previousSibling.textContent.length;else break;else v+=s.previousSibling.textContent.length;s=s.previousSibling}return v}normalizedMap(a,c,w){var s={},v=-1,d,b=a.length,p,x;for(d=0;d<b;d++)p=a[d].nodeType,p===u&&a[d].classList.contains(w)&&(p=l),d>0&&p===l&&x===l?s[d]=v:c===p&&(v=v+1,s[d]=v),x=p;return s}position(a){var c,w;return a.nodeType===u?(c=a.parentNode.children,c||(c=Object(h.findChildren)(a.parentNode)),w=Array.prototype.indexOf.call(c,a)):(c=this.textNodes(a.parentNode),w=c.indexOf(a)),w}filteredPosition(a,c){var w,s,v;return a.nodeType===u?(w=a.parentNode.children,v=this.normalizedMap(w,u,c)):(w=a.parentNode.childNodes,a.parentNode.classList.contains(c)&&(a=a.parentNode,w=a.parentNode.childNodes),v=this.normalizedMap(w,l,c)),s=Array.prototype.indexOf.call(w,a),v[s]}stepsToXpath(a){var c=[".","*"];return a.forEach(function(w){var s=w.index+1;w.id?c.push("*[position()="+s+" and @id='"+w.id+"']"):w.type==="text"?c.push("text()["+s+"]"):c.push("*["+s+"]")}),c.join("/")}stepsToQuerySelector(a){var c=["html"];return a.forEach(function(w){var s=w.index+1;w.id?c.push("#"+w.id):w.type==="text"||c.push("*:nth-child("+s+")")}),c.join(">")}textNodes(a,c){return Array.prototype.slice.call(a.childNodes).filter(function(w){return w.nodeType===l?!0:!!(c&&w.classList.contains(c))})}walkToNode(a,c,w){var s=c||document,v=s.documentElement,d,b,p=a.length,x;for(x=0;x<p&&(b=a[x],b.type==="element"?b.id?v=s.getElementById(b.id):(d=v.children||Object(h.findChildren)(v),v=d[b.index]):b.type==="text"&&(v=this.textNodes(v,w)[b.index]),!!v);x++);return v}findNode(a,c,w){var s=c||document,v,d;return!w&&typeof s.evaluate!="undefined"?(d=this.stepsToXpath(a),v=s.evaluate(d,s,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue):w?v=this.walkToNode(a,s,w):v=this.walkToNode(a,s),v}fixMiss(a,c,w,s){var v=this.findNode(a.slice(0,-1),w,s),d=v.childNodes,b=this.normalizedMap(d,l,s),p,x,E=a[a.length-1].index;for(let f in b){if(!b.hasOwnProperty(f))return;if(b[f]===E)if(p=d[f],x=p.textContent.length,c>x)c=c-x;else{p.nodeType===u?v=p.childNodes[0]:v=p;break}}return{container:v,offset:c}}toRange(a,c){var w=a||document,s,v,d,b,p,x=this,E,f,S=c?w.querySelector("."+c)!=null:!1,I;if(typeof w.createRange!="undefined"?s=w.createRange():s=new h.RangeObject,x.range?(v=x.start,E=x.path.steps.concat(v.steps),b=this.findNode(E,w,S?c:null),d=x.end,f=x.path.steps.concat(d.steps),p=this.findNode(f,w,S?c:null)):(v=x.path,E=x.path.steps,b=this.findNode(x.path.steps,w,S?c:null)),b)try{v.terminal.offset!=null?s.setStart(b,v.terminal.offset):s.setStart(b,0)}catch(P){I=this.fixMiss(E,v.terminal.offset,w,S?c:null),s.setStart(I.container,I.offset)}else return console.log("No startContainer found for",this.toString()),null;if(p)try{d.terminal.offset!=null?s.setEnd(p,d.terminal.offset):s.setEnd(p,0)}catch(P){I=this.fixMiss(f,x.end.terminal.offset,w,S?c:null),s.setEnd(I.container,I.offset)}return s}isCfiString(a){return typeof a=="string"&&a.indexOf("epubcfi(")===0&&a[a.length-1]===")"}generateChapterComponent(a,c,w){var s=parseInt(c),v=(a+1)*2,d="/"+v+"/";return d+=(s+1)*2,w&&(d+="["+w+"]"),d}collapse(a){this.range&&(this.range=!1,a?(this.path.steps=this.path.steps.concat(this.start.steps),this.path.terminal=this.start.terminal):(this.path.steps=this.path.steps.concat(this.end.steps),this.path.terminal=this.end.terminal))}}n.a=y},function(o,n,i){var h=i(31),u=i(45),l=Function.prototype.apply,C=Function.prototype.call,y=Object.create,_=Object.defineProperty,a=Object.defineProperties,c=Object.prototype.hasOwnProperty,w={configurable:!0,enumerable:!1,writable:!0},s,v,d,b,p,x,E;s=function(f,S){var I;return u(S),c.call(this,"__ee__")?I=this.__ee__:(I=w.value=y(null),_(this,"__ee__",w),w.value=null),I[f]?typeof I[f]=="object"?I[f].push(S):I[f]=[I[f],S]:I[f]=S,this},v=function(f,S){var I,P;return u(S),P=this,s.call(this,f,I=function(){d.call(P,f,I),l.call(S,this,arguments)}),I.__eeOnceListener__=S,this},d=function(f,S){var I,P,T,N;if(u(S),!c.call(this,"__ee__"))return this;if(I=this.__ee__,!I[f])return this;if(P=I[f],typeof P=="object")for(N=0;T=P[N];++N)(T===S||T.__eeOnceListener__===S)&&(P.length===2?I[f]=P[N?0:1]:P.splice(N,1));else(P===S||P.__eeOnceListener__===S)&&delete I[f];return this},b=function(f){var S,I,P,T,N;if(c.call(this,"__ee__")&&(T=this.__ee__[f],!!T))if(typeof T=="object"){for(I=arguments.length,N=new Array(I-1),S=1;S<I;++S)N[S-1]=arguments[S];for(T=T.slice(),S=0;P=T[S];++S)l.call(P,this,N)}else switch(arguments.length){case 1:C.call(T,this);break;case 2:C.call(T,this,arguments[1]);break;case 3:C.call(T,this,arguments[1],arguments[2]);break;default:for(I=arguments.length,N=new Array(I-1),S=1;S<I;++S)N[S-1]=arguments[S];l.call(T,this,N)}},p={on:s,once:v,off:d,emit:b},x={on:h(s),once:h(v),off:h(d),emit:h(b)},E=a({},x),o.exports=n=function(f){return f==null?y(E):a(Object(f),x)},n.methods=p},function(o,n,i){var h=i(7),u=i.n(h);class l{constructor(y){var _,a;_=y.indexOf("://"),_>-1&&(y=new URL(y).pathname),a=this.parse(y),this.path=y,this.isDirectory(y)?this.directory=y:this.directory=a.dir+"/",this.filename=a.base,this.extension=a.ext.slice(1)}parse(y){return u.a.parse(y)}isAbsolute(y){return u.a.isAbsolute(y||this.path)}isDirectory(y){return y.charAt(y.length-1)==="/"}resolve(y){return u.a.resolve(this.directory,y)}relative(y){var _=y&&y.indexOf("://")>-1;return _?y:u.a.relative(this.directory,y)}splitPath(y){return this.splitPathRe.exec(y).slice(1)}toString(){return this.path}}n.a=l},function(o,n,i){var h=i(4),u=i(7),l=i.n(u);class C{constructor(_,a){var c=_.indexOf("://")>-1,w=_,s;if(this.Url=void 0,this.href=_,this.protocol="",this.origin="",this.hash="",this.hash="",this.search="",this.base=a,!c&&a!==!1&&typeof a!="string"&&window&&window.location&&(this.base=window.location.href),c||this.base)try{this.base?this.Url=new URL(_,this.base):this.Url=new URL(_),this.href=this.Url.href,this.protocol=this.Url.protocol,this.origin=this.Url.origin,this.hash=this.Url.hash,this.search=this.Url.search,w=this.Url.pathname+(this.Url.search?this.Url.search:"")}catch(v){this.Url=void 0,this.base&&(s=new h.a(this.base),w=s.resolve(w))}this.Path=new h.a(w),this.directory=this.Path.directory,this.filename=this.Path.filename,this.extension=this.Path.extension}path(){return this.Path}resolve(_){var a=_.indexOf("://")>-1,c;return a?_:(c=l.a.resolve(this.directory,_),this.origin+c)}relative(_){return l.a.relative(_,this.directory)}toString(){return this.href}}n.a=C},function(o,n,i){class h{constructor(l){this.context=l||this,this.hooks=[]}register(){for(var l=0;l<arguments.length;++l)if(typeof arguments[l]=="function")this.hooks.push(arguments[l]);else for(var C=0;C<arguments[l].length;++C)this.hooks.push(arguments[l][C])}deregister(l){let C;for(let y=0;y<this.hooks.length;y++)if(C=this.hooks[y],C===l){this.hooks.splice(y,1);break}}trigger(){var l=arguments,C=this.context,y=[];return this.hooks.forEach(function(_){try{var a=_.apply(C,l)}catch(c){console.log(c)}a&&typeof a.then=="function"&&y.push(a)}),Promise.all(y)}list(){return this.hooks}clear(){return this.hooks=[]}}n.a=h},function(o,n,i){if(!h)var h={cwd:function(){return"/"}};function u(_){if(typeof _!="string")throw new TypeError("Path must be a string. Received "+_)}function l(_,a){for(var c="",w=-1,s=0,v,d=0;d<=_.length;++d){if(d<_.length)v=_.charCodeAt(d);else{if(v===47)break;v=47}if(v===47){if(!(w===d-1||s===1))if(w!==d-1&&s===2){if(c.length<2||c.charCodeAt(c.length-1)!==46||c.charCodeAt(c.length-2)!==46){if(c.length>2){for(var b=c.length-1,p=b;p>=0&&c.charCodeAt(p)!==47;--p);if(p!==b){p===-1?c="":c=c.slice(0,p),w=d,s=0;continue}}else if(c.length===2||c.length===1){c="",w=d,s=0;continue}}a&&(c.length>0?c+="/..":c="..")}else c.length>0?c+="/"+_.slice(w+1,d):c=_.slice(w+1,d);w=d,s=0}else v===46&&s!==-1?++s:s=-1}return c}function C(_,a){var c=a.dir||a.root,w=a.base||(a.name||"")+(a.ext||"");return c?c===a.root?c+w:c+_+w:w}var y={resolve:function(){for(var a="",c=!1,w,s=arguments.length-1;s>=-1&&!c;s--){var v;s>=0?v=arguments[s]:(w===void 0&&(w=h.cwd()),v=w),u(v),v.length!==0&&(a=v+"/"+a,c=v.charCodeAt(0)===47)}return a=l(a,!c),c?a.length>0?"/"+a:"/":a.length>0?a:"."},normalize:function(a){if(u(a),a.length===0)return".";var c=a.charCodeAt(0)===47,w=a.charCodeAt(a.length-1)===47;return a=l(a,!c),a.length===0&&!c&&(a="."),a.length>0&&w&&(a+="/"),c?"/"+a:a},isAbsolute:function(a){return u(a),a.length>0&&a.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var a,c=0;c<arguments.length;++c){var w=arguments[c];u(w),w.length>0&&(a===void 0?a=w:a+="/"+w)}return a===void 0?".":y.normalize(a)},relative:function(a,c){if(u(a),u(c),a===c||(a=y.resolve(a),c=y.resolve(c),a===c))return"";for(var w=1;w<a.length&&a.charCodeAt(w)===47;++w);for(var s=a.length,v=s-w,d=1;d<c.length&&c.charCodeAt(d)===47;++d);for(var b=c.length,p=b-d,x=v<p?v:p,E=-1,f=0;f<=x;++f){if(f===x){if(p>x){if(c.charCodeAt(d+f)===47)return c.slice(d+f+1);if(f===0)return c.slice(d+f)}else v>x&&(a.charCodeAt(w+f)===47?E=f:f===0&&(E=0));break}var S=a.charCodeAt(w+f),I=c.charCodeAt(d+f);if(S!==I)break;S===47&&(E=f)}var P="";for(f=w+E+1;f<=s;++f)(f===s||a.charCodeAt(f)===47)&&(P.length===0?P+="..":P+="/..");return P.length>0?P+c.slice(d+E):(d+=E,c.charCodeAt(d)===47&&++d,c.slice(d))},_makeLong:function(a){return a},dirname:function(a){if(u(a),a.length===0)return".";for(var c=a.charCodeAt(0),w=c===47,s=-1,v=!0,d=a.length-1;d>=1;--d)if(c=a.charCodeAt(d),c===47){if(!v){s=d;break}}else v=!1;return s===-1?w?"/":".":w&&s===1?"//":a.slice(0,s)},basename:function(a,c){if(c!==void 0&&typeof c!="string")throw new TypeError('"ext" argument must be a string');u(a);var w=0,s=-1,v=!0,d;if(c!==void 0&&c.length>0&&c.length<=a.length){if(c.length===a.length&&c===a)return"";var b=c.length-1,p=-1;for(d=a.length-1;d>=0;--d){var x=a.charCodeAt(d);if(x===47){if(!v){w=d+1;break}}else p===-1&&(v=!1,p=d+1),b>=0&&(x===c.charCodeAt(b)?--b===-1&&(s=d):(b=-1,s=p))}return w===s?s=p:s===-1&&(s=a.length),a.slice(w,s)}else{for(d=a.length-1;d>=0;--d)if(a.charCodeAt(d)===47){if(!v){w=d+1;break}}else s===-1&&(v=!1,s=d+1);return s===-1?"":a.slice(w,s)}},extname:function(a){u(a);for(var c=-1,w=0,s=-1,v=!0,d=0,b=a.length-1;b>=0;--b){var p=a.charCodeAt(b);if(p===47){if(!v){w=b+1;break}continue}s===-1&&(v=!1,s=b+1),p===46?c===-1?c=b:d!==1&&(d=1):c!==-1&&(d=-1)}return c===-1||s===-1||d===0||d===1&&c===s-1&&c===w+1?"":a.slice(c,s)},format:function(a){if(a===null||typeof a!="object")throw new TypeError('Parameter "pathObject" must be an object, not '+typeof a);return C("/",a)},parse:function(a){u(a);var c={root:"",dir:"",base:"",ext:"",name:""};if(a.length===0)return c;var w=a.charCodeAt(0),s=w===47,v;s?(c.root="/",v=1):v=0;for(var d=-1,b=0,p=-1,x=!0,E=a.length-1,f=0;E>=v;--E){if(w=a.charCodeAt(E),w===47){if(!x){b=E+1;break}continue}p===-1&&(x=!1,p=E+1),w===46?d===-1?d=E:f!==1&&(f=1):d!==-1&&(f=-1)}return d===-1||p===-1||f===0||f===1&&d===p-1&&d===b+1?p!==-1&&(b===0&&s?c.base=c.name=a.slice(1,p):c.base=c.name=a.slice(b,p)):(b===0&&s?(c.name=a.slice(1,d),c.base=a.slice(1,p)):(c.name=a.slice(b,d),c.base=a.slice(b,p)),c.ext=a.slice(d,p)),b>0?c.dir=a.slice(0,b-1):s&&(c.dir="/"),c},sep:"/",delimiter:":",posix:null};o.exports=y},function(o,n,i){i.d(n,"a",function(){return l}),i.d(n,"b",function(){return C}),i.d(n,"d",function(){return y}),i.d(n,"c",function(){return _}),i.d(n,"e",function(){return a});var h=i(0),u=i(5);i(4);function l(c,w){var s,v,d=w.url,b=d.indexOf("://")>-1;c&&(v=Object(h.qs)(c,"head"),s=Object(h.qs)(v,"base"),s||(s=c.createElement("base"),v.insertBefore(s,v.firstChild)),!b&&window&&window.location&&(d=window.location.origin+d),s.setAttribute("href",d))}function C(c,w){var s,v,d=w.canonical;c&&(s=Object(h.qs)(c,"head"),v=Object(h.qs)(s,"link[rel='canonical']"),v?v.setAttribute("href",d):(v=c.createElement("link"),v.setAttribute("rel","canonical"),v.setAttribute("href",d),s.appendChild(v)))}function y(c,w){var s,v,d=w.idref;c&&(s=Object(h.qs)(c,"head"),v=Object(h.qs)(s,"link[property='dc.identifier']"),v?v.setAttribute("content",d):(v=c.createElement("meta"),v.setAttribute("name","dc.identifier"),v.setAttribute("content",d),s.appendChild(v)))}function _(c,w){var s=c.querySelectorAll("a[href]");if(s.length)for(var v=Object(h.qs)(c.ownerDocument,"base"),d=v?v.getAttribute("href"):void 0,b=function(x){var E=x.getAttribute("href");if(E.indexOf("mailto:")!==0){var f=E.indexOf("://")>-1;if(f)x.setAttribute("target","_blank");else{var S;try{S=new u.a(E,d)}catch(I){}x.onclick=function(){return S&&S.hash?w(S.Path.path+S.hash):w(S?S.Path.path:E),!1}}}}.bind(this),p=0;p<s.length;p++)b(s[p])}function a(c,w,s){return w.forEach(function(v,d){v&&s[d]&&(v=v.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),c=c.replace(new RegExp(v,"g"),s[d]))}),c}},function(o,n,i){var h=i(0);class u{constructor(C){this._q=[],this.context=C,this.tick=h.requestAnimationFrame,this.running=!1,this.paused=!1}enqueue(){var C,y,_,a=[].shift.call(arguments),c=arguments;if(!a)throw new Error("No Task Provided");return typeof a=="function"?(C=new h.defer,y=C.promise,_={task:a,args:c,deferred:C,promise:y}):_={promise:a},this._q.push(_),this.paused==!1&&!this.running&&this.run(),_.promise}dequeue(){var C,y,_;if(this._q.length&&!this.paused){if(C=this._q.shift(),y=C.task,y)return _=y.apply(this.context,C.args),_&&typeof _.then=="function"?_.then(function(){C.deferred.resolve.apply(this.context,arguments)}.bind(this),function(){C.deferred.reject.apply(this.context,arguments)}.bind(this)):(C.deferred.resolve.apply(this.context,_),C.promise);if(C.promise)return C.promise}else return C=new h.defer,C.deferred.resolve(),C.promise}dump(){for(;this._q.length;)this.dequeue()}run(){return this.running||(this.running=!0,this.defered=new h.defer),this.tick.call(window,()=>{this._q.length?this.dequeue().then(function(){this.run()}.bind(this)):(this.defered.resolve(),this.running=void 0)}),this.paused==!0&&(this.paused=!1),this.defered.promise}flush(){if(this.running)return this.running;if(this._q.length)return this.running=this.dequeue().then(function(){return this.running=void 0,this.flush()}.bind(this)),this.running}clear(){this._q=[]}length(){return this._q.length}pause(){this.paused=!0}stop(){this._q=[],this.running=!1,this.paused=!0}}n.a=u},function(o,n,i){var h=i(3),u=i.n(h),l=i(0);function C(){var E="reverse",f=y();return document.body.appendChild(f),f.scrollLeft>0?E="default":typeof Element!="undefined"&&Element.prototype.scrollIntoView?(f.children[0].children[1].scrollIntoView(),f.scrollLeft<0&&(E="negative")):(f.scrollLeft=1,f.scrollLeft===0&&(E="negative")),document.body.removeChild(f),E}function y(){var E=document.createElement("div");E.dir="rtl",E.style.position="fixed",E.style.width="1px",E.style.height="1px",E.style.top="0px",E.style.left="0px",E.style.overflow="hidden";var f=document.createElement("div");f.style.width="2px";var S=document.createElement("span");S.style.width="1px",S.style.display="inline-block";var I=document.createElement("span");return I.style.width="1px",I.style.display="inline-block",f.appendChild(S),f.appendChild(I),E.appendChild(f),E}var _=i(11),a=i(9),c=i(28),w=i.n(c);class s{constructor(f){this.settings=f||{},this.id="epubjs-container-"+Object(l.uuid)(),this.container=this.create(this.settings),this.settings.hidden&&(this.wrapper=this.wrap(this.container))}create(f){let S=f.height,I=f.width,P=f.overflow||!1,T=f.axis||"vertical",N=f.direction;Object(l.extend)(this.settings,f),f.height&&Object(l.isNumber)(f.height)&&(S=f.height+"px"),f.width&&Object(l.isNumber)(f.width)&&(I=f.width+"px");let A=document.createElement("div");return A.id=this.id,A.classList.add("epub-container"),A.style.wordSpacing="0",A.style.lineHeight="0",A.style.verticalAlign="top",A.style.position="relative",T==="horizontal"&&(A.style.display="flex",A.style.flexDirection="row",A.style.flexWrap="nowrap"),I&&(A.style.width=I),S&&(A.style.height=S),P&&(P==="scroll"&&T==="vertical"?(A.style["overflow-y"]=P,A.style["overflow-x"]="hidden"):P==="scroll"&&T==="horizontal"?(A.style["overflow-y"]="hidden",A.style["overflow-x"]=P):A.style.overflow=P),N&&(A.dir=N,A.style.direction=N),N&&this.settings.fullsize&&(document.body.style.direction=N),A}wrap(f){var S=document.createElement("div");return S.style.visibility="hidden",S.style.overflow="hidden",S.style.width="0",S.style.height="0",S.appendChild(f),S}getElement(f){var S;if(Object(l.isElement)(f)?S=f:typeof f=="string"&&(S=document.getElementById(f)),!S)throw new Error("Not an Element");return S}attachTo(f){var S=this.getElement(f),I;if(S)return this.settings.hidden?I=this.wrapper:I=this.container,S.appendChild(I),this.element=S,S}getContainer(){return this.container}onResize(f){(!Object(l.isNumber)(this.settings.width)||!Object(l.isNumber)(this.settings.height))&&(this.resizeFunc=w()(f,50),window.addEventListener("resize",this.resizeFunc,!1))}onOrientationChange(f){this.orientationChangeFunc=f,window.addEventListener("orientationchange",this.orientationChangeFunc,!1)}size(f,S){var I;let P=f||this.settings.width,T=S||this.settings.height;f===null?(I=this.element.getBoundingClientRect(),I.width&&(f=Math.floor(I.width),this.container.style.width=f+"px")):Object(l.isNumber)(f)?this.container.style.width=f+"px":this.container.style.width=f,S===null?(I=I||this.element.getBoundingClientRect(),I.height&&(S=I.height,this.container.style.height=S+"px")):Object(l.isNumber)(S)?this.container.style.height=S+"px":this.container.style.height=S,Object(l.isNumber)(f)||(f=this.container.clientWidth),Object(l.isNumber)(S)||(S=this.container.clientHeight),this.containerStyles=window.getComputedStyle(this.container),this.containerPadding={left:parseFloat(this.containerStyles["padding-left"])||0,right:parseFloat(this.containerStyles["padding-right"])||0,top:parseFloat(this.containerStyles["padding-top"])||0,bottom:parseFloat(this.containerStyles["padding-bottom"])||0};let N=Object(l.windowBounds)(),A=window.getComputedStyle(document.body),B={left:parseFloat(A["padding-left"])||0,right:parseFloat(A["padding-right"])||0,top:parseFloat(A["padding-top"])||0,bottom:parseFloat(A["padding-bottom"])||0};return P||(f=N.width-B.left-B.right),(this.settings.fullsize&&!T||!T)&&(S=N.height-B.top-B.bottom),{width:f-this.containerPadding.left-this.containerPadding.right,height:S-this.containerPadding.top-this.containerPadding.bottom}}bounds(){let f;return this.container.style.overflow!=="visible"&&(f=this.container&&this.container.getBoundingClientRect()),!f||!f.width||!f.height?Object(l.windowBounds)():f}getSheet(){var f=document.createElement("style");return f.appendChild(document.createTextNode("")),document.head.appendChild(f),f.sheet}addStyleRules(f,S){var I="#"+this.id+" ",P="";this.sheet||(this.sheet=this.getSheet()),S.forEach(function(T){for(var N in T)T.hasOwnProperty(N)&&(P+=N+":"+T[N]+";")}),this.sheet.insertRule(I+f+" {"+P+"}",0)}axis(f){f==="horizontal"?(this.container.style.display="flex",this.container.style.flexDirection="row",this.container.style.flexWrap="nowrap"):this.container.style.display="block",this.settings.axis=f}direction(f){this.container&&(this.container.dir=f,this.container.style.direction=f),this.settings.fullsize&&(document.body.style.direction=f),this.settings.dir=f}overflow(f){this.container&&(f==="scroll"&&this.settings.axis==="vertical"?(this.container.style["overflow-y"]=f,this.container.style["overflow-x"]="hidden"):f==="scroll"&&this.settings.axis==="horizontal"?(this.container.style["overflow-y"]="hidden",this.container.style["overflow-x"]=f):this.container.style.overflow=f),this.settings.overflow=f}destroy(){this.element&&(this.settings.hidden?this.wrapper:this.container,this.element.contains(this.container)&&this.element.removeChild(this.container),window.removeEventListener("resize",this.resizeFunc),window.removeEventListener("orientationChange",this.orientationChangeFunc))}}var v=s;class d{constructor(f){this.container=f,this._views=[],this.length=0,this.hidden=!1}all(){return this._views}first(){return this._views[0]}last(){return this._views[this._views.length-1]}indexOf(f){return this._views.indexOf(f)}slice(){return this._views.slice.apply(this._views,arguments)}get(f){return this._views[f]}append(f){return this._views.push(f),this.container&&this.container.appendChild(f.element),this.length++,f}prepend(f){return this._views.unshift(f),this.container&&this.container.insertBefore(f.element,this.container.firstChild),this.length++,f}insert(f,S){return this._views.splice(S,0,f),this.container&&(S<this.container.children.length?this.container.insertBefore(f.element,this.container.children[S]):this.container.appendChild(f.element)),this.length++,f}remove(f){var S=this._views.indexOf(f);S>-1&&this._views.splice(S,1),this.destroy(f),this.length--}destroy(f){f.displayed&&f.destroy(),this.container&&this.container.removeChild(f.element),f=null}forEach(){return this._views.forEach.apply(this._views,arguments)}clear(){var f,S=this.length;if(this.length){for(var I=0;I<S;I++)f=this._views[I],this.destroy(f);this._views=[],this.length=0}}find(f){for(var S,I=this.length,P=0;P<I;P++)if(S=this._views[P],S.displayed&&S.section.index==f.index)return S}displayed(){for(var f=[],S,I=this.length,P=0;P<I;P++)S=this._views[P],S.displayed&&f.push(S);return f}show(){for(var f,S=this.length,I=0;I<S;I++)f=this._views[I],f.displayed&&f.show();this.hidden=!1}hide(){for(var f,S=this.length,I=0;I<S;I++)f=this._views[I],f.displayed&&f.hide();this.hidden=!0}}var b=d,p=i(1);class x{constructor(f){this.name="default",this.optsSettings=f.settings,this.View=f.view,this.request=f.request,this.renditionQueue=f.queue,this.q=new a.a(this),this.settings=Object(l.extend)(this.settings||{},{infinite:!0,hidden:!1,width:void 0,height:void 0,axis:void 0,writingMode:void 0,flow:"scrolled",ignoreClass:"",fullsize:void 0,allowScriptedContent:!1,allowPopups:!1}),Object(l.extend)(this.settings,f.settings||{}),this.viewSettings={ignoreClass:this.settings.ignoreClass,axis:this.settings.axis,flow:this.settings.flow,layout:this.layout,method:this.settings.method,width:0,height:0,forceEvenPages:!0,allowScriptedContent:this.settings.allowScriptedContent,allowPopups:this.settings.allowPopups},this.rendered=!1}render(f,S){let I=f.tagName;typeof this.settings.fullsize=="undefined"&&I&&(I.toLowerCase()=="body"||I.toLowerCase()=="html")&&(this.settings.fullsize=!0),this.settings.fullsize&&(this.settings.overflow="visible",this.overflow=this.settings.overflow),this.settings.size=S,this.settings.rtlScrollType=C(),this.stage=new v({width:S.width,height:S.height,overflow:this.overflow,hidden:this.settings.hidden,axis:this.settings.axis,fullsize:this.settings.fullsize,direction:this.settings.direction}),this.stage.attachTo(f),this.container=this.stage.getContainer(),this.views=new b(this.container),this._bounds=this.bounds(),this._stageSize=this.stage.size(),this.viewSettings.width=this._stageSize.width,this.viewSettings.height=this._stageSize.height,this.stage.onResize(this.onResized.bind(this)),this.stage.onOrientationChange(this.onOrientationChange.bind(this)),this.addEventListeners(),this.layout&&this.updateLayout(),this.rendered=!0}addEventListeners(){var f;window.addEventListener("unload",function(S){this.destroy()}.bind(this)),this.settings.fullsize?f=window:f=this.container,this._onScroll=this.onScroll.bind(this),f.addEventListener("scroll",this._onScroll)}removeEventListeners(){var f;this.settings.fullsize?f=window:f=this.container,f.removeEventListener("scroll",this._onScroll),this._onScroll=void 0}destroy(){clearTimeout(this.orientationTimeout),clearTimeout(this.resizeTimeout),clearTimeout(this.afterScrolled),this.clear(),this.removeEventListeners(),this.stage.destroy(),this.rendered=!1}onOrientationChange(f){let{orientation:S}=window;this.optsSettings.resizeOnOrientationChange&&this.resize(),clearTimeout(this.orientationTimeout),this.orientationTimeout=setTimeout(function(){this.orientationTimeout=void 0,this.optsSettings.resizeOnOrientationChange&&this.resize(),this.emit(p.c.MANAGERS.ORIENTATION_CHANGE,S)}.bind(this),500)}onResized(f){this.resize()}resize(f,S,I){let P=this.stage.size(f,S);if(this.winBounds=Object(l.windowBounds)(),this.orientationTimeout&&this.winBounds.width===this.winBounds.height){this._stageSize=void 0;return}this._stageSize&&this._stageSize.width===P.width&&this._stageSize.height===P.height||(this._stageSize=P,this._bounds=this.bounds(),this.clear(),this.viewSettings.width=this._stageSize.width,this.viewSettings.height=this._stageSize.height,this.updateLayout(),this.emit(p.c.MANAGERS.RESIZED,{width:this._stageSize.width,height:this._stageSize.height},I))}createView(f,S){return new this.View(f,Object(l.extend)(this.viewSettings,{forceRight:S}))}handleNextPrePaginated(f,S,I){let P;if(this.layout.name==="pre-paginated"&&this.layout.divisor>1){if(f||S.index===0)return;if(P=S.next(),P&&!P.properties.includes("page-spread-left"))return I.call(this,P)}}display(f,S){var I=new l.defer,P=I.promise;(S===f.href||Object(l.isNumber)(S))&&(S=void 0);var T=this.views.find(f);if(T&&f&&this.layout.name!=="pre-paginated"){let A=T.offset();if(this.settings.direction==="ltr")this.scrollTo(A.left,A.top,!0);else{let B=T.width();this.scrollTo(A.left+B,A.top,!0)}if(S){let B=T.locationOf(S),O=T.width();this.moveTo(B,O)}return I.resolve(),P}this.clear();let N=!1;return this.layout.name==="pre-paginated"&&this.layout.divisor===2&&f.properties.includes("page-spread-right")&&(N=!0),this.add(f,N).then(function(A){if(S){let B=A.locationOf(S),O=A.width();this.moveTo(B,O)}}.bind(this),A=>{I.reject(A)}).then(function(){return this.handleNextPrePaginated(N,f,this.add)}.bind(this)).then(function(){this.views.show(),I.resolve()}.bind(this)),P}afterDisplayed(f){this.emit(p.c.MANAGERS.ADDED,f)}afterResized(f){this.emit(p.c.MANAGERS.RESIZE,f.section)}moveTo(f,S){var I=0,P=0;this.isPaginated?(I=Math.floor(f.left/this.layout.delta)*this.layout.delta,I+this.layout.delta>this.container.scrollWidth&&(I=this.container.scrollWidth-this.layout.delta),P=Math.floor(f.top/this.layout.delta)*this.layout.delta,P+this.layout.delta>this.container.scrollHeight&&(P=this.container.scrollHeight-this.layout.delta)):P=f.top,this.settings.direction==="rtl"&&(I=I+this.layout.delta,I=I-S),this.scrollTo(I,P,!0)}add(f,S){var I=this.createView(f,S);return this.views.append(I),I.onDisplayed=this.afterDisplayed.bind(this),I.onResize=this.afterResized.bind(this),I.on(p.c.VIEWS.AXIS,P=>{this.updateAxis(P)}),I.on(p.c.VIEWS.WRITING_MODE,P=>{this.updateWritingMode(P)}),I.display(this.request)}append(f,S){var I=this.createView(f,S);return this.views.append(I),I.onDisplayed=this.afterDisplayed.bind(this),I.onResize=this.afterResized.bind(this),I.on(p.c.VIEWS.AXIS,P=>{this.updateAxis(P)}),I.on(p.c.VIEWS.WRITING_MODE,P=>{this.updateWritingMode(P)}),I.display(this.request)}prepend(f,S){var I=this.createView(f,S);return I.on(p.c.VIEWS.RESIZED,P=>{this.counter(P)}),this.views.prepend(I),I.onDisplayed=this.afterDisplayed.bind(this),I.onResize=this.afterResized.bind(this),I.on(p.c.VIEWS.AXIS,P=>{this.updateAxis(P)}),I.on(p.c.VIEWS.WRITING_MODE,P=>{this.updateWritingMode(P)}),I.display(this.request)}counter(f){this.settings.axis==="vertical"?this.scrollBy(0,f.heightDelta,!0):this.scrollBy(f.widthDelta,0,!0)}next(){var f,S;let I=this.settings.direction;if(this.views.length&&(this.isPaginated&&this.settings.axis==="horizontal"&&(!I||I==="ltr")?(this.scrollLeft=this.container.scrollLeft,S=this.container.scrollLeft+this.container.offsetWidth+this.layout.delta,S<=this.container.scrollWidth?this.scrollBy(this.layout.delta,0,!0):f=this.views.last().section.next()):this.isPaginated&&this.settings.axis==="horizontal"&&I==="rtl"?(this.scrollLeft=this.container.scrollLeft,this.settings.rtlScrollType==="default"?(S=this.container.scrollLeft,S>0?this.scrollBy(this.layout.delta,0,!0):f=this.views.last().section.next()):(S=this.container.scrollLeft+this.layout.delta*-1,S>this.container.scrollWidth*-1?this.scrollBy(this.layout.delta,0,!0):f=this.views.last().section.next())):this.isPaginated&&this.settings.axis==="vertical"?(this.scrollTop=this.container.scrollTop,this.container.scrollTop+this.container.offsetHeight<this.container.scrollHeight?this.scrollBy(0,this.layout.height,!0):f=this.views.last().section.next()):f=this.views.last().section.next(),f)){this.clear(),this.updateLayout();let P=!1;return this.layout.name==="pre-paginated"&&this.layout.divisor===2&&f.properties.includes("page-spread-right")&&(P=!0),this.append(f,P).then(function(){return this.handleNextPrePaginated(P,f,this.append)}.bind(this),T=>T).then(function(){!this.isPaginated&&this.settings.axis==="horizontal"&&this.settings.direction==="rtl"&&this.settings.rtlScrollType==="default"&&this.scrollTo(this.container.scrollWidth,0,!0),this.views.show()}.bind(this))}}prev(){var f,S;let I=this.settings.direction;if(this.views.length&&(this.isPaginated&&this.settings.axis==="horizontal"&&(!I||I==="ltr")?(this.scrollLeft=this.container.scrollLeft,S=this.container.scrollLeft,S>0?this.scrollBy(-this.layout.delta,0,!0):f=this.views.first().section.prev()):this.isPaginated&&this.settings.axis==="horizontal"&&I==="rtl"?(this.scrollLeft=this.container.scrollLeft,this.settings.rtlScrollType==="default"?(S=this.container.scrollLeft+this.container.offsetWidth,S<this.container.scrollWidth?this.scrollBy(-this.layout.delta,0,!0):f=this.views.first().section.prev()):(S=this.container.scrollLeft,S<0?this.scrollBy(-this.layout.delta,0,!0):f=this.views.first().section.prev())):this.isPaginated&&this.settings.axis==="vertical"?(this.scrollTop=this.container.scrollTop,this.container.scrollTop>0?this.scrollBy(0,-this.layout.height,!0):f=this.views.first().section.prev()):f=this.views.first().section.prev(),f)){this.clear(),this.updateLayout();let P=!1;return this.layout.name==="pre-paginated"&&this.layout.divisor===2&&typeof f.prev()!="object"&&(P=!0),this.prepend(f,P).then(function(){var T;if(this.layout.name==="pre-paginated"&&this.layout.divisor>1&&(T=f.prev(),T))return this.prepend(T)}.bind(this),T=>T).then(function(){this.isPaginated&&this.settings.axis==="horizontal"&&(this.settings.direction==="rtl"?this.settings.rtlScrollType==="default"?this.scrollTo(0,0,!0):this.scrollTo(this.container.scrollWidth*-1+this.layout.delta,0,!0):this.scrollTo(this.container.scrollWidth-this.layout.delta,0,!0)),this.views.show()}.bind(this))}}current(){var f=this.visible();return f.length?f[f.length-1]:null}clear(){this.views&&(this.views.hide(),this.scrollTo(0,0,!0),this.views.clear())}currentLocation(){return this.updateLayout(),this.isPaginated&&this.settings.axis==="horizontal"?this.location=this.paginatedLocation():this.location=this.scrolledLocation(),this.location}scrolledLocation(){let f=this.visible(),S=this.container.getBoundingClientRect(),I=S.height<window.innerHeight?S.height:window.innerHeight,P=S.width<window.innerWidth?S.width:window.innerWidth,T=this.settings.axis==="vertical";this.settings.direction;let N=0,A=0;return this.settings.fullsize&&(N=T?window.scrollY:window.scrollX),f.map(O=>{let{index:H,href:nt}=O.section,Y=O.position(),lt=O.width(),rt=O.height(),ut,G,it,gt;T?(ut=N+S.top-Y.top+A,G=ut+I-A,gt=this.layout.count(rt,I).pages,it=I):(ut=N+S.left-Y.left+A,G=ut+P-A,gt=this.layout.count(lt,P).pages,it=P);let pt=Math.ceil(ut/it),ft=[],Et=Math.ceil(G/it);if(this.settings.direction==="rtl"&&!T){let Rt=pt;pt=gt-Et,Et=gt-Rt}ft=[];for(var kt=pt;kt<=Et;kt++){let Rt=kt+1;ft.push(Rt)}let St=this.mapping.page(O.contents,O.section.cfiBase,ut,G);return{index:H,href:nt,pages:ft,totalPages:gt,mapping:St}})}paginatedLocation(){let f=this.visible(),S=this.container.getBoundingClientRect(),I=0,P=0;return this.settings.fullsize&&(I=window.scrollX),f.map(N=>{let{index:A,href:B}=N.section,O,H=N.position(),nt=N.width(),Y,lt,rt;this.settings.direction==="rtl"?(O=S.right-I,rt=Math.min(Math.abs(O-H.left),this.layout.width)-P,lt=H.width-(H.right-O)-P,Y=lt-rt):(O=S.left+I,rt=Math.min(H.right-O,this.layout.width)-P,Y=O-H.left+P,lt=Y+rt),P+=rt;let ut=this.mapping.page(N.contents,N.section.cfiBase,Y,lt),G=this.layout.count(nt).pages,it=Math.floor(Y/this.layout.pageWidth),gt=[],pt=Math.floor(lt/this.layout.pageWidth);if(it<0&&(it=0,pt=pt+1),this.settings.direction==="rtl"){let Et=it;it=G-pt,pt=G-Et}for(var ft=it+1;ft<=pt;ft++){let Et=ft;gt.push(Et)}return{index:A,href:B,pages:gt,totalPages:G,mapping:ut}})}isVisible(f,S,I,P){var T=f.position(),N=P||this.bounds();return this.settings.axis==="horizontal"&&T.right>N.left-S&&T.left<N.right+I?!0:this.settings.axis==="vertical"&&T.bottom>N.top-S&&T.top<N.bottom+I}visible(){for(var f=this.bounds(),S=this.views.displayed(),I=S.length,P=[],T,N,A=0;A<I;A++)N=S[A],T=this.isVisible(N,0,0,f),T===!0&&P.push(N);return P}scrollBy(f,S,I){let P=this.settings.direction==="rtl"?-1:1;I&&(this.ignore=!0),this.settings.fullsize?window.scrollBy(f*P,S*P):(f&&(this.container.scrollLeft+=f*P),S&&(this.container.scrollTop+=S)),this.scrolled=!0}scrollTo(f,S,I){I&&(this.ignore=!0),this.settings.fullsize?window.scrollTo(f,S):(this.container.scrollLeft=f,this.container.scrollTop=S),this.scrolled=!0}onScroll(){let f,S;this.settings.fullsize?(f=window.scrollY,S=window.scrollX):(f=this.container.scrollTop,S=this.container.scrollLeft),this.scrollTop=f,this.scrollLeft=S,this.ignore?this.ignore=!1:(this.emit(p.c.MANAGERS.SCROLL,{top:f,left:S}),clearTimeout(this.afterScrolled),this.afterScrolled=setTimeout(function(){this.emit(p.c.MANAGERS.SCROLLED,{top:this.scrollTop,left:this.scrollLeft})}.bind(this),20))}bounds(){var f;return f=this.stage.bounds(),f}applyLayout(f){this.layout=f,this.updateLayout(),this.views&&this.views.length>0&&this.layout.name==="pre-paginated"&&this.display(this.views.first().section)}updateLayout(){this.stage&&(this._stageSize=this.stage.size(),this.isPaginated?(this.layout.calculate(this._stageSize.width,this._stageSize.height,this.settings.gap),this.settings.offset=this.layout.delta/this.layout.divisor):this.layout.calculate(this._stageSize.width,this._stageSize.height),this.viewSettings.width=this.layout.width,this.viewSettings.height=this.layout.height,this.setLayout(this.layout))}setLayout(f){this.viewSettings.layout=f,this.mapping=new _.a(f.props,this.settings.direction,this.settings.axis),this.views&&this.views.forEach(function(S){S&&S.setLayout(f)})}updateWritingMode(f){this.writingMode=f}updateAxis(f,S){!S&&f===this.settings.axis||(this.settings.axis=f,this.stage&&this.stage.axis(f),this.viewSettings.axis=f,this.mapping&&(this.mapping=new _.a(this.layout.props,this.settings.direction,this.settings.axis)),this.layout&&(f==="vertical"?this.layout.spread("none"):this.layout.spread(this.layout.settings.spread)))}updateFlow(f,S="auto"){let I=f==="paginated"||f==="auto";this.isPaginated=I,f==="scrolled-doc"||f==="scrolled-continuous"||f==="scrolled"?this.updateAxis("vertical"):this.updateAxis("horizontal"),this.viewSettings.flow=f,this.settings.overflow?this.overflow=this.settings.overflow:this.overflow=I?"hidden":S,this.stage&&this.stage.overflow(this.overflow),this.updateLayout()}getContents(){var f=[];return this.views&&this.views.forEach(function(S){const I=S&&S.contents;I&&f.push(I)}),f}direction(f="ltr"){this.settings.direction=f,this.stage&&this.stage.direction(f),this.viewSettings.direction=f,this.updateLayout()}isRendered(){return this.rendered}}u()(x.prototype),n.a=x},function(o,n,i){var h=i(2),u=i(0);class l{constructor(y,_,a,c=!1){this.layout=y,this.horizontal=a==="horizontal",this.direction=_||"ltr",this._dev=c}section(y){var _=this.findRanges(y),a=this.rangeListToCfiList(y.section.cfiBase,_);return a}page(y,_,a,c){var w=y&&y.document?y.document.body:!1,s;if(w){if(s=this.rangePairToCfiPair(_,{start:this.findStart(w,a,c),end:this.findEnd(w,a,c)}),this._dev===!0){let v=y.document,d=new h.a(s.start).toRange(v),b=new h.a(s.end).toRange(v),p=v.defaultView.getSelection(),x=v.createRange();p.removeAllRanges(),x.setStart(d.startContainer,d.startOffset),x.setEnd(b.endContainer,b.endOffset),p.addRange(x)}return s}}walk(y,_){if(!(y&&y.nodeType===Node.TEXT_NODE)){var a={acceptNode:function(d){return d.data.trim().length>0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}},c=a.acceptNode;c.acceptNode=a.acceptNode;for(var w=document.createTreeWalker(y,NodeFilter.SHOW_TEXT,c,!1),s,v;(s=w.nextNode())&&(v=_(s),!v););return v}}findRanges(y){for(var _=[],a=y.contents.scrollWidth(),c=Math.ceil(a/this.layout.spreadWidth),w=c*this.layout.divisor,s=this.layout.columnWidth,v=this.layout.gap,d,b,p=0;p<w.pages;p++)d=(s+v)*p,b=s*(p+1)+v*p,_.push({start:this.findStart(y.document.body,d,b),end:this.findEnd(y.document.body,d,b)});return _}findStart(y,_,a){for(var c=[y],w,s,v=y;c.length;)if(w=c.shift(),s=this.walk(w,d=>{var b,p,x,E,f;if(f=Object(u.nodeBounds)(d),this.horizontal&&this.direction==="ltr"){if(b=this.horizontal?f.left:f.top,p=this.horizontal?f.right:f.bottom,b>=_&&b<=a)return d;if(p>_)return d;v=d,c.push(d)}else if(this.horizontal&&this.direction==="rtl"){if(b=f.left,p=f.right,p<=a&&p>=_)return d;if(b<a)return d;v=d,c.push(d)}else{if(x=f.top,E=f.bottom,x>=_&&x<=a)return d;if(E>_)return d;v=d,c.push(d)}}),s)return this.findTextStartRange(s,_,a);return this.findTextStartRange(v,_,a)}findEnd(y,_,a){for(var c=[y],w,s=y,v;c.length;)if(w=c.shift(),v=this.walk(w,d=>{var b,p,x,E,f;if(f=Object(u.nodeBounds)(d),this.horizontal&&this.direction==="ltr"){if(b=Math.round(f.left),p=Math.round(f.right),b>a&&s)return s;if(p>a)return d;s=d,c.push(d)}else if(this.horizontal&&this.direction==="rtl"){if(b=Math.round(this.horizontal?f.left:f.top),p=Math.round(this.horizontal?f.right:f.bottom),p<_&&s)return s;if(b<_)return d;s=d,c.push(d)}else{if(x=Math.round(f.top),E=Math.round(f.bottom),x>a&&s)return s;if(E>a)return d;s=d,c.push(d)}}),v)return this.findTextEndRange(v,_,a);return this.findTextEndRange(s,_,a)}findTextStartRange(y,_,a){for(var c=this.splitTextNodeIntoRanges(y),w,s,v,d,b,p=0;p<c.length;p++)if(w=c[p],s=w.getBoundingClientRect(),this.horizontal&&this.direction==="ltr"){if(v=s.left,v>=_)return w}else if(this.horizontal&&this.direction==="rtl"){if(b=s.right,b<=a)return w}else if(d=s.top,d>=_)return w;return c[0]}findTextEndRange(y,_,a){for(var c=this.splitTextNodeIntoRanges(y),w,s,v,d,b,p,x,E=0;E<c.length;E++){if(s=c[E],v=s.getBoundingClientRect(),this.horizontal&&this.direction==="ltr"){if(d=v.left,b=v.right,d>a&&w)return w;if(b>a)return s}else if(this.horizontal&&this.direction==="rtl"){if(d=v.left,b=v.right,b<_&&w)return w;if(d<_)return s}else{if(p=v.top,x=v.bottom,p>a&&w)return w;if(x>a)return s}w=s}return c[c.length-1]}splitTextNodeIntoRanges(y,_){var a=[],c=y.textContent||"",w=c.trim(),s,v=y.ownerDocument,d=_||" ",b=w.indexOf(d);if(b===-1||y.nodeType!=Node.TEXT_NODE)return s=v.createRange(),s.selectNodeContents(y),[s];for(s=v.createRange(),s.setStart(y,0),s.setEnd(y,b),a.push(s),s=!1;b!=-1;)b=w.indexOf(d,b+1),b>0&&(s&&(s.setEnd(y,b),a.push(s)),s=v.createRange(),s.setStart(y,b+1));return s&&(s.setEnd(y,w.length),a.push(s)),a}rangePairToCfiPair(y,_){var a=_.start,c=_.end;a.collapse(!0),c.collapse(!1);let w=new h.a(a,y).toString(),s=new h.a(c,y).toString();return{start:w,end:s}}rangeListToCfiList(y,_){for(var a=[],c,w=0;w<_.length;w++)c=this.rangePairToCfiPair(y,_[w]),a.push(c);return a}axis(y){return y&&(this.horizontal=y==="horizontal"),this.horizontal}}n.a=l},function(o,n,i){var h=i(3),u=i.n(h),l=i(0),C=i(2),y=i(11),_=i(8),a=i(1);const c=typeof navigator!="undefined",w=c&&/Chrome/.test(navigator.userAgent),s=c&&!w&&/AppleWebKit/.test(navigator.userAgent),v=1;class d{constructor(p,x,E,f){this.epubcfi=new C.a,this.document=p,this.documentElement=this.document.documentElement,this.content=x||this.document.body,this.window=this.document.defaultView,this._size={width:0,height:0},this.sectionIndex=f||0,this.cfiBase=E||"",this.epubReadingSystem("epub.js",a.b),this.called=0,this.active=!0,this.listeners()}static get listenedEvents(){return a.a}width(p){var x=this.content;return p&&Object(l.isNumber)(p)&&(p=p+"px"),p&&(x.style.width=p),parseInt(this.window.getComputedStyle(x).width)}height(p){var x=this.content;return p&&Object(l.isNumber)(p)&&(p=p+"px"),p&&(x.style.height=p),parseInt(this.window.getComputedStyle(x).height)}contentWidth(p){var x=this.content||this.document.body;return p&&Object(l.isNumber)(p)&&(p=p+"px"),p&&(x.style.width=p),parseInt(this.window.getComputedStyle(x).width)}contentHeight(p){var x=this.content||this.document.body;return p&&Object(l.isNumber)(p)&&(p=p+"px"),p&&(x.style.height=p),parseInt(this.window.getComputedStyle(x).height)}textWidth(){let p,x,E=this.document.createRange(),f=this.content||this.document.body,S=Object(l.borders)(f);return E.selectNodeContents(f),p=E.getBoundingClientRect(),x=p.width,S&&S.width&&(x+=S.width),Math.round(x)}textHeight(){let p,x,E=this.document.createRange(),f=this.content||this.document.body;return E.selectNodeContents(f),p=E.getBoundingClientRect(),x=p.bottom,Math.round(x)}scrollWidth(){var p=this.documentElement.scrollWidth;return p}scrollHeight(){var p=this.documentElement.scrollHeight;return p}overflow(p){return p&&(this.documentElement.style.overflow=p),this.window.getComputedStyle(this.documentElement).overflow}overflowX(p){return p&&(this.documentElement.style.overflowX=p),this.window.getComputedStyle(this.documentElement).overflowX}overflowY(p){return p&&(this.documentElement.style.overflowY=p),this.window.getComputedStyle(this.documentElement).overflowY}css(p,x,E){var f=this.content||this.document.body;return x?f.style.setProperty(p,x,E?"important":""):f.style.removeProperty(p),this.window.getComputedStyle(f)[p]}viewport(p){var x=this.document.querySelector("meta[name='viewport']"),E={width:void 0,height:void 0,scale:void 0,minimum:void 0,maximum:void 0,scalable:void 0},f=[],S={};if(x&&x.hasAttribute("content")){let I=x.getAttribute("content"),P=I.match(/width\s*=\s*([^,]*)/),T=I.match(/height\s*=\s*([^,]*)/),N=I.match(/initial-scale\s*=\s*([^,]*)/),A=I.match(/minimum-scale\s*=\s*([^,]*)/),B=I.match(/maximum-scale\s*=\s*([^,]*)/),O=I.match(/user-scalable\s*=\s*([^,]*)/);P&&P.length&&typeof P[1]!="undefined"&&(E.width=P[1]),T&&T.length&&typeof T[1]!="undefined"&&(E.height=T[1]),N&&N.length&&typeof N[1]!="undefined"&&(E.scale=N[1]),A&&A.length&&typeof A[1]!="undefined"&&(E.minimum=A[1]),B&&B.length&&typeof B[1]!="undefined"&&(E.maximum=B[1]),O&&O.length&&typeof O[1]!="undefined"&&(E.scalable=O[1])}return S=Object(l.defaults)(p||{},E),p&&(S.width&&f.push("width="+S.width),S.height&&f.push("height="+S.height),S.scale&&f.push("initial-scale="+S.scale),S.scalable==="no"?(f.push("minimum-scale="+S.scale),f.push("maximum-scale="+S.scale),f.push("user-scalable="+S.scalable)):(S.scalable&&f.push("user-scalable="+S.scalable),S.minimum&&f.push("minimum-scale="+S.minimum),S.maximum&&f.push("minimum-scale="+S.maximum)),x||(x=this.document.createElement("meta"),x.setAttribute("name","viewport"),this.document.querySelector("head").appendChild(x)),x.setAttribute("content",f.join(", ")),this.window.scrollTo(0,0)),S}expand(){this.emit(a.c.CONTENTS.EXPAND)}listeners(){this.imageLoadListeners(),this.mediaQueryListeners(),this.addEventListeners(),this.addSelectionListeners(),typeof ResizeObserver=="undefined"?(this.resizeListeners(),this.visibilityListeners()):this.resizeObservers(),this.linksHandler()}removeListeners(){this.removeEventListeners(),this.removeSelectionListeners(),this.observer&&this.observer.disconnect(),clearTimeout(this.expanding)}resizeCheck(){let p=this.textWidth(),x=this.textHeight();(p!=this._size.width||x!=this._size.height)&&(this._size={width:p,height:x},this.onResize&&this.onResize(this._size),this.emit(a.c.CONTENTS.RESIZE,this._size))}resizeListeners(){clearTimeout(this.expanding),requestAnimationFrame(this.resizeCheck.bind(this)),this.expanding=setTimeout(this.resizeListeners.bind(this),350)}visibilityListeners(){document.addEventListener("visibilitychange",()=>{document.visibilityState==="visible"&&this.active===!1?(this.active=!0,this.resizeListeners()):(this.active=!1,clearTimeout(this.expanding))})}transitionListeners(){let p=this.content;p.style.transitionProperty="font, font-size, font-size-adjust, font-stretch, font-variation-settings, font-weight, width, height",p.style.transitionDuration="0.001ms",p.style.transitionTimingFunction="linear",p.style.transitionDelay="0",this._resizeCheck=this.resizeCheck.bind(this),this.document.addEventListener("transitionend",this._resizeCheck)}mediaQueryListeners(){for(var p=this.document.styleSheets,x=function(P){P.matches&&!this._expanding&&setTimeout(this.expand.bind(this),1)}.bind(this),E=0;E<p.length;E+=1){var f;try{f=p[E].cssRules}catch(P){return}if(!f)return;for(var S=0;S<f.length;S+=1)if(f[S].media){var I=this.window.matchMedia(f[S].media.mediaText);I.addListener(x)}}}resizeObservers(){this.observer=new ResizeObserver(p=>{requestAnimationFrame(this.resizeCheck.bind(this))}),this.observer.observe(this.document.documentElement)}mutationObservers(){this.observer=new MutationObserver(x=>{this.resizeCheck()});let p={attributes:!0,childList:!0,characterData:!0,subtree:!0};this.observer.observe(this.document,p)}imageLoadListeners(){for(var p=this.document.querySelectorAll("img"),x,E=0;E<p.length;E++)x=p[E],typeof x.naturalWidth!="undefined"&&x.naturalWidth===0&&(x.onload=this.expand.bind(this))}fontLoadListeners(){!this.document||!this.document.fonts||this.document.fonts.ready.then(function(){this.resizeCheck()}.bind(this))}root(){return this.document?this.document.documentElement:null}locationOf(p,x){var E,f={left:0,top:0};if(!this.document)return f;if(this.epubcfi.isCfiString(p)){let S=new C.a(p).toRange(this.document,x);if(S){try{if(!S.endContainer||S.startContainer==S.endContainer&&S.startOffset==S.endOffset){let I=S.startContainer.textContent.indexOf(" ",S.startOffset);I==-1&&(I=S.startContainer.textContent.length),S.setEnd(S.startContainer,I)}}catch(I){console.error("setting end offset to start container length failed",I)}if(S.startContainer.nodeType===Node.ELEMENT_NODE)E=S.startContainer.getBoundingClientRect(),f.left=E.left,f.top=E.top;else if(s){let I=S.startContainer,P=new Range;try{I.nodeType===v?E=I.getBoundingClientRect():S.startOffset+2<I.length?(P.setStart(I,S.startOffset),P.setEnd(I,S.startOffset+2),E=P.getBoundingClientRect()):S.startOffset-2>0?(P.setStart(I,S.startOffset-2),P.setEnd(I,S.startOffset),E=P.getBoundingClientRect()):E=I.parentNode.getBoundingClientRect()}catch(T){console.error(T,T.stack)}}else E=S.getBoundingClientRect()}}else if(typeof p=="string"&&p.indexOf("#")>-1){let S=p.substring(p.indexOf("#")+1),I=this.document.getElementById(S);if(I)if(s){let P=new Range;P.selectNode(I),E=P.getBoundingClientRect()}else E=I.getBoundingClientRect()}return E&&(f.left=E.left,f.top=E.top),f}addStylesheet(p){return new Promise(function(x,E){var f,S=!1;if(!this.document){x(!1);return}if(f=this.document.querySelector("link[href='"+p+"']"),f){x(!0);return}f=this.document.createElement("link"),f.type="text/css",f.rel="stylesheet",f.href=p,f.onload=f.onreadystatechange=function(){!S&&(!this.readyState||this.readyState=="complete")&&(S=!0,setTimeout(()=>{x(!0)},1))},this.document.head.appendChild(f)}.bind(this))}_getStylesheetNode(p){var x;return p="epubjs-inserted-css-"+(p||""),this.document?(x=this.document.getElementById(p),x||(x=this.document.createElement("style"),x.id=p,this.document.head.appendChild(x)),x):!1}addStylesheetCss(p,x){if(!this.document||!p)return!1;var E;return E=this._getStylesheetNode(x),E.innerHTML=p,!0}addStylesheetRules(p,x){var E;if(!(!this.document||!p||p.length===0))if(E=this._getStylesheetNode(x).sheet,Object.prototype.toString.call(p)==="[object Array]")for(var f=0,S=p.length;f<S;f++){var I=1,P=p[f],T=p[f][0],N="";Object.prototype.toString.call(P[1][0])==="[object Array]"&&(P=P[1],I=0);for(var A=P.length;I<A;I++){var B=P[I];N+=B[0]+":"+B[1]+(B[2]?" !important":"")+`;
`}E.insertRule(T+"{"+N+"}",E.cssRules.length)}else Object.keys(p).forEach(H=>{const nt=p[H];if(Array.isArray(nt))nt.forEach(Y=>{const rt=Object.keys(Y).map(ut=>`${ut}:${Y[ut]}`).join(";");E.insertRule(`${H}{${rt}}`,E.cssRules.length)});else{const lt=Object.keys(nt).map(rt=>`${rt}:${nt[rt]}`).join(";");E.insertRule(`${H}{${lt}}`,E.cssRules.length)}})}addScript(p){return new Promise(function(x,E){var f,S=!1;if(!this.document){x(!1);return}f=this.document.createElement("script"),f.type="text/javascript",f.async=!0,f.src=p,f.onload=f.onreadystatechange=function(){!S&&(!this.readyState||this.readyState=="complete")&&(S=!0,setTimeout(function(){x(!0)},1))},this.document.head.appendChild(f)}.bind(this))}addClass(p){var x;this.document&&(x=this.content||this.document.body,x&&x.classList.add(p))}removeClass(p){var x;this.document&&(x=this.content||this.document.body,x&&x.classList.remove(p))}addEventListeners(){this.document&&(this._triggerEvent=this.triggerEvent.bind(this),a.a.forEach(function(p){this.document.addEventListener(p,this._triggerEvent,{passive:!0})},this))}removeEventListeners(){this.document&&(a.a.forEach(function(p){this.document.removeEventListener(p,this._triggerEvent,{passive:!0})},this),this._triggerEvent=void 0)}triggerEvent(p){this.emit(p.type,p)}addSelectionListeners(){this.document&&(this._onSelectionChange=this.onSelectionChange.bind(this),this.document.addEventListener("selectionchange",this._onSelectionChange,{passive:!0}))}removeSelectionListeners(){this.document&&(this.document.removeEventListener("selectionchange",this._onSelectionChange,{passive:!0}),this._onSelectionChange=void 0)}onSelectionChange(p){this.selectionEndTimeout&&clearTimeout(this.selectionEndTimeout),this.selectionEndTimeout=setTimeout(function(){var x=this.window.getSelection();this.triggerSelectedEvent(x)}.bind(this),250)}triggerSelectedEvent(p){var x,E;p&&p.rangeCount>0&&(x=p.getRangeAt(0),x.collapsed||(E=new C.a(x,this.cfiBase).toString(),this.emit(a.c.CONTENTS.SELECTED,E),this.emit(a.c.CONTENTS.SELECTED_RANGE,x)))}range(p,x){var E=new C.a(p);return E.toRange(this.document,x)}cfiFromRange(p,x){return new C.a(p,this.cfiBase,x).toString()}cfiFromNode(p,x){return new C.a(p,this.cfiBase,x).toString()}map(p){var x=new y.a(p);return x.section()}size(p,x){var E={scale:1,scalable:"no"};this.layoutStyle("scrolling"),p>=0&&(this.width(p),E.width=p,this.css("padding","0 "+p/12+"px")),x>=0&&(this.height(x),E.height=x),this.css("margin","0"),this.css("box-sizing","border-box"),this.viewport(E)}columns(p,x,E,f,S){let I=Object(l.prefixed)("column-axis"),P=Object(l.prefixed)("column-gap"),T=Object(l.prefixed)("column-width"),N=Object(l.prefixed)("column-fill"),B=this.writingMode().indexOf("vertical")===0?"vertical":"horizontal";this.layoutStyle("paginated"),S==="rtl"&&B==="horizontal"&&this.direction(S),this.width(p),this.height(x),this.viewport({width:p,height:x,scale:1,scalable:"no"}),this.css("overflow-y","hidden"),this.css("margin","0",!0),B==="vertical"?(this.css("padding-top",f/2+"px",!0),this.css("padding-bottom",f/2+"px",!0),this.css("padding-left","20px"),this.css("padding-right","20px"),this.css(I,"vertical")):(this.css("padding-top","20px"),this.css("padding-bottom","20px"),this.css("padding-left",f/2+"px",!0),this.css("padding-right",f/2+"px",!0),this.css(I,"horizontal")),this.css("box-sizing","border-box"),this.css("max-width","inherit"),this.css(N,"auto"),this.css(P,f+"px"),this.css(T,E+"px"),this.css("-webkit-line-box-contain","block glyphs replaced")}scaler(p,x,E){var f="scale("+p+")",S="";this.css("transform-origin","top left"),(x>=0||E>=0)&&(S=" translate("+(x||0)+"px, "+(E||0)+"px )"),this.css("transform",f+S)}fit(p,x,E){var f=this.viewport(),S=parseInt(f.width),I=parseInt(f.height),P=p/S,T=x/I,N=P<T?P:T;if(this.layoutStyle("paginated"),this.width(S),this.height(I),this.overflow("hidden"),this.scaler(N,0,0),this.css("background-size",S*N+"px "+I*N+"px"),this.css("background-color","transparent"),E&&E.properties.includes("page-spread-left")){var A=p-S*N;this.css("margin-left",A+"px")}}direction(p){this.documentElement&&(this.documentElement.style.direction=p)}mapPage(p,x,E,f,S){var I=new y.a(x,S);return I.page(this,p,E,f)}linksHandler(){Object(_.c)(this.content,p=>{this.emit(a.c.CONTENTS.LINK_CLICKED,p)})}writingMode(p){let x=Object(l.prefixed)("writing-mode");return p&&this.documentElement&&(this.documentElement.style[x]=p),this.window.getComputedStyle(this.documentElement)[x]||""}layoutStyle(p){return p&&(this._layoutStyle=p,navigator.epubReadingSystem.layoutStyle=this._layoutStyle),this._layoutStyle||"paginated"}epubReadingSystem(p,x){return navigator.epubReadingSystem={name:p,version:x,layoutStyle:this.layoutStyle(),hasFeature:function(E){switch(E){case"dom-manipulation":return!0;case"layout-changes":return!0;case"touch-events":return!0;case"mouse-events":return!0;case"keyboard-events":return!0;case"spine-scripting":return!1;default:return!1}}},navigator.epubReadingSystem}destroy(){this.removeListeners()}}u()(d.prototype),n.a=d},function(o,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.Underline=n.Highlight=n.Mark=n.Pane=void 0;var h=function E(f,S,I){f===null&&(f=Function.prototype);var P=Object.getOwnPropertyDescriptor(f,S);if(P===void 0){var T=Object.getPrototypeOf(f);return T===null?void 0:E(T,S,I)}else{if("value"in P)return P.value;var N=P.get;return N===void 0?void 0:N.call(I)}},u=function(){function E(f,S){for(var I=0;I<S.length;I++){var P=S[I];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(f,P.key,P)}}return function(f,S,I){return S&&E(f.prototype,S),I&&E(f,I),f}}(),l=i(49),C=a(l),y=i(50),_=a(y);function a(E){return E&&E.__esModule?E:{default:E}}function c(E,f){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:E}function w(E,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);E.prototype=Object.create(f&&f.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(E,f):E.__proto__=f)}function s(E,f){if(!(E instanceof f))throw new TypeError("Cannot call a class as a function")}n.Pane=function(){function E(f){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document.body;s(this,E),this.target=f,this.element=C.default.createElement("svg"),this.marks=[],this.element.style.position="absolute",this.element.setAttribute("pointer-events","none"),_.default.proxyMouse(this.target,this.marks),this.container=S,this.container.appendChild(this.element),this.render()}return u(E,[{key:"addMark",value:function(S){var I=C.default.createElement("g");return this.element.appendChild(I),S.bind(I,this.container),this.marks.push(S),S.render(),S}},{key:"removeMark",value:function(S){var I=this.marks.indexOf(S);if(I!==-1){var P=S.unbind();this.element.removeChild(P),this.marks.splice(I,1)}}},{key:"render",value:function(){p(this.element,b(this.target,this.container));var S=!0,I=!1,P=void 0;try{for(var T=this.marks[Symbol.iterator](),N;!(S=(N=T.next()).done);S=!0){var A=N.value;A.render()}}catch(B){I=!0,P=B}finally{try{!S&&T.return&&T.return()}finally{if(I)throw P}}}}]),E}();var v=n.Mark=function(){function E(){s(this,E),this.element=null}return u(E,[{key:"bind",value:function(S,I){this.element=S,this.container=I}},{key:"unbind",value:function(){var S=this.element;return this.element=null,S}},{key:"render",value:function(){}},{key:"dispatchEvent",value:function(S){this.element&&this.element.dispatchEvent(S)}},{key:"getBoundingClientRect",value:function(){return this.element.getBoundingClientRect()}},{key:"getClientRects",value:function(){for(var S=[],I=this.element.firstChild;I;)S.push(I.getBoundingClientRect()),I=I.nextSibling;return S}},{key:"filteredRanges",value:function(){var S=Array.from(this.range.getClientRects());return S.filter(function(I){for(var P=0;P<S.length;P++){if(S[P]===I)return!0;var T=x(S[P],I);if(T)return!1}return!0})}}]),E}(),d=n.Highlight=function(E){w(f,E);function f(S,I,P,T){s(this,f);var N=c(this,(f.__proto__||Object.getPrototypeOf(f)).call(this));return N.range=S,N.className=I,N.data=P||{},N.attributes=T||{},N}return u(f,[{key:"bind",value:function(I,P){h(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"bind",this).call(this,I,P);for(var T in this.data)this.data.hasOwnProperty(T)&&(this.element.dataset[T]=this.data[T]);for(var T in this.attributes)this.attributes.hasOwnProperty(T)&&this.element.setAttribute(T,this.attributes[T]);this.className&&this.element.classList.add(this.className)}},{key:"render",value:function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(var I=this.element.ownerDocument.createDocumentFragment(),P=this.filteredRanges(),T=this.element.getBoundingClientRect(),N=this.container.getBoundingClientRect(),A=0,B=P.length;A<B;A++){var O=P[A],H=C.default.createElement("rect");H.setAttribute("x",O.left-T.left+N.left),H.setAttribute("y",O.top-T.top+N.top),H.setAttribute("height",O.height),H.setAttribute("width",O.width),I.appendChild(H)}this.element.appendChild(I)}}]),f}(v);n.Underline=function(E){w(f,E);function f(S,I,P,T){return s(this,f),c(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,S,I,P,T))}return u(f,[{key:"render",value:function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(var I=this.element.ownerDocument.createDocumentFragment(),P=this.filteredRanges(),T=this.element.getBoundingClientRect(),N=this.container.getBoundingClientRect(),A=0,B=P.length;A<B;A++){var O=P[A],H=C.default.createElement("rect");H.setAttribute("x",O.left-T.left+N.left),H.setAttribute("y",O.top-T.top+N.top),H.setAttribute("height",O.height),H.setAttribute("width",O.width),H.setAttribute("fill","none");var nt=C.default.createElement("line");nt.setAttribute("x1",O.left-T.left+N.left),nt.setAttribute("x2",O.left-T.left+N.left+O.width),nt.setAttribute("y1",O.top-T.top+N.top+O.height-1),nt.setAttribute("y2",O.top-T.top+N.top+O.height-1),nt.setAttribute("stroke-width",1),nt.setAttribute("stroke","black"),nt.setAttribute("stroke-linecap","square"),I.appendChild(H),I.appendChild(nt)}this.element.appendChild(I)}}]),f}(d);function b(E,f){var S=f.getBoundingClientRect(),I=E.getBoundingClientRect();return{top:I.top-S.top,left:I.left-S.left,height:E.scrollHeight,width:E.scrollWidth}}function p(E,f){E.style.setProperty("top",f.top+"px","important"),E.style.setProperty("left",f.left+"px","important"),E.style.setProperty("height",f.height+"px","important"),E.style.setProperty("width",f.width+"px","important")}function x(E,f){return f.right<=E.right&&f.left>=E.left&&f.top>=E.top&&f.bottom<=E.bottom}},function(o,n,i){function h(C,y){return y===void 0&&(y=Object),y&&typeof y.freeze=="function"?y.freeze(C):C}var u=h({HTML:"text/html",isHTML:function(C){return C===u.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),l=h({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(C){return C===l.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});n.freeze=h,n.MIME_TYPE=u,n.NAMESPACE=l},function(o,n,i){var h=i(25);n.DOMImplementation=h.DOMImplementation,n.XMLSerializer=h.XMLSerializer,n.DOMParser=i(46).DOMParser},function(o,n,i){var h=i(3),u=i.n(h),l=i(0),C=i(6),y=i(2),_=i(9),a=i(1);class c{constructor(T){this.settings=T,this.name=T.layout||"reflowable",this._spread=T.spread!=="none",this._minSpreadWidth=T.minSpreadWidth||800,this._evenSpreads=T.evenSpreads||!1,T.flow==="scrolled"||T.flow==="scrolled-continuous"||T.flow==="scrolled-doc"?this._flow="scrolled":this._flow="paginated",this.width=0,this.height=0,this.spreadWidth=0,this.delta=0,this.columnWidth=0,this.gap=0,this.divisor=1,this.props={name:this.name,spread:this._spread,flow:this._flow,width:0,height:0,spreadWidth:0,delta:0,columnWidth:0,gap:0,divisor:1}}flow(T){return typeof T!="undefined"&&(T==="scrolled"||T==="scrolled-continuous"||T==="scrolled-doc"?this._flow="scrolled":this._flow="paginated",this.update({flow:this._flow})),this._flow}spread(T,N){return T&&(this._spread=T!=="none",this.update({spread:this._spread})),N>=0&&(this._minSpreadWidth=N),this._spread}calculate(T,N,A){var B=1,O=A||0,H=T,nt=N,Y=Math.floor(H/12),lt,rt,ut,G;this._spread&&H>=this._minSpreadWidth?B=2:B=1,this.name==="reflowable"&&this._flow==="paginated"&&!(A>=0)&&(O=Y%2===0?Y:Y-1),this.name==="pre-paginated"&&(O=0),B>1?(lt=H/B-O,ut=lt+O):(lt=H,ut=H),this.name==="pre-paginated"&&B>1&&(H=lt),rt=lt*B+O,G=H,this.width=H,this.height=nt,this.spreadWidth=rt,this.pageWidth=ut,this.delta=G,this.columnWidth=lt,this.gap=O,this.divisor=B,this.update({width:H,height:nt,spreadWidth:rt,pageWidth:ut,delta:G,columnWidth:lt,gap:O,divisor:B})}format(T,N,A){var B;return this.name==="pre-paginated"?B=T.fit(this.columnWidth,this.height,N):this._flow==="paginated"?B=T.columns(this.width,this.height,this.columnWidth,this.gap,this.settings.direction):A&&A==="horizontal"?B=T.size(null,this.height):B=T.size(this.width,null),B}count(T,N){let A,B;return this.name==="pre-paginated"?(A=1,B=1):this._flow==="paginated"?(N=N||this.delta,A=Math.ceil(T/N),B=A*this.divisor):(N=N||this.height,A=Math.ceil(T/N),B=A),{spreads:A,pages:B}}update(T){if(Object.keys(T).forEach(N=>{this.props[N]===T[N]&&delete T[N]}),Object.keys(T).length>0){let N=Object(l.extend)(this.props,T);this.emit(a.c.LAYOUT.UPDATED,N,T)}}}u()(c.prototype);var w=c,s=i(5);class v{constructor(T){this.rendition=T,this._themes={default:{rules:{},url:"",serialized:""}},this._overrides={},this._current="default",this._injected=[],this.rendition.hooks.content.register(this.inject.bind(this)),this.rendition.hooks.content.register(this.overrides.bind(this))}register(){if(arguments.length!==0){if(arguments.length===1&&typeof arguments[0]=="object")return this.registerThemes(arguments[0]);if(arguments.length===1&&typeof arguments[0]=="string")return this.default(arguments[0]);if(arguments.length===2&&typeof arguments[1]=="string")return this.registerUrl(arguments[0],arguments[1]);if(arguments.length===2&&typeof arguments[1]=="object")return this.registerRules(arguments[0],arguments[1])}}default(T){if(T){if(typeof T=="string")return this.registerUrl("default",T);if(typeof T=="object")return this.registerRules("default",T)}}registerThemes(T){for(var N in T)T.hasOwnProperty(N)&&(typeof T[N]=="string"?this.registerUrl(N,T[N]):this.registerRules(N,T[N]))}registerCss(T,N){this._themes[T]={serialized:N},(this._injected[T]||T=="default")&&this.update(T)}registerUrl(T,N){var A=new s.a(N);this._themes[T]={url:A.toString()},(this._injected[T]||T=="default")&&this.update(T)}registerRules(T,N){this._themes[T]={rules:N},(this._injected[T]||T=="default")&&this.update(T)}select(T){var N=this._current,A;this._current=T,this.update(T),A=this.rendition.getContents(),A.forEach(B=>{B.removeClass(N),B.addClass(T)})}update(T){var N=this.rendition.getContents();N.forEach(A=>{this.add(T,A)})}inject(T){var N=[],A=this._themes,B;for(var O in A)A.hasOwnProperty(O)&&(O===this._current||O==="default")&&(B=A[O],(B.rules&&Object.keys(B.rules).length>0||B.url&&N.indexOf(B.url)===-1)&&this.add(O,T),this._injected.push(O));this._current!="default"&&T.addClass(this._current)}add(T,N){var A=this._themes[T];!A||!N||(A.url?N.addStylesheet(A.url):A.serialized?(N.addStylesheetCss(A.serialized,T),A.injected=!0):A.rules&&(N.addStylesheetRules(A.rules,T),A.injected=!0))}override(T,N,A){var B=this.rendition.getContents();this._overrides[T]={value:N,priority:A===!0},B.forEach(O=>{O.css(T,this._overrides[T].value,this._overrides[T].priority)})}removeOverride(T){var N=this.rendition.getContents();delete this._overrides[T],N.forEach(A=>{A.css(T)})}overrides(T){var N=this._overrides;for(var A in N)N.hasOwnProperty(A)&&T.css(A,N[A].value,N[A].priority)}fontSize(T){this.override("font-size",T)}font(T){this.override("font-family",T,!0)}destroy(){this.rendition=void 0,this._themes=void 0,this._overrides=void 0,this._current=void 0,this._injected=void 0}}var d=v;i(12);class b{constructor(T){this.rendition=T,this.highlights=[],this.underlines=[],this.marks=[],this._annotations={},this._annotationsBySectionIndex={},this.rendition.hooks.render.register(this.inject.bind(this)),this.rendition.hooks.unloaded.register(this.clear.bind(this))}add(T,N,A,B,O,H){let nt=encodeURI(N+T),lt=new y.a(N).spinePos,rt=new p({type:T,cfiRange:N,data:A,sectionIndex:lt,cb:B,className:O,styles:H});return this._annotations[nt]=rt,lt in this._annotationsBySectionIndex?this._annotationsBySectionIndex[lt].push(nt):this._annotationsBySectionIndex[lt]=[nt],this.rendition.views().forEach(G=>{rt.sectionIndex===G.index&&rt.attach(G)}),rt}remove(T,N){let A=encodeURI(T+N);if(A in this._annotations){let B=this._annotations[A];if(N&&B.type!==N)return;this.rendition.views().forEach(H=>{this._removeFromAnnotationBySectionIndex(B.sectionIndex,A),B.sectionIndex===H.index&&B.detach(H)}),delete this._annotations[A]}}_removeFromAnnotationBySectionIndex(T,N){this._annotationsBySectionIndex[T]=this._annotationsAt(T).filter(A=>A!==N)}_annotationsAt(T){return this._annotationsBySectionIndex[T]}highlight(T,N,A,B,O){return this.add("highlight",T,N,A,B,O)}underline(T,N,A,B,O){return this.add("underline",T,N,A,B,O)}mark(T,N,A){return this.add("mark",T,N,A)}each(){return this._annotations.forEach.apply(this._annotations,arguments)}inject(T){let N=T.index;N in this._annotationsBySectionIndex&&this._annotationsBySectionIndex[N].forEach(B=>{this._annotations[B].attach(T)})}clear(T){let N=T.index;N in this._annotationsBySectionIndex&&this._annotationsBySectionIndex[N].forEach(B=>{this._annotations[B].detach(T)})}show(){}hide(){}}class p{constructor({type:T,cfiRange:N,data:A,sectionIndex:B,cb:O,className:H,styles:nt}){this.type=T,this.cfiRange=N,this.data=A,this.sectionIndex=B,this.mark=void 0,this.cb=O,this.className=H,this.styles=nt}update(T){this.data=T}attach(T){let{cfiRange:N,data:A,type:B,mark:O,cb:H,className:nt,styles:Y}=this,lt;return B==="highlight"?lt=T.highlight(N,A,H,nt,Y):B==="underline"?lt=T.underline(N,A,H,nt,Y):B==="mark"&&(lt=T.mark(N,A,H)),this.mark=lt,this.emit(a.c.ANNOTATION.ATTACH,lt),lt}detach(T){let{cfiRange:N,type:A}=this,B;return T&&(A==="highlight"?B=T.unhighlight(N):A==="underline"?B=T.ununderline(N):A==="mark"&&(B=T.unmark(N))),this.mark=void 0,this.emit(a.c.ANNOTATION.DETACH,B),B}text(){}}u()(p.prototype);var x=b,E=i(20),f=i(10),S=i(22);class I{constructor(T,N){this.settings=Object(l.extend)(this.settings||{},{width:null,height:null,ignoreClass:"",manager:"default",view:"iframe",flow:null,layout:null,spread:null,minSpreadWidth:800,stylesheet:null,resizeOnOrientationChange:!0,script:null,snap:!1,defaultDirection:"ltr",allowScriptedContent:!1,allowPopups:!1}),Object(l.extend)(this.settings,N),typeof this.settings.manager=="object"&&(this.manager=this.settings.manager),this.book=T,this.hooks={},this.hooks.display=new C.a(this),this.hooks.serialize=new C.a(this),this.hooks.content=new C.a(this),this.hooks.unloaded=new C.a(this),this.hooks.layout=new C.a(this),this.hooks.render=new C.a(this),this.hooks.show=new C.a(this),this.hooks.content.register(this.handleLinks.bind(this)),this.hooks.content.register(this.passEvents.bind(this)),this.hooks.content.register(this.adjustImages.bind(this)),this.book.spine.hooks.content.register(this.injectIdentifier.bind(this)),this.settings.stylesheet&&this.book.spine.hooks.content.register(this.injectStylesheet.bind(this)),this.settings.script&&this.book.spine.hooks.content.register(this.injectScript.bind(this)),this.themes=new d(this),this.annotations=new x(this),this.epubcfi=new y.a,this.q=new _.a(this),this.location=void 0,this.q.enqueue(this.book.opened),this.starting=new l.defer,this.started=this.starting.promise,this.q.enqueue(this.start)}setManager(T){this.manager=T}requireManager(T){var N;return typeof T=="string"&&T==="default"?N=f.a:typeof T=="string"&&T==="continuous"?N=S.a:N=T,N}requireView(T){var N;return typeof T=="string"&&T==="iframe"?N=E.a:N=T,N}start(){switch(!this.settings.layout&&(this.book.package.metadata.layout==="pre-paginated"||this.book.displayOptions.fixedLayout==="true")&&(this.settings.layout="pre-paginated"),this.book.package.metadata.spread){case"none":this.settings.spread="none";break;case"both":this.settings.spread=!0;break}this.manager||(this.ViewManager=this.requireManager(this.settings.manager),this.View=this.requireView(this.settings.view),this.manager=new this.ViewManager({view:this.View,queue:this.q,request:this.book.load.bind(this.book),settings:this.settings})),this.direction(this.book.package.metadata.direction||this.settings.defaultDirection),this.settings.globalLayoutProperties=this.determineLayoutProperties(this.book.package.metadata),this.flow(this.settings.globalLayoutProperties.flow),this.layout(this.settings.globalLayoutProperties),this.manager.on(a.c.MANAGERS.ADDED,this.afterDisplayed.bind(this)),this.manager.on(a.c.MANAGERS.REMOVED,this.afterRemoved.bind(this)),this.manager.on(a.c.MANAGERS.RESIZED,this.onResized.bind(this)),this.manager.on(a.c.MANAGERS.ORIENTATION_CHANGE,this.onOrientationChange.bind(this)),this.manager.on(a.c.MANAGERS.SCROLLED,this.reportLocation.bind(this)),this.emit(a.c.RENDITION.STARTED),this.starting.resolve()}attachTo(T){return this.q.enqueue(function(){this.manager.render(T,{width:this.settings.width,height:this.settings.height}),this.emit(a.c.RENDITION.ATTACHED)}.bind(this))}display(T){return this.displaying&&this.displaying.resolve(),this.q.enqueue(this._display,T)}_display(T){if(this.book){this.epubcfi.isCfiString(T);var N=new l.defer,A=N.promise,B;return this.displaying=N,this.book.locations.length()&&Object(l.isFloat)(T)&&(T=this.book.locations.cfiFromPercentage(parseFloat(T))),B=this.book.spine.get(T),B?(this.manager.display(B,T).then(()=>{N.resolve(B),this.displaying=void 0,this.emit(a.c.RENDITION.DISPLAYED,B),this.reportLocation()},O=>{this.emit(a.c.RENDITION.DISPLAY_ERROR,O)}),A):(N.reject(new Error("No Section Found")),A)}}afterDisplayed(T){T.on(a.c.VIEWS.MARK_CLICKED,(N,A)=>this.triggerMarkEvent(N,A,T.contents)),this.hooks.render.trigger(T,this).then(()=>{T.contents?this.hooks.content.trigger(T.contents,this).then(()=>{this.emit(a.c.RENDITION.RENDERED,T.section,T)}):this.emit(a.c.RENDITION.RENDERED,T.section,T)})}afterRemoved(T){this.hooks.unloaded.trigger(T,this).then(()=>{this.emit(a.c.RENDITION.REMOVED,T.section,T)})}onResized(T,N){this.emit(a.c.RENDITION.RESIZED,{width:T.width,height:T.height},N),this.location&&this.location.start&&this.display(N||this.location.start.cfi)}onOrientationChange(T){this.emit(a.c.RENDITION.ORIENTATION_CHANGE,T)}moveTo(T){this.manager.moveTo(T)}resize(T,N,A){T&&(this.settings.width=T),N&&(this.settings.height=N),this.manager.resize(T,N,A)}clear(){this.manager.clear()}next(){return this.q.enqueue(this.manager.next.bind(this.manager)).then(this.reportLocation.bind(this))}prev(){return this.q.enqueue(this.manager.prev.bind(this.manager)).then(this.reportLocation.bind(this))}determineLayoutProperties(T){var N,A=this.settings.layout||T.layout||"reflowable",B=this.settings.spread||T.spread||"auto",O=this.settings.orientation||T.orientation||"auto",H=this.settings.flow||T.flow||"auto",nt=T.viewport||"",Y=this.settings.minSpreadWidth||T.minSpreadWidth||800,lt=this.settings.direction||T.direction||"ltr";return(this.settings.width===0||this.settings.width>0)&&(this.settings.height===0||this.settings.height>0),N={layout:A,spread:B,orientation:O,flow:H,viewport:nt,minSpreadWidth:Y,direction:lt},N}flow(T){var N=T;(T==="scrolled"||T==="scrolled-doc"||T==="scrolled-continuous")&&(N="scrolled"),(T==="auto"||T==="paginated")&&(N="paginated"),this.settings.flow=T,this._layout&&this._layout.flow(N),this.manager&&this._layout&&this.manager.applyLayout(this._layout),this.manager&&this.manager.updateFlow(N),this.manager&&this.manager.isRendered()&&this.location&&(this.manager.clear(),this.display(this.location.start.cfi))}layout(T){return T&&(this._layout=new w(T),this._layout.spread(T.spread,this.settings.minSpreadWidth),this._layout.on(a.c.LAYOUT.UPDATED,(N,A)=>{this.emit(a.c.RENDITION.LAYOUT,N,A)})),this.manager&&this._layout&&this.manager.applyLayout(this._layout),this._layout}spread(T,N){this.settings.spread=T,N&&(this.settings.minSpreadWidth=N),this._layout&&this._layout.spread(T,N),this.manager&&this.manager.isRendered()&&this.manager.updateLayout()}direction(T){this.settings.direction=T||"ltr",this.manager&&this.manager.direction(this.settings.direction),this.manager&&this.manager.isRendered()&&this.location&&(this.manager.clear(),this.display(this.location.start.cfi))}reportLocation(){return this.q.enqueue(function(){requestAnimationFrame(function(){var A=this.manager.currentLocation();if(A&&A.then&&typeof A.then=="function")A.then(function(B){let O=this.located(B);!O||!O.start||!O.end||(this.location=O,this.emit(a.c.RENDITION.LOCATION_CHANGED,{index:this.location.start.index,href:this.location.start.href,start:this.location.start.cfi,end:this.location.end.cfi,percentage:this.location.start.percentage}),this.emit(a.c.RENDITION.RELOCATED,this.location))}.bind(this));else if(A){let B=this.located(A);if(!B||!B.start||!B.end)return;this.location=B,this.emit(a.c.RENDITION.LOCATION_CHANGED,{index:this.location.start.index,href:this.location.start.href,start:this.location.start.cfi,end:this.location.end.cfi,percentage:this.location.start.percentage}),this.emit(a.c.RENDITION.RELOCATED,this.location)}}.bind(this))}.bind(this))}currentLocation(){var T=this.manager.currentLocation();if(T&&T.then&&typeof T.then=="function")T.then(function(N){return this.located(N)}.bind(this));else if(T)return this.located(T)}located(T){if(!T.length)return{};let N=T[0],A=T[T.length-1],B={start:{index:N.index,href:N.href,cfi:N.mapping.start,displayed:{page:N.pages[0]||1,total:N.totalPages}},end:{index:A.index,href:A.href,cfi:A.mapping.end,displayed:{page:A.pages[A.pages.length-1]||1,total:A.totalPages}}},O=this.book.locations.locationFromCfi(N.mapping.start),H=this.book.locations.locationFromCfi(A.mapping.end);O!=null&&(B.start.location=O,B.start.percentage=this.book.locations.percentageFromLocation(O)),H!=null&&(B.end.location=H,B.end.percentage=this.book.locations.percentageFromLocation(H));let nt=this.book.pageList.pageFromCfi(N.mapping.start),Y=this.book.pageList.pageFromCfi(A.mapping.end);return nt!=-1&&(B.start.page=nt),Y!=-1&&(B.end.page=Y),A.index===this.book.spine.last().index&&B.end.displayed.page>=B.end.displayed.total&&(B.atEnd=!0),N.index===this.book.spine.first().index&&B.start.displayed.page===1&&(B.atStart=!0),B}destroy(){this.manager&&this.manager.destroy(),this.book=void 0}passEvents(T){a.a.forEach(N=>{T.on(N,A=>this.triggerViewEvent(A,T))}),T.on(a.c.CONTENTS.SELECTED,N=>this.triggerSelectedEvent(N,T))}triggerViewEvent(T,N){this.emit(T.type,T,N)}triggerSelectedEvent(T,N){this.emit(a.c.RENDITION.SELECTED,T,N)}triggerMarkEvent(T,N,A){this.emit(a.c.RENDITION.MARK_CLICKED,T,N,A)}getRange(T,N){var A=new y.a(T),B=this.manager.visible().filter(function(O){if(A.spinePos===O.index)return!0});if(B.length)return B[0].contents.range(A,N)}adjustImages(T){if(this._layout.name==="pre-paginated")return new Promise(function(O){O()});let N=T.window.getComputedStyle(T.content,null),A=(T.content.offsetHeight-(parseFloat(N.paddingTop)+parseFloat(N.paddingBottom)))*.95,B=parseFloat(N.paddingLeft)+parseFloat(N.paddingRight);return T.addStylesheetRules({img:{"max-width":(this._layout.columnWidth?this._layout.columnWidth-B+"px":"100%")+"!important","max-height":A+"px!important","object-fit":"contain","page-break-inside":"avoid","break-inside":"avoid","box-sizing":"border-box"},svg:{"max-width":(this._layout.columnWidth?this._layout.columnWidth-B+"px":"100%")+"!important","max-height":A+"px!important","page-break-inside":"avoid","break-inside":"avoid"}}),new Promise(function(O,H){setTimeout(function(){O()},1)})}getContents(){return this.manager?this.manager.getContents():[]}views(){return(this.manager?this.manager.views:void 0)||[]}handleLinks(T){T&&T.on(a.c.CONTENTS.LINK_CLICKED,N=>{let A=this.book.path.relative(N);this.display(A)})}injectStylesheet(T,N){let A=T.createElement("link");A.setAttribute("type","text/css"),A.setAttribute("rel","stylesheet"),A.setAttribute("href",this.settings.stylesheet),T.getElementsByTagName("head")[0].appendChild(A)}injectScript(T,N){let A=T.createElement("script");A.setAttribute("type","text/javascript"),A.setAttribute("src",this.settings.script),A.textContent=" ",T.getElementsByTagName("head")[0].appendChild(A)}injectIdentifier(T,N){let A=this.book.packaging.metadata.identifier,B=T.createElement("meta");B.setAttribute("name","dc.relation.ispartof"),A&&B.setAttribute("content",A),T.getElementsByTagName("head")[0].appendChild(B)}}u()(I.prototype),n.a=I},function(o,n){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(h){typeof window=="object"&&(i=window)}o.exports=i},function(o,n,i){var h=i(38)();o.exports=function(u){return u!==h&&u!==null}},function(o,n){function i(h){var u=typeof h;return h!=null&&(u=="object"||u=="function")}o.exports=i},function(o,n,i){var h=i(3),u=i.n(h),l=i(0),C=i(2),y=i(12),_=i(1),a=i(13);class c{constructor(s,v){this.settings=Object(l.extend)({ignoreClass:"",axis:void 0,direction:void 0,width:0,height:0,layout:void 0,globalLayoutProperties:{},method:void 0,forceRight:!1,allowScriptedContent:!1,allowPopups:!1},v||{}),this.id="epubjs-view-"+Object(l.uuid)(),this.section=s,this.index=s.index,this.element=this.container(this.settings.axis),this.added=!1,this.displayed=!1,this.rendered=!1,this.fixedWidth=0,this.fixedHeight=0,this.epubcfi=new C.a,this.layout=this.settings.layout,this.pane=void 0,this.highlights={},this.underlines={},this.marks={}}container(s){var v=document.createElement("div");return v.classList.add("epub-view"),v.style.height="0px",v.style.width="0px",v.style.overflow="hidden",v.style.position="relative",v.style.display="block",s&&s=="horizontal"?v.style.flex="none":v.style.flex="initial",v}create(){return this.iframe?this.iframe:(this.element||(this.element=this.createContainer()),this.iframe=document.createElement("iframe"),this.iframe.id=this.id,this.iframe.scrolling="no",this.iframe.style.overflow="hidden",this.iframe.seamless="seamless",this.iframe.style.border="none",this.iframe.sandbox="allow-same-origin",this.settings.allowScriptedContent&&(this.iframe.sandbox+=" allow-scripts"),this.settings.allowPopups&&(this.iframe.sandbox+=" allow-popups"),this.iframe.setAttribute("enable-annotation","true"),this.resizing=!0,this.element.style.visibility="hidden",this.iframe.style.visibility="hidden",this.iframe.style.width="0",this.iframe.style.height="0",this._width=0,this._height=0,this.element.setAttribute("ref",this.index),this.added=!0,this.elementBounds=Object(l.bounds)(this.element),"srcdoc"in this.iframe?this.supportsSrcdoc=!0:this.supportsSrcdoc=!1,this.settings.method||(this.settings.method=this.supportsSrcdoc?"srcdoc":"write"),this.iframe)}render(s,v){return this.create(),this.size(),this.sectionRender||(this.sectionRender=this.section.render(s)),this.sectionRender.then(function(d){return this.load(d)}.bind(this)).then(function(){let d=this.contents.writingMode(),b;return this.settings.flow==="scrolled"?b=d.indexOf("vertical")===0?"horizontal":"vertical":b=d.indexOf("vertical")===0?"vertical":"horizontal",d.indexOf("vertical")===0&&this.settings.flow==="paginated"&&(this.layout.delta=this.layout.height),this.setAxis(b),this.emit(_.c.VIEWS.AXIS,b),this.setWritingMode(d),this.emit(_.c.VIEWS.WRITING_MODE,d),this.layout.format(this.contents,this.section,this.axis),this.addListeners(),new Promise((p,x)=>{this.expand(),this.settings.forceRight&&(this.element.style.marginLeft=this.width()+"px"),p()})}.bind(this),function(d){return this.emit(_.c.VIEWS.LOAD_ERROR,d),new Promise((b,p)=>{p(d)})}.bind(this)).then(function(){this.emit(_.c.VIEWS.RENDERED,this.section)}.bind(this))}reset(){this.iframe&&(this.iframe.style.width="0",this.iframe.style.height="0",this._width=0,this._height=0,this._textWidth=void 0,this._contentWidth=void 0,this._textHeight=void 0,this._contentHeight=void 0),this._needsReframe=!0}size(s,v){var d=s||this.settings.width,b=v||this.settings.height;this.layout.name==="pre-paginated"?this.lock("both",d,b):this.settings.axis==="horizontal"?this.lock("height",d,b):this.lock("width",d,b),this.settings.width=d,this.settings.height=b}lock(s,v,d){var b=Object(l.borders)(this.element),p;this.iframe?p=Object(l.borders)(this.iframe):p={width:0,height:0},s=="width"&&Object(l.isNumber)(v)&&(this.lockedWidth=v-b.width-p.width),s=="height"&&Object(l.isNumber)(d)&&(this.lockedHeight=d-b.height-p.height),s==="both"&&Object(l.isNumber)(v)&&Object(l.isNumber)(d)&&(this.lockedWidth=v-b.width-p.width,this.lockedHeight=d-b.height-p.height),this.displayed&&this.iframe&&this.expand()}expand(s){var v=this.lockedWidth,d=this.lockedHeight,b;!this.iframe||this._expanding||(this._expanding=!0,this.layout.name==="pre-paginated"?(v=this.layout.columnWidth,d=this.layout.height):this.settings.axis==="horizontal"?(v=this.contents.textWidth(),v%this.layout.pageWidth>0&&(v=Math.ceil(v/this.layout.pageWidth)*this.layout.pageWidth),this.settings.forceEvenPages&&(b=v/this.layout.pageWidth,this.layout.divisor>1&&this.layout.name==="reflowable"&&b%2>0&&(v+=this.layout.pageWidth))):this.settings.axis==="vertical"&&(d=this.contents.textHeight(),this.settings.flow==="paginated"&&d%this.layout.height>0&&(d=Math.ceil(d/this.layout.height)*this.layout.height)),(this._needsReframe||v!=this._width||d!=this._height)&&this.reframe(v,d),this._expanding=!1)}reframe(s,v){var d;Object(l.isNumber)(s)&&(this.element.style.width=s+"px",this.iframe.style.width=s+"px",this._width=s),Object(l.isNumber)(v)&&(this.element.style.height=v+"px",this.iframe.style.height=v+"px",this._height=v);let b=this.prevBounds?s-this.prevBounds.width:s,p=this.prevBounds?v-this.prevBounds.height:v;d={width:s,height:v,widthDelta:b,heightDelta:p},this.pane&&this.pane.render(),requestAnimationFrame(()=>{let x;for(let E in this.marks)this.marks.hasOwnProperty(E)&&(x=this.marks[E],this.placeMark(x.element,x.range))}),this.onResize(this,d),this.emit(_.c.VIEWS.RESIZED,d),this.prevBounds=d,this.elementBounds=Object(l.bounds)(this.element)}load(s){var v=new l.defer,d=v.promise;if(!this.iframe)return v.reject(new Error("No Iframe Available")),d;if(this.iframe.onload=function(p){this.onLoad(p,v)}.bind(this),this.settings.method==="blobUrl")this.blobUrl=Object(l.createBlobUrl)(s,"application/xhtml+xml"),this.iframe.src=this.blobUrl,this.element.appendChild(this.iframe);else if(this.settings.method==="srcdoc")this.iframe.srcdoc=s,this.element.appendChild(this.iframe);else{if(this.element.appendChild(this.iframe),this.document=this.iframe.contentDocument,!this.document)return v.reject(new Error("No Document Available")),d;if(this.iframe.contentDocument.open(),window.MSApp&&MSApp.execUnsafeLocalFunction){var b=this;MSApp.execUnsafeLocalFunction(function(){b.iframe.contentDocument.write(s)})}else this.iframe.contentDocument.write(s);this.iframe.contentDocument.close()}return d}onLoad(s,v){this.window=this.iframe.contentWindow,this.document=this.iframe.contentDocument,this.contents=new y.a(this.document,this.document.body,this.section.cfiBase,this.section.index),this.rendering=!1;var d=this.document.querySelector("link[rel='canonical']");d?d.setAttribute("href",this.section.canonical):(d=this.document.createElement("link"),d.setAttribute("rel","canonical"),d.setAttribute("href",this.section.canonical),this.document.querySelector("head").appendChild(d)),this.contents.on(_.c.CONTENTS.EXPAND,()=>{this.displayed&&this.iframe&&(this.expand(),this.contents&&this.layout.format(this.contents))}),this.contents.on(_.c.CONTENTS.RESIZE,b=>{this.displayed&&this.iframe&&(this.expand(),this.contents&&this.layout.format(this.contents))}),v.resolve(this.contents)}setLayout(s){this.layout=s,this.contents&&(this.layout.format(this.contents),this.expand())}setAxis(s){this.settings.axis=s,s=="horizontal"?this.element.style.flex="none":this.element.style.flex="initial",this.size()}setWritingMode(s){this.writingMode=s}addListeners(){}removeListeners(s){}display(s){var v=new l.defer;return this.displayed?v.resolve(this):this.render(s).then(function(){this.emit(_.c.VIEWS.DISPLAYED,this),this.onDisplayed(this),this.displayed=!0,v.resolve(this)}.bind(this),function(d){v.reject(d,this)}),v.promise}show(){this.element.style.visibility="visible",this.iframe&&(this.iframe.style.visibility="visible",this.iframe.style.transform="translateZ(0)",this.iframe.offsetWidth,this.iframe.style.transform=null),this.emit(_.c.VIEWS.SHOWN,this)}hide(){this.element.style.visibility="hidden",this.iframe.style.visibility="hidden",this.stopExpanding=!0,this.emit(_.c.VIEWS.HIDDEN,this)}offset(){return{top:this.element.offsetTop,left:this.element.offsetLeft}}width(){return this._width}height(){return this._height}position(){return this.element.getBoundingClientRect()}locationOf(s){this.iframe.getBoundingClientRect();var v=this.contents.locationOf(s,this.settings.ignoreClass);return{left:v.left,top:v.top}}onDisplayed(s){}onResize(s,v){}bounds(s){return(s||!this.elementBounds)&&(this.elementBounds=Object(l.bounds)(this.element)),this.elementBounds}highlight(s,v={},d,b="epubjs-hl",p={}){if(!this.contents)return;const x=Object.assign({fill:"yellow","fill-opacity":"0.3","mix-blend-mode":"multiply"},p);let E=this.contents.range(s),f=()=>{this.emit(_.c.VIEWS.MARK_CLICKED,s,v)};v.epubcfi=s,this.pane||(this.pane=new a.Pane(this.iframe,this.element));let S=new a.Highlight(E,b,v,x),I=this.pane.addMark(S);return this.highlights[s]={mark:I,element:I.element,listeners:[f,d]},I.element.setAttribute("ref",b),I.element.addEventListener("click",f),I.element.addEventListener("touchstart",f),d&&(I.element.addEventListener("click",d),I.element.addEventListener("touchstart",d)),I}underline(s,v={},d,b="epubjs-ul",p={}){if(!this.contents)return;const x=Object.assign({stroke:"black","stroke-opacity":"0.3","mix-blend-mode":"multiply"},p);let E=this.contents.range(s),f=()=>{this.emit(_.c.VIEWS.MARK_CLICKED,s,v)};v.epubcfi=s,this.pane||(this.pane=new a.Pane(this.iframe,this.element));let S=new a.Underline(E,b,v,x),I=this.pane.addMark(S);return this.underlines[s]={mark:I,element:I.element,listeners:[f,d]},I.element.setAttribute("ref",b),I.element.addEventListener("click",f),I.element.addEventListener("touchstart",f),d&&(I.element.addEventListener("click",d),I.element.addEventListener("touchstart",d)),I}mark(s,v={},d){if(!this.contents)return;if(s in this.marks)return this.marks[s];let b=this.contents.range(s);if(!b)return;let p=b.commonAncestorContainer,x=p.nodeType===1?p:p.parentNode,E=S=>{this.emit(_.c.VIEWS.MARK_CLICKED,s,v)};b.collapsed&&p.nodeType===1?(b=new Range,b.selectNodeContents(p)):b.collapsed&&(b=new Range,b.selectNodeContents(x));let f=this.document.createElement("a");return f.setAttribute("ref","epubjs-mk"),f.style.position="absolute",f.dataset.epubcfi=s,v&&Object.keys(v).forEach(S=>{f.dataset[S]=v[S]}),d&&(f.addEventListener("click",d),f.addEventListener("touchstart",d)),f.addEventListener("click",E),f.addEventListener("touchstart",E),this.placeMark(f,b),this.element.appendChild(f),this.marks[s]={element:f,range:b,listeners:[E,d]},x}placeMark(s,v){let d,b,p;if(this.layout.name==="pre-paginated"||this.settings.axis!=="horizontal"){let E=v.getBoundingClientRect();d=E.top,b=E.right}else{let E=v.getClientRects(),f;for(var x=0;x!=E.length;x++)f=E[x],(!p||f.left<p)&&(p=f.left,b=Math.ceil(p/this.layout.props.pageWidth)*this.layout.props.pageWidth-this.layout.gap/2,d=f.top)}s.style.top=`${d}px`,s.style.left=`${b}px`}unhighlight(s){let v;s in this.highlights&&(v=this.highlights[s],this.pane.removeMark(v.mark),v.listeners.forEach(d=>{d&&(v.element.removeEventListener("click",d),v.element.removeEventListener("touchstart",d))}),delete this.highlights[s])}ununderline(s){let v;s in this.underlines&&(v=this.underlines[s],this.pane.removeMark(v.mark),v.listeners.forEach(d=>{d&&(v.element.removeEventListener("click",d),v.element.removeEventListener("touchstart",d))}),delete this.underlines[s])}unmark(s){let v;s in this.marks&&(v=this.marks[s],this.element.removeChild(v.element),v.listeners.forEach(d=>{d&&(v.element.removeEventListener("click",d),v.element.removeEventListener("touchstart",d))}),delete this.marks[s])}destroy(){for(let s in this.highlights)this.unhighlight(s);for(let s in this.underlines)this.ununderline(s);for(let s in this.marks)this.unmark(s);this.blobUrl&&Object(l.revokeBlobUrl)(this.blobUrl),this.displayed&&(this.displayed=!1,this.removeListeners(),this.contents.destroy(),this.stopExpanding=!0,this.element.removeChild(this.iframe),this.pane&&(this.pane.element.remove(),this.pane=void 0),this.iframe=void 0,this.contents=void 0,this._textWidth=null,this._textHeight=null,this._width=null,this._height=null)}}u()(c.prototype),n.a=c},function(o,n,i){var h=i(19),u=i(51),l=i(53),C="Expected a function",y=Math.max,_=Math.min;function a(c,w,s){var v,d,b,p,x,E,f=0,S=!1,I=!1,P=!0;if(typeof c!="function")throw new TypeError(C);w=l(w)||0,h(s)&&(S=!!s.leading,I="maxWait"in s,b=I?y(l(s.maxWait)||0,w):b,P="trailing"in s?!!s.trailing:P);function T(rt){var ut=v,G=d;return v=d=void 0,f=rt,p=c.apply(G,ut),p}function N(rt){return f=rt,x=setTimeout(O,w),S?T(rt):p}function A(rt){var ut=rt-E,G=rt-f,it=w-ut;return I?_(it,b-G):it}function B(rt){var ut=rt-E,G=rt-f;return E===void 0||ut>=w||ut<0||I&&G>=b}function O(){var rt=u();if(B(rt))return H(rt);x=setTimeout(O,A(rt))}function H(rt){return x=void 0,P&&v?T(rt):(v=d=void 0,p)}function nt(){x!==void 0&&clearTimeout(x),f=0,v=E=d=x=void 0}function Y(){return x===void 0?p:H(u())}function lt(){var rt=u(),ut=B(rt);if(v=arguments,d=this,E=rt,ut){if(x===void 0)return N(E);if(I)return clearTimeout(x),x=setTimeout(O,w),T(E)}return x===void 0&&(x=setTimeout(O,w)),p}return lt.cancel=nt,lt.flush=Y,lt}o.exports=a},function(o,n,i){var h=i(0),u=i(10),l=i(1),C=i(3),y=i.n(C);const _={easeInCubic:function(d){return Math.pow(d,3)}};class a{constructor(b,p){this.settings=Object(h.extend)({duration:80,minVelocity:.2,minDistance:10,easing:_.easeInCubic},p||{}),this.supportsTouch=this.supportsTouch(),this.supportsTouch&&this.setup(b)}setup(b){this.manager=b,this.layout=this.manager.layout,this.fullsize=this.manager.settings.fullsize,this.fullsize?(this.element=this.manager.stage.element,this.scroller=window,this.disableScroll()):(this.element=this.manager.stage.container,this.scroller=this.element,this.element.style.WebkitOverflowScrolling="touch"),this.manager.settings.offset=this.layout.width,this.manager.settings.afterScrolledTimeout=this.settings.duration*2,this.isVertical=this.manager.settings.axis==="vertical",!(!this.manager.isPaginated||this.isVertical)&&(this.touchCanceler=!1,this.resizeCanceler=!1,this.snapping=!1,this.scrollLeft,this.scrollTop,this.startTouchX=void 0,this.startTouchY=void 0,this.startTime=void 0,this.endTouchX=void 0,this.endTouchY=void 0,this.endTime=void 0,this.addListeners())}supportsTouch(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}disableScroll(){this.element.style.overflow="hidden"}enableScroll(){this.element.style.overflow=""}addListeners(){this._onResize=this.onResize.bind(this),window.addEventListener("resize",this._onResize),this._onScroll=this.onScroll.bind(this),this.scroller.addEventListener("scroll",this._onScroll),this._onTouchStart=this.onTouchStart.bind(this),this.scroller.addEventListener("touchstart",this._onTouchStart,{passive:!0}),this.on("touchstart",this._onTouchStart),this._onTouchMove=this.onTouchMove.bind(this),this.scroller.addEventListener("touchmove",this._onTouchMove,{passive:!0}),this.on("touchmove",this._onTouchMove),this._onTouchEnd=this.onTouchEnd.bind(this),this.scroller.addEventListener("touchend",this._onTouchEnd,{passive:!0}),this.on("touchend",this._onTouchEnd),this._afterDisplayed=this.afterDisplayed.bind(this),this.manager.on(l.c.MANAGERS.ADDED,this._afterDisplayed)}removeListeners(){window.removeEventListener("resize",this._onResize),this._onResize=void 0,this.scroller.removeEventListener("scroll",this._onScroll),this._onScroll=void 0,this.scroller.removeEventListener("touchstart",this._onTouchStart,{passive:!0}),this.off("touchstart",this._onTouchStart),this._onTouchStart=void 0,this.scroller.removeEventListener("touchmove",this._onTouchMove,{passive:!0}),this.off("touchmove",this._onTouchMove),this._onTouchMove=void 0,this.scroller.removeEventListener("touchend",this._onTouchEnd,{passive:!0}),this.off("touchend",this._onTouchEnd),this._onTouchEnd=void 0,this.manager.off(l.c.MANAGERS.ADDED,this._afterDisplayed),this._afterDisplayed=void 0}afterDisplayed(b){let p=b.contents;["touchstart","touchmove","touchend"].forEach(x=>{p.on(x,E=>this.triggerViewEvent(E,p))})}triggerViewEvent(b,p){this.emit(b.type,b,p)}onScroll(b){this.scrollLeft=this.fullsize?window.scrollX:this.scroller.scrollLeft,this.scrollTop=this.fullsize?window.scrollY:this.scroller.scrollTop}onResize(b){this.resizeCanceler=!0}onTouchStart(b){let{screenX:p,screenY:x}=b.touches[0];this.fullsize&&this.enableScroll(),this.touchCanceler=!0,this.startTouchX||(this.startTouchX=p,this.startTouchY=x,this.startTime=this.now()),this.endTouchX=p,this.endTouchY=x,this.endTime=this.now()}onTouchMove(b){let{screenX:p,screenY:x}=b.touches[0],E=Math.abs(x-this.endTouchY);this.touchCanceler=!0,!this.fullsize&&E<10&&(this.element.scrollLeft-=p-this.endTouchX),this.endTouchX=p,this.endTouchY=x,this.endTime=this.now()}onTouchEnd(b){this.fullsize&&this.disableScroll(),this.touchCanceler=!1;let p=this.wasSwiped();p!==0?this.snap(p):this.snap(),this.startTouchX=void 0,this.startTouchY=void 0,this.startTime=void 0,this.endTouchX=void 0,this.endTouchY=void 0,this.endTime=void 0}wasSwiped(){let b=this.layout.pageWidth*this.layout.divisor,p=this.endTouchX-this.startTouchX,x=Math.abs(p),E=this.endTime-this.startTime,f=p/E,S=this.settings.minVelocity;if(x<=this.settings.minDistance||x>=b)return 0;if(f>S)return-1;if(f<-S)return 1}needsSnap(){let b=this.scrollLeft,p=this.layout.pageWidth*this.layout.divisor;return b%p!==0}snap(b=0){let p=this.scrollLeft,x=this.layout.pageWidth*this.layout.divisor,E=Math.round(p/x)*x;return b&&(E+=b*x),this.smoothScrollTo(E)}smoothScrollTo(b){const p=new h.defer,x=this.scrollLeft,E=this.now(),f=this.settings.duration,S=this.settings.easing;this.snapping=!0;function I(){const P=this.now(),T=Math.min(1,(P-E)/f);if(S(T),this.touchCanceler||this.resizeCanceler){this.resizeCanceler=!1,this.snapping=!1,p.resolve();return}T<1?(window.requestAnimationFrame(I.bind(this)),this.scrollTo(x+(b-x)*T,0)):(this.scrollTo(b,0),this.snapping=!1,p.resolve())}return I.call(this),p.promise}scrollTo(b=0,p=0){this.fullsize?window.scroll(b,p):(this.scroller.scrollLeft=b,this.scroller.scrollTop=p)}now(){return"now"in window.performance?performance.now():new Date().getTime()}destroy(){this.scroller&&(this.fullsize&&this.enableScroll(),this.removeListeners(),this.scroller=void 0)}}y()(a.prototype);var c=a,w=i(21),s=i.n(w);class v extends u.a{constructor(b){super(b),this.name="continuous",this.settings=Object(h.extend)(this.settings||{},{infinite:!0,overflow:void 0,axis:void 0,writingMode:void 0,flow:"scrolled",offset:500,offsetDelta:250,width:void 0,height:void 0,snap:!1,afterScrolledTimeout:10,allowScriptedContent:!1,allowPopups:!1}),Object(h.extend)(this.settings,b.settings||{}),b.settings.gap!="undefined"&&b.settings.gap===0&&(this.settings.gap=b.settings.gap),this.viewSettings={ignoreClass:this.settings.ignoreClass,axis:this.settings.axis,flow:this.settings.flow,layout:this.layout,width:0,height:0,forceEvenPages:!1,allowScriptedContent:this.settings.allowScriptedContent,allowPopups:this.settings.allowPopups},this.scrollTop=0,this.scrollLeft=0}display(b,p){return u.a.prototype.display.call(this,b,p).then(function(){return this.fill()}.bind(this))}fill(b){var p=b||new h.defer;return this.q.enqueue(()=>this.check()).then(x=>{x?this.fill(p):p.resolve()}),p.promise}moveTo(b){var p=0,x=0;this.isPaginated?(p=Math.floor(b.left/this.layout.delta)*this.layout.delta,p+this.settings.offsetDelta):(x=b.top,b.top+this.settings.offsetDelta),(p>0||x>0)&&this.scrollBy(p,x,!0)}afterResized(b){this.emit(l.c.MANAGERS.RESIZE,b.section)}removeShownListeners(b){b.onDisplayed=function(){}}add(b){var p=this.createView(b);return this.views.append(p),p.on(l.c.VIEWS.RESIZED,x=>{p.expanded=!0}),p.on(l.c.VIEWS.AXIS,x=>{this.updateAxis(x)}),p.on(l.c.VIEWS.WRITING_MODE,x=>{this.updateWritingMode(x)}),p.onDisplayed=this.afterDisplayed.bind(this),p.onResize=this.afterResized.bind(this),p.display(this.request)}append(b){var p=this.createView(b);return p.on(l.c.VIEWS.RESIZED,x=>{p.expanded=!0}),p.on(l.c.VIEWS.AXIS,x=>{this.updateAxis(x)}),p.on(l.c.VIEWS.WRITING_MODE,x=>{this.updateWritingMode(x)}),this.views.append(p),p.onDisplayed=this.afterDisplayed.bind(this),p}prepend(b){var p=this.createView(b);return p.on(l.c.VIEWS.RESIZED,x=>{this.counter(x),p.expanded=!0}),p.on(l.c.VIEWS.AXIS,x=>{this.updateAxis(x)}),p.on(l.c.VIEWS.WRITING_MODE,x=>{this.updateWritingMode(x)}),this.views.prepend(p),p.onDisplayed=this.afterDisplayed.bind(this),p}counter(b){this.settings.axis==="vertical"?this.scrollBy(0,b.heightDelta,!0):this.scrollBy(b.widthDelta,0,!0)}update(b){for(var p=this.bounds(),x=this.views.all(),E=x.length,f=typeof b!="undefined"?b:this.settings.offset||0,S,I,P=new h.defer,T=[],N=0;N<E;N++)if(I=x[N],S=this.isVisible(I,f,f,p),S===!0)if(I.displayed)I.show();else{let A=I.display(this.request).then(function(B){B.show()},B=>{I.hide()});T.push(A)}else this.q.enqueue(I.destroy.bind(I)),clearTimeout(this.trimTimeout),this.trimTimeout=setTimeout(function(){this.q.enqueue(this.trim.bind(this))}.bind(this),250);return T.length?Promise.all(T).catch(A=>{P.reject(A)}):(P.resolve(),P.promise)}check(b,p){var x=new h.defer,E=[],f=this.settings.axis==="horizontal",S=this.settings.offset||0;b&&f&&(S=b),p&&!f&&(S=p);var I=this._bounds;let P=f?this.scrollLeft:this.scrollTop,T=f?Math.floor(I.width):I.height,N=f?this.container.scrollWidth:this.container.scrollHeight,A=this.writingMode&&this.writingMode.indexOf("vertical")===0?"vertical":"horizontal",B=this.settings.rtlScrollType,O=this.settings.direction==="rtl";this.settings.fullsize?(f&&O&&B==="negative"||!f&&O&&B==="default")&&(P=P*-1):(O&&B==="default"&&A==="horizontal"&&(P=N-T-P),O&&B==="negative"&&A==="horizontal"&&(P=P*-1));let H=()=>{let ut=this.views.first(),G=ut&&ut.section.prev();G&&E.push(this.prepend(G))},nt=()=>{let ut=this.views.last(),G=ut&&ut.section.next();G&&E.push(this.append(G))},Y=P+T+S,lt=P-S;Y>=N&&nt(),lt<0&&H();let rt=E.map(ut=>ut.display(this.request));return E.length?Promise.all(rt).then(()=>this.check()).then(()=>this.update(S),ut=>ut):(this.q.enqueue(function(){this.update()}.bind(this)),x.resolve(!1),x.promise)}trim(){for(var b=new h.defer,p=this.views.displayed(),x=p[0],E=p[p.length-1],f=this.views.indexOf(x),S=this.views.indexOf(E),I=this.views.slice(0,f),P=this.views.slice(S+1),T=0;T<I.length-1;T++)this.erase(I[T],I);for(var N=1;N<P.length;N++)this.erase(P[N]);return b.resolve(),b.promise}erase(b,p){var x,E;this.settings.fullsize?(x=window.scrollY,E=window.scrollX):(x=this.container.scrollTop,E=this.container.scrollLeft);var f=b.bounds();this.views.remove(b),p&&(this.settings.axis==="vertical"?this.scrollTo(0,x-f.height,!0):this.settings.direction==="rtl"?this.settings.fullsize?this.scrollTo(E+Math.floor(f.width),0,!0):this.scrollTo(E,0,!0):this.scrollTo(E-Math.floor(f.width),0,!0))}addEventListeners(b){window.addEventListener("unload",function(p){this.ignore=!0,this.destroy()}.bind(this)),this.addScrollListeners(),this.isPaginated&&this.settings.snap&&(this.snapper=new c(this,this.settings.snap&&typeof this.settings.snap=="object"&&this.settings.snap))}addScrollListeners(){var b;this.tick=h.requestAnimationFrame;let p=this.settings.direction==="rtl"&&this.settings.rtlScrollType==="default"?-1:1;this.scrollDeltaVert=0,this.scrollDeltaHorz=0,this.settings.fullsize?(b=window,this.scrollTop=window.scrollY*p,this.scrollLeft=window.scrollX*p):(b=this.container,this.scrollTop=this.container.scrollTop,this.scrollLeft=this.container.scrollLeft),this._onScroll=this.onScroll.bind(this),b.addEventListener("scroll",this._onScroll),this._scrolled=s()(this.scrolled.bind(this),30),this.didScroll=!1}removeEventListeners(){var b;this.settings.fullsize?b=window:b=this.container,b.removeEventListener("scroll",this._onScroll),this._onScroll=void 0}onScroll(){let b,p,x=this.settings.direction==="rtl"&&this.settings.rtlScrollType==="default"?-1:1;this.settings.fullsize?(b=window.scrollY*x,p=window.scrollX*x):(b=this.container.scrollTop,p=this.container.scrollLeft),this.scrollTop=b,this.scrollLeft=p,this.ignore?this.ignore=!1:this._scrolled(),this.scrollDeltaVert+=Math.abs(b-this.prevScrollTop),this.scrollDeltaHorz+=Math.abs(p-this.prevScrollLeft),this.prevScrollTop=b,this.prevScrollLeft=p,clearTimeout(this.scrollTimeout),this.scrollTimeout=setTimeout(function(){this.scrollDeltaVert=0,this.scrollDeltaHorz=0}.bind(this),150),clearTimeout(this.afterScrolled),this.didScroll=!1}scrolled(){this.q.enqueue(function(){return this.check()}.bind(this)),this.emit(l.c.MANAGERS.SCROLL,{top:this.scrollTop,left:this.scrollLeft}),clearTimeout(this.afterScrolled),this.afterScrolled=setTimeout(function(){this.snapper&&this.snapper.supportsTouch&&this.snapper.needsSnap()||this.emit(l.c.MANAGERS.SCROLLED,{top:this.scrollTop,left:this.scrollLeft})}.bind(this),this.settings.afterScrolledTimeout)}next(){let b=this.layout.props.name==="pre-paginated"&&this.layout.props.spread?this.layout.props.delta*2:this.layout.props.delta;this.views.length&&(this.isPaginated&&this.settings.axis==="horizontal"?this.scrollBy(b,0,!0):this.scrollBy(0,this.layout.height,!0),this.q.enqueue(function(){return this.check()}.bind(this)))}prev(){let b=this.layout.props.name==="pre-paginated"&&this.layout.props.spread?this.layout.props.delta*2:this.layout.props.delta;this.views.length&&(this.isPaginated&&this.settings.axis==="horizontal"?this.scrollBy(-b,0,!0):this.scrollBy(0,-this.layout.height,!0),this.q.enqueue(function(){return this.check()}.bind(this)))}updateFlow(b){this.rendered&&this.snapper&&(this.snapper.destroy(),this.snapper=void 0),super.updateFlow(b,"scroll"),this.rendered&&this.isPaginated&&this.settings.snap&&(this.snapper=new c(this,this.settings.snap&&typeof this.settings.snap=="object"&&this.settings.snap))}destroy(){super.destroy(),this.snapper&&this.snapper.destroy()}}n.a=v},function(o,n,i){(function(h){var u,u;/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(l){o.exports=l()})(function(){return function l(C,y,_){function a(s,v){if(!y[s]){if(!C[s]){var d=typeof u=="function"&&u;if(!v&&d)return u(s,!0);if(c)return c(s,!0);var b=new Error("Cannot find module '"+s+"'");throw b.code="MODULE_NOT_FOUND",b}var p=y[s]={exports:{}};C[s][0].call(p.exports,function(x){var E=C[s][1][x];return a(E||x)},p,p.exports,l,C,y,_)}return y[s].exports}for(var c=typeof u=="function"&&u,w=0;w<_.length;w++)a(_[w]);return a}({1:[function(l,C,y){(function(_){var a=_.MutationObserver||_.WebKitMutationObserver,c;if(a){var w=0,s=new a(x),v=_.document.createTextNode("");s.observe(v,{characterData:!0}),c=function(){v.data=w=++w%2}}else if(!_.setImmediate&&typeof _.MessageChannel!="undefined"){var d=new _.MessageChannel;d.port1.onmessage=x,c=function(){d.port2.postMessage(0)}}else"document"in _&&"onreadystatechange"in _.document.createElement("script")?c=function(){var f=_.document.createElement("script");f.onreadystatechange=function(){x(),f.onreadystatechange=null,f.parentNode.removeChild(f),f=null},_.document.documentElement.appendChild(f)}:c=function(){setTimeout(x,0)};var b,p=[];function x(){b=!0;for(var f,S,I=p.length;I;){for(S=p,p=[],f=-1;++f<I;)S[f]();I=p.length}b=!1}C.exports=E;function E(f){p.push(f)===1&&!b&&c()}}).call(this,typeof h!="undefined"?h:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],2:[function(l,C,y){var _=l(1);function a(){}var c={},w=["REJECTED"],s=["FULFILLED"],v=["PENDING"];C.exports=d;function d(N){if(typeof N!="function")throw new TypeError("resolver must be a function");this.state=v,this.queue=[],this.outcome=void 0,N!==a&&E(this,N)}d.prototype.catch=function(N){return this.then(null,N)},d.prototype.then=function(N,A){if(typeof N!="function"&&this.state===s||typeof A!="function"&&this.state===w)return this;var B=new this.constructor(a);if(this.state!==v){var O=this.state===s?N:A;p(B,O,this.outcome)}else this.queue.push(new b(B,N,A));return B};function b(N,A,B){this.promise=N,typeof A=="function"&&(this.onFulfilled=A,this.callFulfilled=this.otherCallFulfilled),typeof B=="function"&&(this.onRejected=B,this.callRejected=this.otherCallRejected)}b.prototype.callFulfilled=function(N){c.resolve(this.promise,N)},b.prototype.otherCallFulfilled=function(N){p(this.promise,this.onFulfilled,N)},b.prototype.callRejected=function(N){c.reject(this.promise,N)},b.prototype.otherCallRejected=function(N){p(this.promise,this.onRejected,N)};function p(N,A,B){_(function(){var O;try{O=A(B)}catch(H){return c.reject(N,H)}O===N?c.reject(N,new TypeError("Cannot resolve promise with itself")):c.resolve(N,O)})}c.resolve=function(N,A){var B=f(x,A);if(B.status==="error")return c.reject(N,B.value);var O=B.value;if(O)E(N,O);else{N.state=s,N.outcome=A;for(var H=-1,nt=N.queue.length;++H<nt;)N.queue[H].callFulfilled(A)}return N},c.reject=function(N,A){N.state=w,N.outcome=A;for(var B=-1,O=N.queue.length;++B<O;)N.queue[B].callRejected(A);return N};function x(N){var A=N&&N.then;if(N&&(typeof N=="object"||typeof N=="function")&&typeof A=="function")return function(){A.apply(N,arguments)}}function E(N,A){var B=!1;function O(lt){B||(B=!0,c.reject(N,lt))}function H(lt){B||(B=!0,c.resolve(N,lt))}function nt(){A(H,O)}var Y=f(nt);Y.status==="error"&&O(Y.value)}function f(N,A){var B={};try{B.value=N(A),B.status="success"}catch(O){B.status="error",B.value=O}return B}d.resolve=S;function S(N){return N instanceof this?N:c.resolve(new this(a),N)}d.reject=I;function I(N){var A=new this(a);return c.reject(A,N)}d.all=P;function P(N){var A=this;if(Object.prototype.toString.call(N)!=="[object Array]")return this.reject(new TypeError("must be an array"));var B=N.length,O=!1;if(!B)return this.resolve([]);for(var H=new Array(B),nt=0,Y=-1,lt=new this(a);++Y<B;)rt(N[Y],Y);return lt;function rt(ut,G){A.resolve(ut).then(it,function(gt){O||(O=!0,c.reject(lt,gt))});function it(gt){H[G]=gt,++nt===B&&!O&&(O=!0,c.resolve(lt,H))}}}d.race=T;function T(N){var A=this;if(Object.prototype.toString.call(N)!=="[object Array]")return this.reject(new TypeError("must be an array"));var B=N.length,O=!1;if(!B)return this.resolve([]);for(var H=-1,nt=new this(a);++H<B;)Y(N[H]);return nt;function Y(lt){A.resolve(lt).then(function(rt){O||(O=!0,c.resolve(nt,rt))},function(rt){O||(O=!0,c.reject(nt,rt))})}}},{1:1}],3:[function(l,C,y){(function(_){typeof _.Promise!="function"&&(_.Promise=l(2))}).call(this,typeof h!="undefined"?h:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{2:2}],4:[function(l,C,y){var _=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(F){return typeof F}:function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F};function a(F,Q){if(!(F instanceof Q))throw new TypeError("Cannot call a class as a function")}function c(){try{if(typeof indexedDB!="undefined")return indexedDB;if(typeof webkitIndexedDB!="undefined")return webkitIndexedDB;if(typeof mozIndexedDB!="undefined")return mozIndexedDB;if(typeof OIndexedDB!="undefined")return OIndexedDB;if(typeof msIndexedDB!="undefined")return msIndexedDB}catch(F){return}}var w=c();function s(){try{if(!w||!w.open)return!1;var F=typeof openDatabase!="undefined"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),Q=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!F||Q)&&typeof indexedDB!="undefined"&&typeof IDBKeyRange!="undefined"}catch(V){return!1}}function v(F,Q){F=F||[],Q=Q||{};try{return new Blob(F,Q)}catch(st){if(st.name!=="TypeError")throw st;for(var V=typeof BlobBuilder!="undefined"?BlobBuilder:typeof MSBlobBuilder!="undefined"?MSBlobBuilder:typeof MozBlobBuilder!="undefined"?MozBlobBuilder:WebKitBlobBuilder,ot=new V,ct=0;ct<F.length;ct+=1)ot.append(F[ct]);return ot.getBlob(Q.type)}}typeof Promise=="undefined"&&l(3);var d=Promise;function b(F,Q){Q&&F.then(function(V){Q(null,V)},function(V){Q(V)})}function p(F,Q,V){typeof Q=="function"&&F.then(Q),typeof V=="function"&&F.catch(V)}function x(F){return typeof F!="string"&&(console.warn(F+" used as a key, but it is not a string."),F=String(F)),F}function E(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var f="local-forage-detect-blob-support",S=void 0,I={},P=Object.prototype.toString,T="readonly",N="readwrite";function A(F){for(var Q=F.length,V=new ArrayBuffer(Q),ot=new Uint8Array(V),ct=0;ct<Q;ct++)ot[ct]=F.charCodeAt(ct);return V}function B(F){return new d(function(Q){var V=F.transaction(f,N),ot=v([""]);V.objectStore(f).put(ot,"key"),V.onabort=function(ct){ct.preventDefault(),ct.stopPropagation(),Q(!1)},V.oncomplete=function(){var ct=navigator.userAgent.match(/Chrome\/(\d+)/),st=navigator.userAgent.match(/Edge\//);Q(st||!ct||parseInt(ct[1],10)>=43)}}).catch(function(){return!1})}function O(F){return typeof S=="boolean"?d.resolve(S):B(F).then(function(Q){return S=Q,S})}function H(F){var Q=I[F.name],V={};V.promise=new d(function(ot,ct){V.resolve=ot,V.reject=ct}),Q.deferredOperations.push(V),Q.dbReady?Q.dbReady=Q.dbReady.then(function(){return V.promise}):Q.dbReady=V.promise}function nt(F){var Q=I[F.name],V=Q.deferredOperations.pop();if(V)return V.resolve(),V.promise}function Y(F,Q){var V=I[F.name],ot=V.deferredOperations.pop();if(ot)return ot.reject(Q),ot.promise}function lt(F,Q){return new d(function(V,ot){if(I[F.name]=I[F.name]||St(),F.db)if(Q)H(F),F.db.close();else return V(F.db);var ct=[F.name];Q&&ct.push(F.version);var st=w.open.apply(w,ct);Q&&(st.onupgradeneeded=function(mt){var bt=st.result;try{bt.createObjectStore(F.storeName),mt.oldVersion<=1&&bt.createObjectStore(f)}catch(wt){if(wt.name==="ConstraintError")console.warn('The database "'+F.name+'" has been upgraded from version '+mt.oldVersion+" to version "+mt.newVersion+', but the storage "'+F.storeName+'" already exists.');else throw wt}}),st.onerror=function(mt){mt.preventDefault(),ot(st.error)},st.onsuccess=function(){var mt=st.result;mt.onversionchange=function(bt){bt.target.close()},V(mt),nt(F)}})}function rt(F){return lt(F,!1)}function ut(F){return lt(F,!0)}function G(F,Q){if(!F.db)return!0;var V=!F.db.objectStoreNames.contains(F.storeName),ot=F.version<F.db.version,ct=F.version>F.db.version;if(ot&&(F.version!==Q&&console.warn('The database "'+F.name+`" can't be downgraded from version `+F.db.version+" to version "+F.version+"."),F.version=F.db.version),ct||V){if(V){var st=F.db.version+1;st>F.version&&(F.version=st)}return!0}return!1}function it(F){return new d(function(Q,V){var ot=new FileReader;ot.onerror=V,ot.onloadend=function(ct){var st=btoa(ct.target.result||"");Q({__local_forage_encoded_blob:!0,data:st,type:F.type})},ot.readAsBinaryString(F)})}function gt(F){var Q=A(atob(F.data));return v([Q],{type:F.type})}function pt(F){return F&&F.__local_forage_encoded_blob}function ft(F){var Q=this,V=Q._initReady().then(function(){var ot=I[Q._dbInfo.name];if(ot&&ot.dbReady)return ot.dbReady});return p(V,F,F),V}function Et(F){H(F);for(var Q=I[F.name],V=Q.forages,ot=0;ot<V.length;ot++){var ct=V[ot];ct._dbInfo.db&&(ct._dbInfo.db.close(),ct._dbInfo.db=null)}return F.db=null,rt(F).then(function(st){return F.db=st,G(F)?ut(F):st}).then(function(st){F.db=Q.db=st;for(var mt=0;mt<V.length;mt++)V[mt]._dbInfo.db=st}).catch(function(st){throw Y(F,st),st})}function kt(F,Q,V,ot){ot===void 0&&(ot=1);try{var ct=F.db.transaction(F.storeName,Q);V(null,ct)}catch(st){if(ot>0&&(!F.db||st.name==="InvalidStateError"||st.name==="NotFoundError"))return d.resolve().then(function(){if(!F.db||st.name==="NotFoundError"&&!F.db.objectStoreNames.contains(F.storeName)&&F.version<=F.db.version)return F.db&&(F.version=F.db.version+1),ut(F)}).then(function(){return Et(F).then(function(){kt(F,Q,V,ot-1)})}).catch(V);V(st)}}function St(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function Rt(F){var Q=this,V={db:null};if(F)for(var ot in F)V[ot]=F[ot];var ct=I[V.name];ct||(ct=St(),I[V.name]=ct),ct.forages.push(Q),Q._initReady||(Q._initReady=Q.ready,Q.ready=ft);var st=[];function mt(){return d.resolve()}for(var bt=0;bt<ct.forages.length;bt++){var wt=ct.forages[bt];wt!==Q&&st.push(wt._initReady().catch(mt))}var yt=ct.forages.slice(0);return d.all(st).then(function(){return V.db=ct.db,rt(V)}).then(function(_t){return V.db=_t,G(V,Q._defaultConfig.version)?ut(V):_t}).then(function(_t){V.db=ct.db=_t,Q._dbInfo=V;for(var Tt=0;Tt<yt.length;Tt++){var Ht=yt[Tt];Ht!==Q&&(Ht._dbInfo.db=V.db,Ht._dbInfo.version=V.version)}})}function Dt(F,Q){var V=this;F=x(F);var ot=new d(function(ct,st){V.ready().then(function(){kt(V._dbInfo,T,function(mt,bt){if(mt)return st(mt);try{var wt=bt.objectStore(V._dbInfo.storeName),yt=wt.get(F);yt.onsuccess=function(){var _t=yt.result;_t===void 0&&(_t=null),pt(_t)&&(_t=gt(_t)),ct(_t)},yt.onerror=function(){st(yt.error)}}catch(_t){st(_t)}})}).catch(st)});return b(ot,Q),ot}function Nt(F,Q){var V=this,ot=new d(function(ct,st){V.ready().then(function(){kt(V._dbInfo,T,function(mt,bt){if(mt)return st(mt);try{var wt=bt.objectStore(V._dbInfo.storeName),yt=wt.openCursor(),_t=1;yt.onsuccess=function(){var Tt=yt.result;if(Tt){var Ht=Tt.value;pt(Ht)&&(Ht=gt(Ht));var Xt=F(Ht,Tt.key,_t++);Xt!==void 0?ct(Xt):Tt.continue()}else ct()},yt.onerror=function(){st(yt.error)}}catch(Tt){st(Tt)}})}).catch(st)});return b(ot,Q),ot}function K(F,Q,V){var ot=this;F=x(F);var ct=new d(function(st,mt){var bt;ot.ready().then(function(){return bt=ot._dbInfo,P.call(Q)==="[object Blob]"?O(bt.db).then(function(wt){return wt?Q:it(Q)}):Q}).then(function(wt){kt(ot._dbInfo,N,function(yt,_t){if(yt)return mt(yt);try{var Tt=_t.objectStore(ot._dbInfo.storeName);wt===null&&(wt=void 0);var Ht=Tt.put(wt,F);_t.oncomplete=function(){wt===void 0&&(wt=null),st(wt)},_t.onabort=_t.onerror=function(){var Xt=Ht.error?Ht.error:Ht.transaction.error;mt(Xt)}}catch(Xt){mt(Xt)}})}).catch(mt)});return b(ct,V),ct}function et(F,Q){var V=this;F=x(F);var ot=new d(function(ct,st){V.ready().then(function(){kt(V._dbInfo,N,function(mt,bt){if(mt)return st(mt);try{var wt=bt.objectStore(V._dbInfo.storeName),yt=wt.delete(F);bt.oncomplete=function(){ct()},bt.onerror=function(){st(yt.error)},bt.onabort=function(){var _t=yt.error?yt.error:yt.transaction.error;st(_t)}}catch(_t){st(_t)}})}).catch(st)});return b(ot,Q),ot}function m(F){var Q=this,V=new d(function(ot,ct){Q.ready().then(function(){kt(Q._dbInfo,N,function(st,mt){if(st)return ct(st);try{var bt=mt.objectStore(Q._dbInfo.storeName),wt=bt.clear();mt.oncomplete=function(){ot()},mt.onabort=mt.onerror=function(){var yt=wt.error?wt.error:wt.transaction.error;ct(yt)}}catch(yt){ct(yt)}})}).catch(ct)});return b(V,F),V}function U(F){var Q=this,V=new d(function(ot,ct){Q.ready().then(function(){kt(Q._dbInfo,T,function(st,mt){if(st)return ct(st);try{var bt=mt.objectStore(Q._dbInfo.storeName),wt=bt.count();wt.onsuccess=function(){ot(wt.result)},wt.onerror=function(){ct(wt.error)}}catch(yt){ct(yt)}})}).catch(ct)});return b(V,F),V}function j(F,Q){var V=this,ot=new d(function(ct,st){if(F<0){ct(null);return}V.ready().then(function(){kt(V._dbInfo,T,function(mt,bt){if(mt)return st(mt);try{var wt=bt.objectStore(V._dbInfo.storeName),yt=!1,_t=wt.openKeyCursor();_t.onsuccess=function(){var Tt=_t.result;if(!Tt){ct(null);return}F===0||yt?ct(Tt.key):(yt=!0,Tt.advance(F))},_t.onerror=function(){st(_t.error)}}catch(Tt){st(Tt)}})}).catch(st)});return b(ot,Q),ot}function R(F){var Q=this,V=new d(function(ot,ct){Q.ready().then(function(){kt(Q._dbInfo,T,function(st,mt){if(st)return ct(st);try{var bt=mt.objectStore(Q._dbInfo.storeName),wt=bt.openKeyCursor(),yt=[];wt.onsuccess=function(){var _t=wt.result;if(!_t){ot(yt);return}yt.push(_t.key),_t.continue()},wt.onerror=function(){ct(wt.error)}}catch(_t){ct(_t)}})}).catch(ct)});return b(V,F),V}function L(F,Q){Q=E.apply(this,arguments);var V=this.config();F=typeof F!="function"&&F||{},F.name||(F.name=F.name||V.name,F.storeName=F.storeName||V.storeName);var ot=this,ct;if(!F.name)ct=d.reject("Invalid arguments");else{var st=F.name===V.name&&ot._dbInfo.db,mt=st?d.resolve(ot._dbInfo.db):rt(F).then(function(bt){var wt=I[F.name],yt=wt.forages;wt.db=bt;for(var _t=0;_t<yt.length;_t++)yt[_t]._dbInfo.db=bt;return bt});F.storeName?ct=mt.then(function(bt){if(bt.objectStoreNames.contains(F.storeName)){var wt=bt.version+1;H(F);var yt=I[F.name],_t=yt.forages;bt.close();for(var Tt=0;Tt<_t.length;Tt++){var Ht=_t[Tt];Ht._dbInfo.db=null,Ht._dbInfo.version=wt}var Xt=new d(function(Gt,ce){var ae=w.open(F.name,wt);ae.onerror=function(De){var si=ae.result;si.close(),ce(De)},ae.onupgradeneeded=function(){var De=ae.result;De.deleteObjectStore(F.storeName)},ae.onsuccess=function(){var De=ae.result;De.close(),Gt(De)}});return Xt.then(function(Gt){yt.db=Gt;for(var ce=0;ce<_t.length;ce++){var ae=_t[ce];ae._dbInfo.db=Gt,nt(ae._dbInfo)}}).catch(function(Gt){throw(Y(F,Gt)||d.resolve()).catch(function(){}),Gt})}}):ct=mt.then(function(bt){H(F);var wt=I[F.name],yt=wt.forages;bt.close();for(var _t=0;_t<yt.length;_t++){var Tt=yt[_t];Tt._dbInfo.db=null}var Ht=new d(function(Xt,Gt){var ce=w.deleteDatabase(F.name);ce.onerror=function(){var ae=ce.result;ae&&ae.close(),Gt(ce.error)},ce.onblocked=function(){console.warn('dropInstance blocked for database "'+F.name+'" until all open connections are closed')},ce.onsuccess=function(){var ae=ce.result;ae&&ae.close(),Xt(ae)}});return Ht.then(function(Xt){wt.db=Xt;for(var Gt=0;Gt<yt.length;Gt++){var ce=yt[Gt];nt(ce._dbInfo)}}).catch(function(Xt){throw(Y(F,Xt)||d.resolve()).catch(function(){}),Xt})})}return b(ct,Q),ct}var W={_driver:"asyncStorage",_initStorage:Rt,_support:s(),iterate:Nt,getItem:Dt,setItem:K,removeItem:et,clear:m,length:U,key:j,keys:R,dropInstance:L};function Z(){return typeof openDatabase=="function"}var q="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",g="~~local_forage_type~",k=/^~~local_forage_type~([^~]+)~/,D="__lfsc__:",M=D.length,X="arbf",J="blob",at="si08",vt="ui08",Ct="uic8",It="si16",Lt="si32",At="ur16",jt="ui32",Mt="fl32",z="fl64",$=M+X.length,tt=Object.prototype.toString;function dt(F){var Q=F.length*.75,V=F.length,ot,ct=0,st,mt,bt,wt;F[F.length-1]==="="&&(Q--,F[F.length-2]==="="&&Q--);var yt=new ArrayBuffer(Q),_t=new Uint8Array(yt);for(ot=0;ot<V;ot+=4)st=q.indexOf(F[ot]),mt=q.indexOf(F[ot+1]),bt=q.indexOf(F[ot+2]),wt=q.indexOf(F[ot+3]),_t[ct++]=st<<2|mt>>4,_t[ct++]=(mt&15)<<4|bt>>2,_t[ct++]=(bt&3)<<6|wt&63;return yt}function xt(F){var Q=new Uint8Array(F),V="",ot;for(ot=0;ot<Q.length;ot+=3)V+=q[Q[ot]>>2],V+=q[(Q[ot]&3)<<4|Q[ot+1]>>4],V+=q[(Q[ot+1]&15)<<2|Q[ot+2]>>6],V+=q[Q[ot+2]&63];return Q.length%3===2?V=V.substring(0,V.length-1)+"=":Q.length%3===1&&(V=V.substring(0,V.length-2)+"=="),V}function Wt(F,Q){var V="";if(F&&(V=tt.call(F)),F&&(V==="[object ArrayBuffer]"||F.buffer&&tt.call(F.buffer)==="[object ArrayBuffer]")){var ot,ct=D;F instanceof ArrayBuffer?(ot=F,ct+=X):(ot=F.buffer,V==="[object Int8Array]"?ct+=at:V==="[object Uint8Array]"?ct+=vt:V==="[object Uint8ClampedArray]"?ct+=Ct:V==="[object Int16Array]"?ct+=It:V==="[object Uint16Array]"?ct+=At:V==="[object Int32Array]"?ct+=Lt:V==="[object Uint32Array]"?ct+=jt:V==="[object Float32Array]"?ct+=Mt:V==="[object Float64Array]"?ct+=z:Q(new Error("Failed to get type for BinaryArray"))),Q(ct+xt(ot))}else if(V==="[object Blob]"){var st=new FileReader;st.onload=function(){var mt=g+F.type+"~"+xt(this.result);Q(D+J+mt)},st.readAsArrayBuffer(F)}else try{Q(JSON.stringify(F))}catch(mt){console.error("Couldn't convert value into a JSON string: ",F),Q(null,mt)}}function Jt(F){if(F.substring(0,M)!==D)return JSON.parse(F);var Q=F.substring($),V=F.substring(M,$),ot;if(V===J&&k.test(Q)){var ct=Q.match(k);ot=ct[1],Q=Q.substring(ct[0].length)}var st=dt(Q);switch(V){case X:return st;case J:return v([st],{type:ot});case at:return new Int8Array(st);case vt:return new Uint8Array(st);case Ct:return new Uint8ClampedArray(st);case It:return new Int16Array(st);case At:return new Uint16Array(st);case Lt:return new Int32Array(st);case jt:return new Uint32Array(st);case Mt:return new Float32Array(st);case z:return new Float64Array(st);default:throw new Error("Unkown type: "+V)}}var ne={serialize:Wt,deserialize:Jt,stringToBuffer:dt,bufferToString:xt};function Re(F,Q,V,ot){F.executeSql("CREATE TABLE IF NOT EXISTS "+Q.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],V,ot)}function ge(F){var Q=this,V={db:null};if(F)for(var ot in F)V[ot]=typeof F[ot]!="string"?F[ot].toString():F[ot];var ct=new d(function(st,mt){try{V.db=openDatabase(V.name,String(V.version),V.description,V.size)}catch(bt){return mt(bt)}V.db.transaction(function(bt){Re(bt,V,function(){Q._dbInfo=V,st()},function(wt,yt){mt(yt)})},mt)});return V.serializer=ne,ct}function se(F,Q,V,ot,ct,st){F.executeSql(V,ot,ct,function(mt,bt){bt.code===bt.SYNTAX_ERR?mt.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[Q.storeName],function(wt,yt){yt.rows.length?st(wt,bt):Re(wt,Q,function(){wt.executeSql(V,ot,ct,st)},st)},st):st(mt,bt)},st)}function Ae(F,Q){var V=this;F=x(F);var ot=new d(function(ct,st){V.ready().then(function(){var mt=V._dbInfo;mt.db.transaction(function(bt){se(bt,mt,"SELECT * FROM "+mt.storeName+" WHERE key = ? LIMIT 1",[F],function(wt,yt){var _t=yt.rows.length?yt.rows.item(0).value:null;_t&&(_t=mt.serializer.deserialize(_t)),ct(_t)},function(wt,yt){st(yt)})})}).catch(st)});return b(ot,Q),ot}function Qe(F,Q){var V=this,ot=new d(function(ct,st){V.ready().then(function(){var mt=V._dbInfo;mt.db.transaction(function(bt){se(bt,mt,"SELECT * FROM "+mt.storeName,[],function(wt,yt){for(var _t=yt.rows,Tt=_t.length,Ht=0;Ht<Tt;Ht++){var Xt=_t.item(Ht),Gt=Xt.value;if(Gt&&(Gt=mt.serializer.deserialize(Gt)),Gt=F(Gt,Xt.key,Ht+1),Gt!==void 0){ct(Gt);return}}ct()},function(wt,yt){st(yt)})})}).catch(st)});return b(ot,Q),ot}function He(F,Q,V,ot){var ct=this;F=x(F);var st=new d(function(mt,bt){ct.ready().then(function(){Q===void 0&&(Q=null);var wt=Q,yt=ct._dbInfo;yt.serializer.serialize(Q,function(_t,Tt){Tt?bt(Tt):yt.db.transaction(function(Ht){se(Ht,yt,"INSERT OR REPLACE INTO "+yt.storeName+" (key, value) VALUES (?, ?)",[F,_t],function(){mt(wt)},function(Xt,Gt){bt(Gt)})},function(Ht){if(Ht.code===Ht.QUOTA_ERR){if(ot>0){mt(He.apply(ct,[F,wt,V,ot-1]));return}bt(Ht)}})})}).catch(bt)});return b(st,V),st}function Ne(F,Q,V){return He.apply(this,[F,Q,V,1])}function tr(F,Q){var V=this;F=x(F);var ot=new d(function(ct,st){V.ready().then(function(){var mt=V._dbInfo;mt.db.transaction(function(bt){se(bt,mt,"DELETE FROM "+mt.storeName+" WHERE key = ?",[F],function(){ct()},function(wt,yt){st(yt)})})}).catch(st)});return b(ot,Q),ot}function Er(F){var Q=this,V=new d(function(ot,ct){Q.ready().then(function(){var st=Q._dbInfo;st.db.transaction(function(mt){se(mt,st,"DELETE FROM "+st.storeName,[],function(){ot()},function(bt,wt){ct(wt)})})}).catch(ct)});return b(V,F),V}function pe(F){var Q=this,V=new d(function(ot,ct){Q.ready().then(function(){var st=Q._dbInfo;st.db.transaction(function(mt){se(mt,st,"SELECT COUNT(key) as c FROM "+st.storeName,[],function(bt,wt){var yt=wt.rows.item(0).c;ot(yt)},function(bt,wt){ct(wt)})})}).catch(ct)});return b(V,F),V}function $i(F,Q){var V=this,ot=new d(function(ct,st){V.ready().then(function(){var mt=V._dbInfo;mt.db.transaction(function(bt){se(bt,mt,"SELECT key FROM "+mt.storeName+" WHERE id = ? LIMIT 1",[F+1],function(wt,yt){var _t=yt.rows.length?yt.rows.item(0).key:null;ct(_t)},function(wt,yt){st(yt)})})}).catch(st)});return b(ot,Q),ot}function fr(F){var Q=this,V=new d(function(ot,ct){Q.ready().then(function(){var st=Q._dbInfo;st.db.transaction(function(mt){se(mt,st,"SELECT key FROM "+st.storeName,[],function(bt,wt){for(var yt=[],_t=0;_t<wt.rows.length;_t++)yt.push(wt.rows.item(_t).key);ot(yt)},function(bt,wt){ct(wt)})})}).catch(ct)});return b(V,F),V}function Hi(F){return new d(function(Q,V){F.transaction(function(ot){ot.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(ct,st){for(var mt=[],bt=0;bt<st.rows.length;bt++)mt.push(st.rows.item(bt).name);Q({db:F,storeNames:mt})},function(ct,st){V(st)})},function(ot){V(ot)})})}function Af(F,Q){Q=E.apply(this,arguments);var V=this.config();F=typeof F!="function"&&F||{},F.name||(F.name=F.name||V.name,F.storeName=F.storeName||V.storeName);var ot=this,ct;return F.name?ct=new d(function(st){var mt;F.name===V.name?mt=ot._dbInfo.db:mt=openDatabase(F.name,"","",0),F.storeName?st({db:mt,storeNames:[F.storeName]}):st(Hi(mt))}).then(function(st){return new d(function(mt,bt){st.db.transaction(function(wt){function yt(Xt){return new d(function(Gt,ce){wt.executeSql("DROP TABLE IF EXISTS "+Xt,[],function(){Gt()},function(ae,De){ce(De)})})}for(var _t=[],Tt=0,Ht=st.storeNames.length;Tt<Ht;Tt++)_t.push(yt(st.storeNames[Tt]));d.all(_t).then(function(){mt()}).catch(function(Xt){bt(Xt)})},function(wt){bt(wt)})})}):ct=d.reject("Invalid arguments"),b(ct,Q),ct}var If={_driver:"webSQLStorage",_initStorage:ge,_support:Z(),iterate:Qe,getItem:Ae,setItem:Ne,removeItem:tr,clear:Er,length:pe,key:$i,keys:fr,dropInstance:Af};function Rf(){try{return typeof localStorage!="undefined"&&"setItem"in localStorage&&!!localStorage.setItem}catch(F){return!1}}function ua(F,Q){var V=F.name+"/";return F.storeName!==Q.storeName&&(V+=F.storeName+"/"),V}function Nf(){var F="_localforage_support_test";try{return localStorage.setItem(F,!0),localStorage.removeItem(F),!1}catch(Q){return!0}}function Df(){return!Nf()||localStorage.length>0}function Lf(F){var Q=this,V={};if(F)for(var ot in F)V[ot]=F[ot];return V.keyPrefix=ua(F,Q._defaultConfig),Df()?(Q._dbInfo=V,V.serializer=ne,d.resolve()):d.reject()}function Pf(F){var Q=this,V=Q.ready().then(function(){for(var ot=Q._dbInfo.keyPrefix,ct=localStorage.length-1;ct>=0;ct--){var st=localStorage.key(ct);st.indexOf(ot)===0&&localStorage.removeItem(st)}});return b(V,F),V}function Mf(F,Q){var V=this;F=x(F);var ot=V.ready().then(function(){var ct=V._dbInfo,st=localStorage.getItem(ct.keyPrefix+F);return st&&(st=ct.serializer.deserialize(st)),st});return b(ot,Q),ot}function zf(F,Q){var V=this,ot=V.ready().then(function(){for(var ct=V._dbInfo,st=ct.keyPrefix,mt=st.length,bt=localStorage.length,wt=1,yt=0;yt<bt;yt++){var _t=localStorage.key(yt);if(_t.indexOf(st)===0){var Tt=localStorage.getItem(_t);if(Tt&&(Tt=ct.serializer.deserialize(Tt)),Tt=F(Tt,_t.substring(mt),wt++),Tt!==void 0)return Tt}}});return b(ot,Q),ot}function Bf(F,Q){var V=this,ot=V.ready().then(function(){var ct=V._dbInfo,st;try{st=localStorage.key(F)}catch(mt){st=null}return st&&(st=st.substring(ct.keyPrefix.length)),st});return b(ot,Q),ot}function jf(F){var Q=this,V=Q.ready().then(function(){for(var ot=Q._dbInfo,ct=localStorage.length,st=[],mt=0;mt<ct;mt++){var bt=localStorage.key(mt);bt.indexOf(ot.keyPrefix)===0&&st.push(bt.substring(ot.keyPrefix.length))}return st});return b(V,F),V}function Uf(F){var Q=this,V=Q.keys().then(function(ot){return ot.length});return b(V,F),V}function Ff(F,Q){var V=this;F=x(F);var ot=V.ready().then(function(){var ct=V._dbInfo;localStorage.removeItem(ct.keyPrefix+F)});return b(ot,Q),ot}function Wf(F,Q,V){var ot=this;F=x(F);var ct=ot.ready().then(function(){Q===void 0&&(Q=null);var st=Q;return new d(function(mt,bt){var wt=ot._dbInfo;wt.serializer.serialize(Q,function(yt,_t){if(_t)bt(_t);else try{localStorage.setItem(wt.keyPrefix+F,yt),mt(st)}catch(Tt){(Tt.name==="QuotaExceededError"||Tt.name==="NS_ERROR_DOM_QUOTA_REACHED")&&bt(Tt),bt(Tt)}})})});return b(ct,V),ct}function $f(F,Q){if(Q=E.apply(this,arguments),F=typeof F!="function"&&F||{},!F.name){var V=this.config();F.name=F.name||V.name,F.storeName=F.storeName||V.storeName}var ot=this,ct;return F.name?ct=new d(function(st){F.storeName?st(ua(F,ot._defaultConfig)):st(F.name+"/")}).then(function(st){for(var mt=localStorage.length-1;mt>=0;mt--){var bt=localStorage.key(mt);bt.indexOf(st)===0&&localStorage.removeItem(bt)}}):ct=d.reject("Invalid arguments"),b(ct,Q),ct}var Hf={_driver:"localStorageWrapper",_initStorage:Lf,_support:Rf(),iterate:zf,getItem:Mf,setItem:Wf,removeItem:Ff,clear:Pf,length:Uf,key:Bf,keys:jf,dropInstance:$f},Vf=function(Q,V){return Q===V||typeof Q=="number"&&typeof V=="number"&&isNaN(Q)&&isNaN(V)},qf=function(Q,V){for(var ot=Q.length,ct=0;ct<ot;){if(Vf(Q[ct],V))return!0;ct++}return!1},fa=Array.isArray||function(F){return Object.prototype.toString.call(F)==="[object Array]"},ni={},da={},Mr={INDEXEDDB:W,WEBSQL:If,LOCALSTORAGE:Hf},Kf=[Mr.INDEXEDDB._driver,Mr.WEBSQL._driver,Mr.LOCALSTORAGE._driver],Vi=["dropInstance"],Xn=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Vi),Yf={description:"",driver:Kf.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Xf(F,Q){F[Q]=function(){var V=arguments;return F.ready().then(function(){return F[Q].apply(F,V)})}}function Zn(){for(var F=1;F<arguments.length;F++){var Q=arguments[F];if(Q)for(var V in Q)Q.hasOwnProperty(V)&&(fa(Q[V])?arguments[0][V]=Q[V].slice():arguments[0][V]=Q[V])}return arguments[0]}var Zf=function(){function F(Q){a(this,F);for(var V in Mr)if(Mr.hasOwnProperty(V)){var ot=Mr[V],ct=ot._driver;this[V]=ct,ni[ct]||this.defineDriver(ot)}this._defaultConfig=Zn({},Yf),this._config=Zn({},this._defaultConfig,Q),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return F.prototype.config=function(V){if((typeof V=="undefined"?"undefined":_(V))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var ot in V){if(ot==="storeName"&&(V[ot]=V[ot].replace(/\W/g,"_")),ot==="version"&&typeof V[ot]!="number")return new Error("Database version must be a number.");this._config[ot]=V[ot]}return"driver"in V&&V.driver?this.setDriver(this._config.driver):!0}else return typeof V=="string"?this._config[V]:this._config},F.prototype.defineDriver=function(V,ot,ct){var st=new d(function(mt,bt){try{var wt=V._driver,yt=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!V._driver){bt(yt);return}for(var _t=Xn.concat("_initStorage"),Tt=0,Ht=_t.length;Tt<Ht;Tt++){var Xt=_t[Tt],Gt=!qf(Vi,Xt);if((Gt||V[Xt])&&typeof V[Xt]!="function"){bt(yt);return}}var ce=function(){for(var si=function(Qf){return function(){var td=new Error("Method "+Qf+" is not implemented by the current driver"),pa=d.reject(td);return b(pa,arguments[arguments.length-1]),pa}},Gn=0,Jf=Vi.length;Gn<Jf;Gn++){var Jn=Vi[Gn];V[Jn]||(V[Jn]=si(Jn))}};ce();var ae=function(si){ni[wt]&&console.info("Redefining LocalForage driver: "+wt),ni[wt]=V,da[wt]=si,mt()};"_support"in V?V._support&&typeof V._support=="function"?V._support().then(ae,bt):ae(!!V._support):ae(!0)}catch(De){bt(De)}});return p(st,ot,ct),st},F.prototype.driver=function(){return this._driver||null},F.prototype.getDriver=function(V,ot,ct){var st=ni[V]?d.resolve(ni[V]):d.reject(new Error("Driver not found."));return p(st,ot,ct),st},F.prototype.getSerializer=function(V){var ot=d.resolve(ne);return p(ot,V),ot},F.prototype.ready=function(V){var ot=this,ct=ot._driverSet.then(function(){return ot._ready===null&&(ot._ready=ot._initDriver()),ot._ready});return p(ct,V,V),ct},F.prototype.setDriver=function(V,ot,ct){var st=this;fa(V)||(V=[V]);var mt=this._getSupportedDrivers(V);function bt(){st._config.driver=st.driver()}function wt(Tt){return st._extend(Tt),bt(),st._ready=st._initStorage(st._config),st._ready}function yt(Tt){return function(){var Ht=0;function Xt(){for(;Ht<Tt.length;){var Gt=Tt[Ht];return Ht++,st._dbInfo=null,st._ready=null,st.getDriver(Gt).then(wt).catch(Xt)}bt();var ce=new Error("No available storage method found.");return st._driverSet=d.reject(ce),st._driverSet}return Xt()}}var _t=this._driverSet!==null?this._driverSet.catch(function(){return d.resolve()}):d.resolve();return this._driverSet=_t.then(function(){var Tt=mt[0];return st._dbInfo=null,st._ready=null,st.getDriver(Tt).then(function(Ht){st._driver=Ht._driver,bt(),st._wrapLibraryMethodsWithReady(),st._initDriver=yt(mt)})}).catch(function(){bt();var Tt=new Error("No available storage method found.");return st._driverSet=d.reject(Tt),st._driverSet}),p(this._driverSet,ot,ct),this._driverSet},F.prototype.supports=function(V){return!!da[V]},F.prototype._extend=function(V){Zn(this,V)},F.prototype._getSupportedDrivers=function(V){for(var ot=[],ct=0,st=V.length;ct<st;ct++){var mt=V[ct];this.supports(mt)&&ot.push(mt)}return ot},F.prototype._wrapLibraryMethodsWithReady=function(){for(var V=0,ot=Xn.length;V<ot;V++)Xf(this,Xn[V])},F.prototype.createInstance=function(V){return new F(V)},F}(),Gf=new Zf;C.exports=Gf},{3:3}]},{},[4])(4)})}).call(this,i(17))},function(o,n,i){var h=i(3),u=i.n(h),l=i(0),C=i(5),y=i(4),_=i(2),a=i(6),c=i(8);function w(q,g,k,D){var M=typeof window!="undefined"?window.URL:!1,X=M?"blob":"arraybuffer",J=new l.defer,at=new XMLHttpRequest,vt=XMLHttpRequest.prototype,Ct;"overrideMimeType"in vt||Object.defineProperty(vt,"overrideMimeType",{value:function(){}}),k&&(at.withCredentials=!0),at.onreadystatechange=Lt,at.onerror=It,at.open("GET",q,!0);for(Ct in D)at.setRequestHeader(Ct,D[Ct]);g=="json"&&at.setRequestHeader("Accept","application/json"),g||(g=new y.a(q).extension),g=="blob"&&(at.responseType=X),Object(l.isXml)(g)&&at.overrideMimeType("text/xml"),g=="binary"&&(at.responseType="arraybuffer"),at.send();function It(At){J.reject(At)}function Lt(){if(this.readyState===XMLHttpRequest.DONE){var At=!1;if((this.responseType===""||this.responseType==="document")&&(At=this.responseXML),this.status===200||this.status===0||At){var jt;if(!this.response&&!At)return J.reject({status:this.status,message:"Empty Response",stack:new Error().stack}),J.promise;if(this.status===403)return J.reject({status:this.status,response:this.response,message:"Forbidden",stack:new Error().stack}),J.promise;At?jt=this.responseXML:Object(l.isXml)(g)?jt=Object(l.parse)(this.response,"text/xml"):g=="xhtml"?jt=Object(l.parse)(this.response,"application/xhtml+xml"):g=="html"||g=="htm"?jt=Object(l.parse)(this.response,"text/html"):g=="json"?jt=JSON.parse(this.response):g=="blob"?M?jt=this.response:jt=new Blob([this.response]):jt=this.response,J.resolve(jt)}else J.reject({status:this.status,message:this.response,stack:new Error().stack})}}return J.promise}var s=w,v=i(15);class d{constructor(g,k){this.idref=g.idref,this.linear=g.linear==="yes",this.properties=g.properties,this.index=g.index,this.href=g.href,this.url=g.url,this.canonical=g.canonical,this.next=g.next,this.prev=g.prev,this.cfiBase=g.cfiBase,k?this.hooks=k:(this.hooks={},this.hooks.serialize=new a.a(this),this.hooks.content=new a.a(this)),this.document=void 0,this.contents=void 0,this.output=void 0}load(g){var k=g||this.request||s,D=new l.defer,M=D.promise;return this.contents?D.resolve(this.contents):k(this.url).then(function(X){return this.document=X,this.contents=X.documentElement,this.hooks.content.trigger(this.document,this)}.bind(this)).then(function(){D.resolve(this.contents)}.bind(this)).catch(function(X){D.reject(X)}),M}base(){return Object(c.a)(this.document,this)}render(g){var k=new l.defer,D=k.promise;return this.output,this.load(g).then(function(M){var X=typeof navigator!="undefined"&&navigator.userAgent||"",J=X.indexOf("Trident")>=0,at;typeof XMLSerializer=="undefined"||J?at=v.DOMParser:at=XMLSerializer;var vt=new at;return this.output=vt.serializeToString(M),this.output}.bind(this)).then(function(){return this.hooks.serialize.trigger(this.output,this)}.bind(this)).then(function(){k.resolve(this.output)}.bind(this)).catch(function(M){k.reject(M)}),D}find(g){var k=this,D=[],M=g.toLowerCase(),X=function(J){for(var at=J.textContent.toLowerCase(),vt=k.document.createRange(),Ct,It,Lt=-1,At,jt=150;It!=-1;)It=at.indexOf(M,Lt+1),It!=-1&&(vt=k.document.createRange(),vt.setStart(J,It),vt.setEnd(J,It+M.length),Ct=k.cfiFromRange(vt),J.textContent.length<jt?At=J.textContent:(At=J.textContent.substring(It-jt/2,It+jt/2),At="..."+At+"..."),D.push({cfi:Ct,excerpt:At})),Lt=It};return Object(l.sprint)(k.document,function(J){X(J)}),D}search(g,k=5){if(typeof document.createTreeWalker=="undefined")return this.find(g);let D=[];const M=150,X=this,J=g.toLowerCase(),at=function(Lt){const Mt=Lt.reduce((z,$)=>z+$.textContent,"").toLowerCase().indexOf(J);if(Mt!=-1){const $=Mt+J.length;let tt=0,dt=0;if(Mt<Lt[0].length){let xt;for(;tt<Lt.length-1&&(dt+=Lt[tt].length,!($<=dt));)tt+=1;let Wt=Lt[0],Jt=Lt[tt],ne=X.document.createRange();ne.setStart(Wt,Mt);let Re=Lt.slice(0,tt).reduce((se,Ae)=>se+Ae.textContent.length,0);ne.setEnd(Jt,Re>$?$:$-Re),xt=X.cfiFromRange(ne);let ge=Lt.slice(0,tt+1).reduce((se,Ae)=>se+Ae.textContent,"");ge.length>M&&(ge=ge.substring(Mt-M/2,Mt+M/2),ge="..."+ge+"..."),D.push({cfi:xt,excerpt:ge})}}},vt=document.createTreeWalker(X.document,NodeFilter.SHOW_TEXT,null,!1);let Ct,It=[];for(;Ct=vt.nextNode();)It.push(Ct),It.length==k&&(at(It.slice(0,k)),It=It.slice(1,k));return It.length>0&&at(It),D}reconcileLayoutSettings(g){var k={layout:g.layout,spread:g.spread,orientation:g.orientation};return this.properties.forEach(function(D){var M=D.replace("rendition:",""),X=M.indexOf("-"),J,at;X!=-1&&(J=M.slice(0,X),at=M.slice(X+1),k[J]=at)}),k}cfiFromRange(g){return new _.a(g,this.cfiBase).toString()}cfiFromElement(g){return new _.a(g,this.cfiBase).toString()}unload(){this.document=void 0,this.contents=void 0,this.output=void 0}destroy(){this.unload(),this.hooks.serialize.clear(),this.hooks.content.clear(),this.hooks=void 0,this.idref=void 0,this.linear=void 0,this.properties=void 0,this.index=void 0,this.href=void 0,this.url=void 0,this.next=void 0,this.prev=void 0,this.cfiBase=void 0}}var b=d;class p{constructor(){this.spineItems=[],this.spineByHref={},this.spineById={},this.hooks={},this.hooks.serialize=new a.a,this.hooks.content=new a.a,this.hooks.content.register(c.a),this.hooks.content.register(c.b),this.hooks.content.register(c.d),this.epubcfi=new _.a,this.loaded=!1,this.items=void 0,this.manifest=void 0,this.spineNodeIndex=void 0,this.baseUrl=void 0,this.length=void 0}unpack(g,k,D){this.items=g.spine,this.manifest=g.manifest,this.spineNodeIndex=g.spineNodeIndex,this.baseUrl=g.baseUrl||g.basePath||"",this.length=this.items.length,this.items.forEach((M,X)=>{var J=this.manifest[M.idref],at;M.index=X,M.cfiBase=this.epubcfi.generateChapterComponent(this.spineNodeIndex,M.index,M.id),M.href&&(M.url=k(M.href,!0),M.canonical=D(M.href)),J&&(M.href=J.href,M.url=k(M.href,!0),M.canonical=D(M.href),J.properties.length&&M.properties.push.apply(M.properties,J.properties)),M.linear==="yes"?(M.prev=function(){let vt=M.index;for(;vt>0;){let Ct=this.get(vt-1);if(Ct&&Ct.linear)return Ct;vt-=1}}.bind(this),M.next=function(){let vt=M.index;for(;vt<this.spineItems.length-1;){let Ct=this.get(vt+1);if(Ct&&Ct.linear)return Ct;vt+=1}}.bind(this)):(M.prev=function(){},M.next=function(){}),at=new b(M,this.hooks),this.append(at)}),this.loaded=!0}get(g){var k=0;if(typeof g=="undefined")for(;k<this.spineItems.length;){let D=this.spineItems[k];if(D&&D.linear)break;k+=1}else this.epubcfi.isCfiString(g)?k=new _.a(g).spinePos:typeof g=="number"||isNaN(g)===!1?k=g:typeof g=="string"&&g.indexOf("#")===0?k=this.spineById[g.substring(1)]:typeof g=="string"&&(g=g.split("#")[0],k=this.spineByHref[g]||this.spineByHref[encodeURI(g)]);return this.spineItems[k]||null}append(g){var k=this.spineItems.length;return g.index=k,this.spineItems.push(g),this.spineByHref[decodeURI(g.href)]=k,this.spineByHref[encodeURI(g.href)]=k,this.spineByHref[g.href]=k,this.spineById[g.idref]=k,k}prepend(g){return this.spineByHref[g.href]=0,this.spineById[g.idref]=0,this.spineItems.forEach(function(k,D){k.index=D}),0}remove(g){var k=this.spineItems.indexOf(g);if(k>-1)return delete this.spineByHref[g.href],delete this.spineById[g.idref],this.spineItems.splice(k,1)}each(){return this.spineItems.forEach.apply(this.spineItems,arguments)}first(){let g=0;do{let k=this.get(g);if(k&&k.linear)return k;g+=1}while(g<this.spineItems.length)}last(){let g=this.spineItems.length-1;do{let k=this.get(g);if(k&&k.linear)return k;g-=1}while(g>=0)}destroy(){this.each(g=>g.destroy()),this.spineItems=void 0,this.spineByHref=void 0,this.spineById=void 0,this.hooks.serialize.clear(),this.hooks.content.clear(),this.hooks=void 0,this.epubcfi=void 0,this.loaded=!1,this.items=void 0,this.manifest=void 0,this.spineNodeIndex=void 0,this.baseUrl=void 0,this.length=void 0}}var x=p,E=i(9),f=i(1);class S{constructor(g,k,D){this.spine=g,this.request=k,this.pause=D||100,this.q=new E.a(this),this.epubcfi=new _.a,this._locations=[],this._locationsWords=[],this.total=0,this.break=150,this._current=0,this._wordCounter=0,this.currentLocation="",this._currentCfi="",this.processingTimeout=void 0}generate(g){return g&&(this.break=g),this.q.pause(),this.spine.each(function(k){k.linear&&this.q.enqueue(this.process.bind(this),k)}.bind(this)),this.q.run().then(function(){return this.total=this._locations.length-1,this._currentCfi&&(this.currentLocation=this._currentCfi),this._locations}.bind(this))}createRange(){return{startContainer:void 0,startOffset:void 0,endContainer:void 0,endOffset:void 0}}process(g){return g.load(this.request).then(function(k){var D=new l.defer,M=this.parse(k,g.cfiBase);return this._locations=this._locations.concat(M),g.unload(),this.processingTimeout=setTimeout(()=>D.resolve(M),this.pause),D.promise}.bind(this))}parse(g,k,D){var M=[],X,J=g.ownerDocument,at=Object(l.qs)(J,"body"),vt=0,Ct,It=D||this.break,Lt=function(At){var jt=At.length,Mt,z=0;if(At.textContent.trim().length===0)return!1;for(vt==0&&(X=this.createRange(),X.startContainer=At,X.startOffset=0),Mt=It-vt,Mt>jt&&(vt+=jt,z=jt);z<jt;)if(Mt=It-vt,vt===0&&(z+=1,X=this.createRange(),X.startContainer=At,X.startOffset=z),z+Mt>=jt)vt+=jt-z,z=jt;else{z+=Mt,X.endContainer=At,X.endOffset=z;let $=new _.a(X,k).toString();M.push($),vt=0}Ct=At};if(Object(l.sprint)(at,Lt.bind(this)),X&&X.startContainer&&Ct){X.endContainer=Ct,X.endOffset=Ct.length;let At=new _.a(X,k).toString();M.push(At),vt=0}return M}generateFromWords(g,k,D){var M=g?new _.a(g):void 0;return this.q.pause(),this._locationsWords=[],this._wordCounter=0,this.spine.each(function(X){X.linear&&(M?X.index>=M.spinePos&&this.q.enqueue(this.processWords.bind(this),X,k,M,D):this.q.enqueue(this.processWords.bind(this),X,k,M,D))}.bind(this)),this.q.run().then(function(){return this._currentCfi&&(this.currentLocation=this._currentCfi),this._locationsWords}.bind(this))}processWords(g,k,D,M){return M&&this._locationsWords.length>=M?Promise.resolve():g.load(this.request).then(function(X){var J=new l.defer,at=this.parseWords(X,g,k,D),vt=M-this._locationsWords.length;return this._locationsWords=this._locationsWords.concat(at.length>=M?at.slice(0,vt):at),g.unload(),this.processingTimeout=setTimeout(()=>J.resolve(at),this.pause),J.promise}.bind(this))}countWords(g){return g=g.replace(/(^\s*)|(\s*$)/gi,""),g=g.replace(/[ ]{2,}/gi," "),g=g.replace(/\n /,`
`),g.split(" ").length}parseWords(g,k,D,M){var X=k.cfiBase,J=[],at=g.ownerDocument,vt=Object(l.qs)(at,"body"),Ct=D,It=M?M.spinePos!==k.index:!0,Lt;M&&k.index===M.spinePos&&(Lt=M.findNode(M.range?M.path.steps.concat(M.start.steps):M.path.steps,g.ownerDocument));var At=function(jt){if(!It)if(jt===Lt)It=!0;else return!1;if(jt.textContent.length<10&&jt.textContent.trim().length===0)return!1;var Mt=this.countWords(jt.textContent),z,$=0;if(Mt===0)return!1;for(z=Ct-this._wordCounter,z>Mt&&(this._wordCounter+=Mt,$=Mt);$<Mt;)if(z=Ct-this._wordCounter,$+z>=Mt)this._wordCounter+=Mt-$,$=Mt;else{$+=z;let tt=new _.a(jt,X);J.push({cfi:tt.toString(),wordCount:this._wordCounter}),this._wordCounter=0}};return Object(l.sprint)(vt,At.bind(this)),J}locationFromCfi(g){let k;return _.a.prototype.isCfiString(g)&&(g=new _.a(g)),this._locations.length===0?-1:(k=Object(l.locationOf)(g,this._locations,this.epubcfi.compare),k>this.total?this.total:k)}percentageFromCfi(g){if(this._locations.length===0)return null;var k=this.locationFromCfi(g);return this.percentageFromLocation(k)}percentageFromLocation(g){return!g||!this.total?0:g/this.total}cfiFromLocation(g){var k=-1;return typeof g!="number"&&(g=parseInt(g)),g>=0&&g<this._locations.length&&(k=this._locations[g]),k}cfiFromPercentage(g){let k;if(g>1&&console.warn("Normalize cfiFromPercentage value to between 0 - 1"),g>=1){let D=new _.a(this._locations[this.total]);return D.collapse(),D.toString()}return k=Math.ceil(this.total*g),this.cfiFromLocation(k)}load(g){return typeof g=="string"?this._locations=JSON.parse(g):this._locations=g,this.total=this._locations.length-1,this._locations}save(){return JSON.stringify(this._locations)}getCurrent(){return this._current}setCurrent(g){var k;if(typeof g=="string")this._currentCfi=g;else if(typeof g=="number")this._current=g;else return;this._locations.length!==0&&(typeof g=="string"?(k=this.locationFromCfi(g),this._current=k):k=g,this.emit(f.c.LOCATIONS.CHANGED,{percentage:this.percentageFromLocation(k)}))}get currentLocation(){return this._current}set currentLocation(g){this.setCurrent(g)}length(){return this._locations.length}destroy(){this.spine=void 0,this.request=void 0,this.pause=void 0,this.q.stop(),this.q=void 0,this.epubcfi=void 0,this._locations=void 0,this.total=void 0,this.break=void 0,this._current=void 0,this.currentLocation=void 0,this._currentCfi=void 0,clearTimeout(this.processingTimeout)}}u()(S.prototype);var I=S,P=i(7),T=i.n(P);class N{constructor(g){this.packagePath="",this.directory="",this.encoding="",g&&this.parse(g)}parse(g){var k;if(!g)throw new Error("Container File Not Found");if(k=Object(l.qs)(g,"rootfile"),!k)throw new Error("No RootFile Found");this.packagePath=k.getAttribute("full-path"),this.directory=T.a.dirname(this.packagePath),this.encoding=g.xmlEncoding}destroy(){this.packagePath=void 0,this.directory=void 0,this.encoding=void 0}}var A=N;class B{constructor(g){this.manifest={},this.navPath="",this.ncxPath="",this.coverPath="",this.spineNodeIndex=0,this.spine=[],this.metadata={},g&&this.parse(g)}parse(g){var k,D,M;if(!g)throw new Error("Package File Not Found");if(k=Object(l.qs)(g,"metadata"),!k)throw new Error("No Metadata Found");if(D=Object(l.qs)(g,"manifest"),!D)throw new Error("No Manifest Found");if(M=Object(l.qs)(g,"spine"),!M)throw new Error("No Spine Found");return this.manifest=this.parseManifest(D),this.navPath=this.findNavPath(D),this.ncxPath=this.findNcxPath(D,M),this.coverPath=this.findCoverPath(g),this.spineNodeIndex=Object(l.indexOfElementNode)(M),this.spine=this.parseSpine(M,this.manifest),this.uniqueIdentifier=this.findUniqueIdentifier(g),this.metadata=this.parseMetadata(k),this.metadata.direction=M.getAttribute("page-progression-direction"),{metadata:this.metadata,spine:this.spine,manifest:this.manifest,navPath:this.navPath,ncxPath:this.ncxPath,coverPath:this.coverPath,spineNodeIndex:this.spineNodeIndex}}parseMetadata(g){var k={};return k.title=this.getElementText(g,"title"),k.creator=this.getElementText(g,"creator"),k.description=this.getElementText(g,"description"),k.pubdate=this.getElementText(g,"date"),k.publisher=this.getElementText(g,"publisher"),k.identifier=this.getElementText(g,"identifier"),k.language=this.getElementText(g,"language"),k.rights=this.getElementText(g,"rights"),k.modified_date=this.getPropertyText(g,"dcterms:modified"),k.layout=this.getPropertyText(g,"rendition:layout"),k.orientation=this.getPropertyText(g,"rendition:orientation"),k.flow=this.getPropertyText(g,"rendition:flow"),k.viewport=this.getPropertyText(g,"rendition:viewport"),k.media_active_class=this.getPropertyText(g,"media:active-class"),k.spread=this.getPropertyText(g,"rendition:spread"),k}parseManifest(g){var k={},D=Object(l.qsa)(g,"item"),M=Array.prototype.slice.call(D);return M.forEach(function(X){var J=X.getAttribute("id"),at=X.getAttribute("href")||"",vt=X.getAttribute("media-type")||"",Ct=X.getAttribute("media-overlay")||"",It=X.getAttribute("properties")||"";k[J]={href:at,type:vt,overlay:Ct,properties:It.length?It.split(" "):[]}}),k}parseSpine(g,k){var D=[],M=Object(l.qsa)(g,"itemref"),X=Array.prototype.slice.call(M);return X.forEach(function(J,at){var vt=J.getAttribute("idref"),Ct=J.getAttribute("properties")||"",It=Ct.length?Ct.split(" "):[],Lt={id:J.getAttribute("id"),idref:vt,linear:J.getAttribute("linear")||"yes",properties:It,index:at};D.push(Lt)}),D}findUniqueIdentifier(g){var k=g.documentElement.getAttribute("unique-identifier");if(!k)return"";var D=g.getElementById(k);return D&&D.localName==="identifier"&&D.namespaceURI==="http://purl.org/dc/elements/1.1/"&&D.childNodes.length>0?D.childNodes[0].nodeValue.trim():""}findNavPath(g){var k=Object(l.qsp)(g,"item",{properties:"nav"});return k?k.getAttribute("href"):!1}findNcxPath(g,k){var D=Object(l.qsp)(g,"item",{"media-type":"application/x-dtbncx+xml"}),M;return D||(M=k.getAttribute("toc"),M&&(D=g.querySelector(`#${M}`))),D?D.getAttribute("href"):!1}findCoverPath(g){var k=Object(l.qs)(g,"package");k.getAttribute("version");var D=Object(l.qsp)(g,"item",{properties:"cover-image"});if(D)return D.getAttribute("href");var M=Object(l.qsp)(g,"meta",{name:"cover"});if(M){var X=M.getAttribute("content"),J=g.getElementById(X);return J?J.getAttribute("href"):""}else return!1}getElementText(g,k){var D=g.getElementsByTagNameNS("http://purl.org/dc/elements/1.1/",k),M;return!D||D.length===0?"":(M=D[0],M.childNodes.length?M.childNodes[0].nodeValue:"")}getPropertyText(g,k){var D=Object(l.qsp)(g,"meta",{property:k});return D&&D.childNodes.length?D.childNodes[0].nodeValue:""}load(g){this.metadata=g.metadata;let k=g.readingOrder||g.spine;return this.spine=k.map((D,M)=>(D.index=M,D.linear=D.linear||"yes",D)),g.resources.forEach((D,M)=>{this.manifest[M]=D,D.rel&&D.rel[0]==="cover"&&(this.coverPath=D.href)}),this.spineNodeIndex=0,this.toc=g.toc.map((D,M)=>(D.label=D.title,D)),{metadata:this.metadata,spine:this.spine,manifest:this.manifest,navPath:this.navPath,ncxPath:this.ncxPath,coverPath:this.coverPath,spineNodeIndex:this.spineNodeIndex,toc:this.toc}}destroy(){this.manifest=void 0,this.navPath=void 0,this.ncxPath=void 0,this.coverPath=void 0,this.spineNodeIndex=void 0,this.spine=void 0,this.metadata=void 0}}var O=B;class H{constructor(g){this.toc=[],this.tocByHref={},this.tocById={},this.landmarks=[],this.landmarksByType={},this.length=0,g&&this.parse(g)}parse(g){let k=g.nodeType,D,M;k&&(D=Object(l.qs)(g,"html"),M=Object(l.qs)(g,"ncx")),k?D?(this.toc=this.parseNav(g),this.landmarks=this.parseLandmarks(g)):M&&(this.toc=this.parseNcx(g)):this.toc=this.load(g),this.length=0,this.unpack(this.toc)}unpack(g){for(var k,D=0;D<g.length;D++)k=g[D],k.href&&(this.tocByHref[k.href]=D),k.id&&(this.tocById[k.id]=D),this.length++,k.subitems.length&&this.unpack(k.subitems)}get(g){var k;return g?(g.indexOf("#")===0?k=this.tocById[g.substring(1)]:g in this.tocByHref&&(k=this.tocByHref[g]),this.getByIndex(g,k,this.toc)):this.toc}getByIndex(g,k,D){if(D.length===0)return;const M=D[k];if(M&&(g===M.id||g===M.href))return M;{let X;for(let J=0;J<D.length&&(X=this.getByIndex(g,k,D[J].subitems),!X);++J);return X}}landmark(g){var k;return g?(k=this.landmarksByType[g],this.landmarks[k]):this.landmarks}parseNav(g){var k=Object(l.querySelectorByType)(g,"nav","toc"),D=[];if(!k)return D;let M=Object(l.filterChildren)(k,"ol",!0);return M&&(D=this.parseNavList(M)),D}parseNavList(g,k){const D=[];if(!g||!g.children)return D;for(let M=0;M<g.children.length;M++){const X=this.navItem(g.children[M],k);X&&D.push(X)}return D}navItem(g,k){let D=g.getAttribute("id")||void 0,M=Object(l.filterChildren)(g,"a",!0)||Object(l.filterChildren)(g,"span",!0);if(!M)return;let X=M.getAttribute("href")||"";D||(D=X);let J=M.textContent||"",at=[],vt=Object(l.filterChildren)(g,"ol",!0);return vt&&(at=this.parseNavList(vt,D)),{id:D,href:X,label:J,subitems:at,parent:k}}parseLandmarks(g){var k=Object(l.querySelectorByType)(g,"nav","landmarks"),D=k?Object(l.qsa)(k,"li"):[],M=D.length,X,J=[],at;if(!D||M===0)return J;for(X=0;X<M;++X)at=this.landmarkItem(D[X]),at&&(J.push(at),this.landmarksByType[at.type]=X);return J}landmarkItem(g){let k=Object(l.filterChildren)(g,"a",!0);if(!k)return;let D=k.getAttributeNS("http://www.idpf.org/2007/ops","type")||void 0,M=k.getAttribute("href")||"",X=k.textContent||"";return{href:M,label:X,type:D}}parseNcx(g){var k=Object(l.qsa)(g,"navPoint"),D=k.length,M,X={},J=[],at,vt;if(!k||D===0)return J;for(M=0;M<D;++M)at=this.ncxItem(k[M]),X[at.id]=at,at.parent?(vt=X[at.parent],vt.subitems.push(at)):J.push(at);return J}ncxItem(g){var k=g.getAttribute("id")||!1,D=Object(l.qs)(g,"content"),M=D.getAttribute("src"),X=Object(l.qs)(g,"navLabel"),J=X.textContent?X.textContent:"",at=[],vt=g.parentNode,Ct;return vt&&(vt.nodeName==="navPoint"||vt.nodeName.split(":").slice(-1)[0]==="navPoint")&&(Ct=vt.getAttribute("id")),{id:k,href:M,label:J,subitems:at,parent:Ct}}load(g){return g.map(k=>(k.label=k.title,k.subitems=k.children?this.load(k.children):[],k))}forEach(g){return this.toc.forEach(g)}}var nt=H,Y={application:{ecmascript:["es","ecma"],javascript:"js",ogg:"ogx",pdf:"pdf",postscript:["ps","ai","eps","epsi","epsf","eps2","eps3"],"rdf+xml":"rdf",smil:["smi","smil"],"xhtml+xml":["xhtml","xht"],xml:["xml","xsl","xsd","opf","ncx"],zip:"zip","x-httpd-eruby":"rhtml","x-latex":"latex","x-maker":["frm","maker","frame","fm","fb","book","fbdoc"],"x-object":"o","x-shockwave-flash":["swf","swfl"],"x-silverlight":"scr","epub+zip":"epub","font-tdpfr":"pfr","inkml+xml":["ink","inkml"],json:"json","jsonml+json":"jsonml","mathml+xml":"mathml","metalink+xml":"metalink",mp4:"mp4s","omdoc+xml":"omdoc",oxps:"oxps","vnd.amazon.ebook":"azw",widget:"wgt","x-dtbook+xml":"dtb","x-dtbresource+xml":"res","x-font-bdf":"bdf","x-font-ghostscript":"gsf","x-font-linux-psf":"psf","x-font-otf":"otf","x-font-pcf":"pcf","x-font-snf":"snf","x-font-ttf":["ttf","ttc"],"x-font-type1":["pfa","pfb","pfm","afm"],"x-font-woff":"woff","x-mobipocket-ebook":["prc","mobi"],"x-mspublisher":"pub","x-nzb":"nzb","x-tgif":"obj","xaml+xml":"xaml","xml-dtd":"dtd","xproc+xml":"xpl","xslt+xml":"xslt","internet-property-stream":"acx","x-compress":"z","x-compressed":"tgz","x-gzip":"gz"},audio:{flac:"flac",midi:["mid","midi","kar","rmi"],mpeg:["mpga","mpega","mp2","mp3","m4a","mp2a","m2a","m3a"],mpegurl:"m3u",ogg:["oga","ogg","spx"],"x-aiff":["aif","aiff","aifc"],"x-ms-wma":"wma","x-wav":"wav",adpcm:"adp",mp4:"mp4a",webm:"weba","x-aac":"aac","x-caf":"caf","x-matroska":"mka","x-pn-realaudio-plugin":"rmp",xm:"xm",mid:["mid","rmi"]},image:{gif:"gif",ief:"ief",jpeg:["jpeg","jpg","jpe"],pcx:"pcx",png:"png","svg+xml":["svg","svgz"],tiff:["tiff","tif"],"x-icon":"ico",bmp:"bmp",webp:"webp","x-pict":["pic","pct"],"x-tga":"tga","cis-cod":"cod"},text:{"cache-manifest":["manifest","appcache"],css:"css",csv:"csv",html:["html","htm","shtml","stm"],mathml:"mml",plain:["txt","text","brf","conf","def","list","log","in","bas"],richtext:"rtx","tab-separated-values":"tsv","x-bibtex":"bib"},video:{mpeg:["mpeg","mpg","mpe","m1v","m2v","mp2","mpa","mpv2"],mp4:["mp4","mp4v","mpg4"],quicktime:["qt","mov"],ogg:"ogv","vnd.mpegurl":["mxu","m4u"],"x-flv":"flv","x-la-asf":["lsf","lsx"],"x-mng":"mng","x-ms-asf":["asf","asx","asr"],"x-ms-wm":"wm","x-ms-wmv":"wmv","x-ms-wmx":"wmx","x-ms-wvx":"wvx","x-msvideo":"avi","x-sgi-movie":"movie","x-matroska":["mpv","mkv","mk3d","mks"],"3gpp2":"3g2",h261:"h261",h263:"h263",h264:"h264",jpeg:"jpgv",jpm:["jpm","jpgm"],mj2:["mj2","mjp2"],"vnd.ms-playready.media.pyv":"pyv","vnd.uvvu.mp4":["uvu","uvvu"],"vnd.vivo":"viv",webm:"webm","x-f4v":"f4v","x-m4v":"m4v","x-ms-vob":"vob","x-smv":"smv"}},lt=function(){var q,g,k,D,M={};for(q in Y)if(Y.hasOwnProperty(q)){for(g in Y[q])if(Y[q].hasOwnProperty(g))if(k=Y[q][g],typeof k=="string")M[k]=q+"/"+g;else for(D=0;D<k.length;D++)M[k[D]]=q+"/"+g}return M}(),rt="text/plain";function ut(q){return q&&lt[q.split(".").pop().toLowerCase()]||rt}var G={lookup:ut};class it{constructor(g,k){this.settings={replacements:k&&k.replacements||"base64",archive:k&&k.archive,resolver:k&&k.resolver,request:k&&k.request},this.process(g)}process(g){this.manifest=g,this.resources=Object.keys(g).map(function(k){return g[k]}),this.replacementUrls=[],this.html=[],this.assets=[],this.css=[],this.urls=[],this.cssUrls=[],this.split(),this.splitUrls()}split(){this.html=this.resources.filter(function(g){if(g.type==="application/xhtml+xml"||g.type==="text/html")return!0}),this.assets=this.resources.filter(function(g){if(g.type!=="application/xhtml+xml"&&g.type!=="text/html")return!0}),this.css=this.resources.filter(function(g){if(g.type==="text/css")return!0})}splitUrls(){this.urls=this.assets.map(function(g){return g.href}.bind(this)),this.cssUrls=this.css.map(function(g){return g.href})}createUrl(g){var k=new C.a(g),D=G.lookup(k.filename);return this.settings.archive?this.settings.archive.createUrl(g,{base64:this.settings.replacements==="base64"}):this.settings.replacements==="base64"?this.settings.request(g,"blob").then(M=>Object(l.blob2base64)(M)).then(M=>Object(l.createBase64Url)(M,D)):this.settings.request(g,"blob").then(M=>Object(l.createBlobUrl)(M,D))}replacements(){if(this.settings.replacements==="none")return new Promise(function(k){k(this.urls)}.bind(this));var g=this.urls.map(k=>{var D=this.settings.resolver(k);return this.createUrl(D).catch(M=>(console.error(M),null))});return Promise.all(g).then(k=>(this.replacementUrls=k.filter(D=>typeof D=="string"),k))}replaceCss(g,k){var D=[];return g=g||this.settings.archive,k=k||this.settings.resolver,this.cssUrls.forEach(function(M){var X=this.createCssFile(M,g,k).then(function(J){var at=this.urls.indexOf(M);at>-1&&(this.replacementUrls[at]=J)}.bind(this));D.push(X)}.bind(this)),Promise.all(D)}createCssFile(g){var k;if(T.a.isAbsolute(g))return new Promise(function(J){J()});var D=this.settings.resolver(g),M;this.settings.archive?M=this.settings.archive.getText(D):M=this.settings.request(D,"text");var X=this.urls.map(J=>{var at=this.settings.resolver(J),vt=new y.a(D).relative(at);return vt});return M?M.then(J=>(J=Object(c.e)(J,X,this.replacementUrls),this.settings.replacements==="base64"?k=Object(l.createBase64Url)(J,"text/css"):k=Object(l.createBlobUrl)(J,"text/css"),k),J=>new Promise(function(at){at()})):new Promise(function(J){J()})}relativeTo(g,k){return k=k||this.settings.resolver,this.urls.map(function(D){var M=k(D),X=new y.a(g).relative(M);return X}.bind(this))}get(g){var k=this.urls.indexOf(g);if(k!==-1)return this.replacementUrls.length?new Promise(function(D,M){D(this.replacementUrls[k])}.bind(this)):this.createUrl(g)}substitute(g,k){var D;return k?D=this.relativeTo(k):D=this.urls,Object(c.e)(g,D,this.replacementUrls)}destroy(){this.settings=void 0,this.manifest=void 0,this.resources=void 0,this.replacementUrls=void 0,this.html=void 0,this.assets=void 0,this.css=void 0,this.urls=void 0,this.cssUrls=void 0}}var gt=it;class pt{constructor(g){this.pages=[],this.locations=[],this.epubcfi=new _.a,this.firstPage=0,this.lastPage=0,this.totalPages=0,this.toc=void 0,this.ncx=void 0,g&&(this.pageList=this.parse(g)),this.pageList&&this.pageList.length&&this.process(this.pageList)}parse(g){var k=Object(l.qs)(g,"html"),D=Object(l.qs)(g,"ncx");if(k)return this.parseNav(g);if(D)return this.parseNcx(g)}parseNav(g){var k=Object(l.querySelectorByType)(g,"nav","page-list"),D=k?Object(l.qsa)(k,"li"):[],M=D.length,X,J=[],at;if(!D||M===0)return J;for(X=0;X<M;++X)at=this.item(D[X]),J.push(at);return J}parseNcx(g){var k=[],D=0,M,X,J,at=0;if(X=Object(l.qs)(g,"pageList"),!X||(J=Object(l.qsa)(X,"pageTarget"),at=J.length,!J||J.length===0))return k;for(D=0;D<at;++D)M=this.ncxItem(J[D]),k.push(M);return k}ncxItem(g){var k=Object(l.qs)(g,"navLabel"),D=Object(l.qs)(k,"text"),M=D.textContent,X=Object(l.qs)(g,"content"),J=X.getAttribute("src"),at=parseInt(M,10);return{href:J,page:at}}item(g){var k=Object(l.qs)(g,"a"),D=k.getAttribute("href")||"",M=k.textContent||"",X=parseInt(M),J=D.indexOf("epubcfi"),at,vt,Ct;return J!=-1?(at=D.split("#"),vt=at[0],Ct=at.length>1?at[1]:!1,{cfi:Ct,href:D,packageUrl:vt,page:X}):{href:D,page:X}}process(g){g.forEach(function(k){this.pages.push(k.page),k.cfi&&this.locations.push(k.cfi)},this),this.firstPage=parseInt(this.pages[0]),this.lastPage=parseInt(this.pages[this.pages.length-1]),this.totalPages=this.lastPage-this.firstPage}pageFromCfi(g){var k=-1;if(this.locations.length===0)return-1;var D=Object(l.indexOfSorted)(g,this.locations,this.epubcfi.compare);return D!=-1?k=this.pages[D]:(D=Object(l.locationOf)(g,this.locations,this.epubcfi.compare),k=D-1>=0?this.pages[D-1]:this.pages[0],k!==void 0||(k=-1)),k}cfiFromPage(g){var k=-1;typeof g!="number"&&(g=parseInt(g));var D=this.pages.indexOf(g);return D!=-1&&(k=this.locations[D]),k}pageFromPercentage(g){var k=Math.round(this.totalPages*g);return k}percentageFromPage(g){var k=(g-this.firstPage)/this.totalPages;return Math.round(k*1e3)/1e3}percentageFromCfi(g){var k=this.pageFromCfi(g),D=this.percentageFromPage(k);return D}destroy(){this.pages=void 0,this.locations=void 0,this.epubcfi=void 0,this.pageList=void 0,this.toc=void 0,this.ncx=void 0}}var ft=pt,Et=i(16),kt=i(29),St=i.n(kt);class Rt{constructor(){this.zip=void 0,this.urlCache={},this.checkRequirements()}checkRequirements(){try{this.zip=new St.a}catch(g){throw new Error("JSZip lib not loaded")}}open(g,k){return this.zip.loadAsync(g,{base64:k})}openUrl(g,k){return s(g,"binary").then(function(D){return this.zip.loadAsync(D,{base64:k})}.bind(this))}request(g,k){var D=new l.defer,M,X=new y.a(g);return k||(k=X.extension),k=="blob"?M=this.getBlob(g):M=this.getText(g),M?M.then(function(J){let at=this.handleResponse(J,k);D.resolve(at)}.bind(this)):D.reject({message:"File not found in the epub: "+g,stack:new Error().stack}),D.promise}handleResponse(g,k){var D;return k=="json"?D=JSON.parse(g):Object(l.isXml)(k)?D=Object(l.parse)(g,"text/xml"):k=="xhtml"?D=Object(l.parse)(g,"application/xhtml+xml"):k=="html"||k=="htm"?D=Object(l.parse)(g,"text/html"):D=g,D}getBlob(g,k){var D=window.decodeURIComponent(g.substr(1)),M=this.zip.file(D);if(M)return k=k||G.lookup(M.name),M.async("uint8array").then(function(X){return new Blob([X],{type:k})})}getText(g,k){var D=window.decodeURIComponent(g.substr(1)),M=this.zip.file(D);if(M)return M.async("string").then(function(X){return X})}getBase64(g,k){var D=window.decodeURIComponent(g.substr(1)),M=this.zip.file(D);if(M)return k=k||G.lookup(M.name),M.async("base64").then(function(X){return"data:"+k+";base64,"+X})}createUrl(g,k){var D=new l.defer,M=window.URL||window.webkitURL||window.mozURL,X,J,at=k&&k.base64;return g in this.urlCache?(D.resolve(this.urlCache[g]),D.promise):(at?(J=this.getBase64(g),J&&J.then(function(vt){this.urlCache[g]=vt,D.resolve(vt)}.bind(this))):(J=this.getBlob(g),J&&J.then(function(vt){X=M.createObjectURL(vt),this.urlCache[g]=X,D.resolve(X)}.bind(this))),J||D.reject({message:"File not found in the epub: "+g,stack:new Error().stack}),D.promise)}revokeUrl(g){var k=window.URL||window.webkitURL||window.mozURL,D=this.urlCache[g];D&&k.revokeObjectURL(D)}destroy(){var g=window.URL||window.webkitURL||window.mozURL;for(let k in this.urlCache)g.revokeObjectURL(k);this.zip=void 0,this.urlCache={}}}var Dt=Rt,Nt=i(23),K=i.n(Nt);class et{constructor(g,k,D){this.urlCache={},this.storage=void 0,this.name=g,this.requester=k||s,this.resolver=D,this.online=!0,this.checkRequirements(),this.addListeners()}checkRequirements(){try{let g;typeof K.a=="undefined"&&(g=K.a),this.storage=g.createInstance({name:this.name})}catch(g){throw new Error("localForage lib not loaded")}}addListeners(){this._status=this.status.bind(this),window.addEventListener("online",this._status),window.addEventListener("offline",this._status)}removeListeners(){window.removeEventListener("online",this._status),window.removeEventListener("offline",this._status),this._status=void 0}status(g){let k=navigator.onLine;this.online=k,k?this.emit("online",this):this.emit("offline",this)}add(g,k){let D=g.resources.map(M=>{let{href:X}=M,J=this.resolver(X),at=window.encodeURIComponent(J);return this.storage.getItem(at).then(vt=>!vt||k?this.requester(J,"binary").then(Ct=>this.storage.setItem(at,Ct)):vt)});return Promise.all(D)}put(g,k,D){let M=window.encodeURIComponent(g);return this.storage.getItem(M).then(X=>X||this.requester(g,"binary",k,D).then(J=>this.storage.setItem(M,J)))}request(g,k,D,M){return this.online?this.requester(g,k,D,M).then(X=>(this.put(g),X)):this.retrieve(g,k)}retrieve(g,k){new l.defer;var D,M=new y.a(g);return k||(k=M.extension),k=="blob"?D=this.getBlob(g):D=this.getText(g),D.then(X=>{var J=new l.defer,at;return X?(at=this.handleResponse(X,k),J.resolve(at)):J.reject({message:"File not found in storage: "+g,stack:new Error().stack}),J.promise})}handleResponse(g,k){var D;return k=="json"?D=JSON.parse(g):Object(l.isXml)(k)?D=Object(l.parse)(g,"text/xml"):k=="xhtml"?D=Object(l.parse)(g,"application/xhtml+xml"):k=="html"||k=="htm"?D=Object(l.parse)(g,"text/html"):D=g,D}getBlob(g,k){let D=window.encodeURIComponent(g);return this.storage.getItem(D).then(function(M){if(M)return k=k||G.lookup(g),new Blob([M],{type:k})})}getText(g,k){let D=window.encodeURIComponent(g);return k=k||G.lookup(g),this.storage.getItem(D).then(function(M){var X=new l.defer,J=new FileReader,at;if(M)return at=new Blob([M],{type:k}),J.addEventListener("loadend",()=>{X.resolve(J.result)}),J.readAsText(at,k),X.promise})}getBase64(g,k){let D=window.encodeURIComponent(g);return k=k||G.lookup(g),this.storage.getItem(D).then(M=>{var X=new l.defer,J=new FileReader,at;if(M)return at=new Blob([M],{type:k}),J.addEventListener("loadend",()=>{X.resolve(J.result)}),J.readAsDataURL(at,k),X.promise})}createUrl(g,k){var D=new l.defer,M=window.URL||window.webkitURL||window.mozURL,X,J,at=k&&k.base64;return g in this.urlCache?(D.resolve(this.urlCache[g]),D.promise):(at?(J=this.getBase64(g),J&&J.then(function(vt){this.urlCache[g]=vt,D.resolve(vt)}.bind(this))):(J=this.getBlob(g),J&&J.then(function(vt){X=M.createObjectURL(vt),this.urlCache[g]=X,D.resolve(X)}.bind(this))),J||D.reject({message:"File not found in storage: "+g,stack:new Error().stack}),D.promise)}revokeUrl(g){var k=window.URL||window.webkitURL||window.mozURL,D=this.urlCache[g];D&&k.revokeObjectURL(D)}destroy(){var g=window.URL||window.webkitURL||window.mozURL;for(let k in this.urlCache)g.revokeObjectURL(k);this.urlCache={},this.removeListeners()}}u()(et.prototype);var m=et;class U{constructor(g){this.interactive="",this.fixedLayout="",this.openToSpread="",this.orientationLock="",g&&this.parse(g)}parse(g){if(!g)return this;const k=Object(l.qs)(g,"display_options");return k?(Object(l.qsa)(k,"option").forEach(M=>{let X="";switch(M.childNodes.length&&(X=M.childNodes[0].nodeValue),M.attributes.name.value){case"interactive":this.interactive=X;break;case"fixed-layout":this.fixedLayout=X;break;case"open-to-spread":this.openToSpread=X;break;case"orientation-lock":this.orientationLock=X;break}}),this):this}destroy(){this.interactive=void 0,this.fixedLayout=void 0,this.openToSpread=void 0,this.orientationLock=void 0}}var j=U;const R="META-INF/container.xml",L="META-INF/com.apple.ibooks.display-options.xml",W={BINARY:"binary",BASE64:"base64",EPUB:"epub",OPF:"opf",MANIFEST:"json",DIRECTORY:"directory"};class Z{constructor(g,k){typeof k=="undefined"&&typeof g!="string"&&!(g instanceof Blob)&&!(g instanceof ArrayBuffer)&&(k=g,g=void 0),this.settings=Object(l.extend)(this.settings||{},{requestMethod:void 0,requestCredentials:void 0,requestHeaders:void 0,encoding:void 0,replacements:void 0,canonical:void 0,openAs:void 0,store:void 0}),Object(l.extend)(this.settings,k),this.opening=new l.defer,this.opened=this.opening.promise,this.isOpen=!1,this.loading={manifest:new l.defer,spine:new l.defer,metadata:new l.defer,cover:new l.defer,navigation:new l.defer,pageList:new l.defer,resources:new l.defer,displayOptions:new l.defer},this.loaded={manifest:this.loading.manifest.promise,spine:this.loading.spine.promise,metadata:this.loading.metadata.promise,cover:this.loading.cover.promise,navigation:this.loading.navigation.promise,pageList:this.loading.pageList.promise,resources:this.loading.resources.promise,displayOptions:this.loading.displayOptions.promise},this.ready=Promise.all([this.loaded.manifest,this.loaded.spine,this.loaded.metadata,this.loaded.cover,this.loaded.navigation,this.loaded.resources,this.loaded.displayOptions]),this.isRendered=!1,this.request=this.settings.requestMethod||s,this.spine=new x,this.locations=new I(this.spine,this.load.bind(this)),this.navigation=void 0,this.pageList=void 0,this.url=void 0,this.path=void 0,this.archived=!1,this.archive=void 0,this.storage=void 0,this.resources=void 0,this.rendition=void 0,this.container=void 0,this.packaging=void 0,this.displayOptions=void 0,this.settings.store&&this.store(this.settings.store),g&&this.open(g,this.settings.openAs).catch(D=>{var M=new Error("Cannot load book at "+g);this.emit(f.c.BOOK.OPEN_FAILED,M)})}open(g,k){var D,M=k||this.determineType(g);return M===W.BINARY?(this.archived=!0,this.url=new C.a("/",""),D=this.openEpub(g)):M===W.BASE64?(this.archived=!0,this.url=new C.a("/",""),D=this.openEpub(g,M)):M===W.EPUB?(this.archived=!0,this.url=new C.a("/",""),D=this.request(g,"binary",this.settings.requestCredentials,this.settings.requestHeaders).then(this.openEpub.bind(this))):M==W.OPF?(this.url=new C.a(g),D=this.openPackaging(this.url.Path.toString())):M==W.MANIFEST?(this.url=new C.a(g),D=this.openManifest(this.url.Path.toString())):(this.url=new C.a(g),D=this.openContainer(R).then(this.openPackaging.bind(this))),D}openEpub(g,k){return this.unarchive(g,k||this.settings.encoding).then(()=>this.openContainer(R)).then(D=>this.openPackaging(D))}openContainer(g){return this.load(g).then(k=>(this.container=new A(k),this.resolve(this.container.packagePath)))}openPackaging(g){return this.path=new y.a(g),this.load(g).then(k=>(this.packaging=new O(k),this.unpack(this.packaging)))}openManifest(g){return this.path=new y.a(g),this.load(g).then(k=>(this.packaging=new O,this.packaging.load(k),this.unpack(this.packaging)))}load(g){var k=this.resolve(g);return this.archived?this.archive.request(k):this.request(k,null,this.settings.requestCredentials,this.settings.requestHeaders)}resolve(g,k){if(g){var D=g,M=g.indexOf("://")>-1;return M?g:(this.path&&(D=this.path.resolve(g)),k!=!1&&this.url&&(D=this.url.resolve(D)),D)}}canonical(g){var k=g;return g?(this.settings.canonical?k=this.settings.canonical(g):k=this.resolve(g,!0),k):""}determineType(g){var k,D,M;if(this.settings.encoding==="base64")return W.BASE64;if(typeof g!="string")return W.BINARY;if(k=new C.a(g),D=k.path(),M=D.extension,M&&(M=M.replace(/\?.*$/,"")),!M)return W.DIRECTORY;if(M==="epub")return W.EPUB;if(M==="opf")return W.OPF;if(M==="json")return W.MANIFEST}unpack(g){this.package=g,this.packaging.metadata.layout===""?this.load(this.url.resolve(L)).then(k=>{this.displayOptions=new j(k),this.loading.displayOptions.resolve(this.displayOptions)}).catch(k=>{this.displayOptions=new j,this.loading.displayOptions.resolve(this.displayOptions)}):(this.displayOptions=new j,this.loading.displayOptions.resolve(this.displayOptions)),this.spine.unpack(this.packaging,this.resolve.bind(this),this.canonical.bind(this)),this.resources=new gt(this.packaging.manifest,{archive:this.archive,resolver:this.resolve.bind(this),request:this.request.bind(this),replacements:this.settings.replacements||(this.archived?"blobUrl":"base64")}),this.loadNavigation(this.packaging).then(()=>{this.loading.navigation.resolve(this.navigation)}),this.packaging.coverPath&&(this.cover=this.resolve(this.packaging.coverPath)),this.loading.manifest.resolve(this.packaging.manifest),this.loading.metadata.resolve(this.packaging.metadata),this.loading.spine.resolve(this.spine),this.loading.cover.resolve(this.cover),this.loading.resources.resolve(this.resources),this.loading.pageList.resolve(this.pageList),this.isOpen=!0,this.archived||this.settings.replacements&&this.settings.replacements!="none"?this.replacements().then(()=>{this.loaded.displayOptions.then(()=>{this.opening.resolve(this)})}).catch(k=>{console.error(k)}):this.loaded.displayOptions.then(()=>{this.opening.resolve(this)})}loadNavigation(g){let k=g.navPath||g.ncxPath,D=g.toc;return D?new Promise((M,X)=>{this.navigation=new nt(D),g.pageList&&(this.pageList=new ft(g.pageList)),M(this.navigation)}):k?this.load(k,"xml").then(M=>(this.navigation=new nt(M),this.pageList=new ft(M),this.navigation)):new Promise((M,X)=>{this.navigation=new nt,this.pageList=new ft,M(this.navigation)})}section(g){return this.spine.get(g)}renderTo(g,k){return this.rendition=new Et.a(this,k),this.rendition.attachTo(g),this.rendition}setRequestCredentials(g){this.settings.requestCredentials=g}setRequestHeaders(g){this.settings.requestHeaders=g}unarchive(g,k){return this.archive=new Dt,this.archive.open(g,k)}store(g){let k=this.settings.replacements&&this.settings.replacements!=="none",D=this.url,M=this.settings.requestMethod||s.bind(this);return this.storage=new m(g,M,this.resolve.bind(this)),this.request=this.storage.request.bind(this.storage),this.opened.then(()=>{this.archived&&(this.storage.requester=this.archive.request.bind(this.archive));let X=(J,at)=>{at.output=this.resources.substitute(J,at.url)};this.resources.settings.replacements=k||"blobUrl",this.resources.replacements().then(()=>this.resources.replaceCss()),this.storage.on("offline",()=>{this.url=new C.a("/",""),this.spine.hooks.serialize.register(X)}),this.storage.on("online",()=>{this.url=D,this.spine.hooks.serialize.deregister(X)})}),this.storage}coverUrl(){return this.loaded.cover.then(()=>this.cover?this.archived?this.archive.createUrl(this.cover):this.cover:null)}replacements(){return this.spine.hooks.serialize.register((g,k)=>{k.output=this.resources.substitute(g,k.url)}),this.resources.replacements().then(()=>this.resources.replaceCss())}getRange(g){var k=new _.a(g),D=this.spine.get(k.spinePos),M=this.load.bind(this);return D?D.load(M).then(function(X){var J=k.toRange(D.document);return J}):new Promise((X,J)=>{J("CFI could not be found")})}key(g){var k=g||this.packaging.metadata.identifier||this.url.filename;return`epubjs:${f.b}:${k}`}destroy(){this.opened=void 0,this.loading=void 0,this.loaded=void 0,this.ready=void 0,this.isOpen=!1,this.isRendered=!1,this.spine&&this.spine.destroy(),this.locations&&this.locations.destroy(),this.pageList&&this.pageList.destroy(),this.archive&&this.archive.destroy(),this.resources&&this.resources.destroy(),this.container&&this.container.destroy(),this.packaging&&this.packaging.destroy(),this.rendition&&this.rendition.destroy(),this.displayOptions&&this.displayOptions.destroy(),this.spine=void 0,this.locations=void 0,this.pageList=void 0,this.archive=void 0,this.resources=void 0,this.container=void 0,this.packaging=void 0,this.rendition=void 0,this.navigation=void 0,this.url=void 0,this.path=void 0,this.archived=!1}}u()(Z.prototype),n.a=Z},function(o,n,i){var h=i(14),u=h.NAMESPACE;function l(z){return z!==""}function C(z){return z?z.split(/[\t\n\f\r ]+/).filter(l):[]}function y(z,$){return z.hasOwnProperty($)||(z[$]=!0),z}function _(z){if(!z)return[];var $=C(z);return Object.keys($.reduce(y,{}))}function a(z){return function($){return z&&z.indexOf($)!==-1}}function c(z,$){for(var tt in z)$[tt]=z[tt]}function w(z,$){var tt=z.prototype;if(!(tt instanceof $)){let dt=function(){};dt.prototype=$.prototype,dt=new dt,c(tt,dt),z.prototype=tt=dt}tt.constructor!=z&&(typeof z!="function"&&console.error("unknown Class:"+z),tt.constructor=z)}var s={},v=s.ELEMENT_NODE=1,d=s.ATTRIBUTE_NODE=2,b=s.TEXT_NODE=3,p=s.CDATA_SECTION_NODE=4,x=s.ENTITY_REFERENCE_NODE=5,E=s.ENTITY_NODE=6,f=s.PROCESSING_INSTRUCTION_NODE=7,S=s.COMMENT_NODE=8,I=s.DOCUMENT_NODE=9,P=s.DOCUMENT_TYPE_NODE=10,T=s.DOCUMENT_FRAGMENT_NODE=11,N=s.NOTATION_NODE=12,A={},B={};A.INDEX_SIZE_ERR=(B[1]="Index size error",1),A.DOMSTRING_SIZE_ERR=(B[2]="DOMString size error",2);var O=A.HIERARCHY_REQUEST_ERR=(B[3]="Hierarchy request error",3);A.WRONG_DOCUMENT_ERR=(B[4]="Wrong document",4),A.INVALID_CHARACTER_ERR=(B[5]="Invalid character",5),A.NO_DATA_ALLOWED_ERR=(B[6]="No data allowed",6),A.NO_MODIFICATION_ALLOWED_ERR=(B[7]="No modification allowed",7);var H=A.NOT_FOUND_ERR=(B[8]="Not found",8);A.NOT_SUPPORTED_ERR=(B[9]="Not supported",9);var nt=A.INUSE_ATTRIBUTE_ERR=(B[10]="Attribute in use",10);A.INVALID_STATE_ERR=(B[11]="Invalid state",11),A.SYNTAX_ERR=(B[12]="Syntax error",12),A.INVALID_MODIFICATION_ERR=(B[13]="Invalid modification",13),A.NAMESPACE_ERR=(B[14]="Invalid namespace",14),A.INVALID_ACCESS_ERR=(B[15]="Invalid access",15);function Y(z,$){if($ instanceof Error)var tt=$;else tt=this,Error.call(this,B[z]),this.message=B[z],Error.captureStackTrace&&Error.captureStackTrace(this,Y);return tt.code=z,$&&(this.message=this.message+": "+$),tt}Y.prototype=Error.prototype,c(A,Y);function lt(){}lt.prototype={length:0,item:function(z){return this[z]||null},toString:function(z,$){for(var tt=[],dt=0;dt<this.length;dt++)Lt(this[dt],tt,z,$);return tt.join("")}};function rt(z,$){this._node=z,this._refresh=$,ut(this)}function ut(z){var $=z._node._inc||z._node.ownerDocument._inc;if(z._inc!=$){var tt=z._refresh(z._node);Mt(z,"length",tt.length),c(tt,z),z._inc=$}}rt.prototype.item=function(z){return ut(this),this[z]},w(rt,lt);function G(){}function it(z,$){for(var tt=z.length;tt--;)if(z[tt]===$)return tt}function gt(z,$,tt,dt){if(dt?$[it($,dt)]=tt:$[$.length++]=tt,z){tt.ownerElement=z;var xt=z.ownerDocument;xt&&(dt&&Nt(xt,z,dt),Dt(xt,z,tt))}}function pt(z,$,tt){var dt=it($,tt);if(dt>=0){for(var xt=$.length-1;dt<xt;)$[dt]=$[++dt];if($.length=xt,z){var Wt=z.ownerDocument;Wt&&(Nt(Wt,z,tt),tt.ownerElement=null)}}else throw Y(H,new Error(z.tagName+"@"+tt))}G.prototype={length:0,item:lt.prototype.item,getNamedItem:function(z){for(var $=this.length;$--;){var tt=this[$];if(tt.nodeName==z)return tt}},setNamedItem:function(z){var $=z.ownerElement;if($&&$!=this._ownerElement)throw new Y(nt);var tt=this.getNamedItem(z.nodeName);return gt(this._ownerElement,this,z,tt),tt},setNamedItemNS:function(z){var $=z.ownerElement,tt;if($&&$!=this._ownerElement)throw new Y(nt);return tt=this.getNamedItemNS(z.namespaceURI,z.localName),gt(this._ownerElement,this,z,tt),tt},removeNamedItem:function(z){var $=this.getNamedItem(z);return pt(this._ownerElement,this,$),$},removeNamedItemNS:function(z,$){var tt=this.getNamedItemNS(z,$);return pt(this._ownerElement,this,tt),tt},getNamedItemNS:function(z,$){for(var tt=this.length;tt--;){var dt=this[tt];if(dt.localName==$&&dt.namespaceURI==z)return dt}return null}};function ft(){}ft.prototype={hasFeature:function(z,$){return!0},createDocument:function(z,$,tt){var dt=new Rt;if(dt.implementation=this,dt.childNodes=new lt,dt.doctype=tt||null,tt&&dt.appendChild(tt),$){var xt=dt.createElementNS(z,$);dt.appendChild(xt)}return dt},createDocumentType:function(z,$,tt){var dt=new g;return dt.name=z,dt.nodeName=z,dt.publicId=$||"",dt.systemId=tt||"",dt}};function Et(){}Et.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(z,$){return m(this,z,$)},replaceChild:function(z,$){this.insertBefore(z,$),$&&this.removeChild($)},removeChild:function(z){return et(this,z)},appendChild:function(z){return this.insertBefore(z,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(z){return jt(this.ownerDocument||this,this,z)},normalize:function(){for(var z=this.firstChild;z;){var $=z.nextSibling;$&&$.nodeType==b&&z.nodeType==b?(this.removeChild($),z.appendData($.data)):(z.normalize(),z=$)}},isSupported:function(z,$){return this.ownerDocument.implementation.hasFeature(z,$)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(z){for(var $=this;$;){var tt=$._nsMap;if(tt){for(var dt in tt)if(tt[dt]==z)return dt}$=$.nodeType==d?$.ownerDocument:$.parentNode}return null},lookupNamespaceURI:function(z){for(var $=this;$;){var tt=$._nsMap;if(tt&&z in tt)return tt[z];$=$.nodeType==d?$.ownerDocument:$.parentNode}return null},isDefaultNamespace:function(z){var $=this.lookupPrefix(z);return $==null}};function kt(z){return z=="<"&&"&lt;"||z==">"&&"&gt;"||z=="&"&&"&amp;"||z=='"'&&"&quot;"||"&#"+z.charCodeAt()+";"}c(s,Et),c(s,Et.prototype);function St(z,$){if($(z))return!0;if(z=z.firstChild)do if(St(z,$))return!0;while(z=z.nextSibling)}function Rt(){}function Dt(z,$,tt){z&&z._inc++;var dt=tt.namespaceURI;dt===u.XMLNS&&($._nsMap[tt.prefix?tt.localName:""]=tt.value)}function Nt(z,$,tt,dt){z&&z._inc++;var xt=tt.namespaceURI;xt===u.XMLNS&&delete $._nsMap[tt.prefix?tt.localName:""]}function K(z,$,tt){if(z&&z._inc){z._inc++;var dt=$.childNodes;if(tt)dt[dt.length++]=tt;else{for(var xt=$.firstChild,Wt=0;xt;)dt[Wt++]=xt,xt=xt.nextSibling;dt.length=Wt}}}function et(z,$){var tt=$.previousSibling,dt=$.nextSibling;return tt?tt.nextSibling=dt:z.firstChild=dt,dt?dt.previousSibling=tt:z.lastChild=tt,K(z.ownerDocument,z),$}function m(z,$,tt){var dt=$.parentNode;if(dt&&dt.removeChild($),$.nodeType===T){var xt=$.firstChild;if(xt==null)return $;var Wt=$.lastChild}else xt=Wt=$;var Jt=tt?tt.previousSibling:z.lastChild;xt.previousSibling=Jt,Wt.nextSibling=tt,Jt?Jt.nextSibling=xt:z.firstChild=xt,tt==null?z.lastChild=Wt:tt.previousSibling=Wt;do xt.parentNode=z;while(xt!==Wt&&(xt=xt.nextSibling));return K(z.ownerDocument||z,z),$.nodeType==T&&($.firstChild=$.lastChild=null),$}function U(z,$){var tt=$.parentNode;if(tt){var dt=z.lastChild;tt.removeChild($);var dt=z.lastChild}var dt=z.lastChild;return $.parentNode=z,$.previousSibling=dt,$.nextSibling=null,dt?dt.nextSibling=$:z.firstChild=$,z.lastChild=$,K(z.ownerDocument,z,$),$}Rt.prototype={nodeName:"#document",nodeType:I,doctype:null,documentElement:null,_inc:1,insertBefore:function(z,$){if(z.nodeType==T){for(var tt=z.firstChild;tt;){var dt=tt.nextSibling;this.insertBefore(tt,$),tt=dt}return z}return this.documentElement==null&&z.nodeType==v&&(this.documentElement=z),m(this,z,$),z.ownerDocument=this,z},removeChild:function(z){return this.documentElement==z&&(this.documentElement=null),et(this,z)},importNode:function(z,$){return At(this,z,$)},getElementById:function(z){var $=null;return St(this.documentElement,function(tt){if(tt.nodeType==v&&tt.getAttribute("id")==z)return $=tt,!0}),$},getElementsByClassName:function(z){var $=_(z);return new rt(this,function(tt){var dt=[];return $.length>0&&St(tt.documentElement,function(xt){if(xt!==tt&&xt.nodeType===v){var Wt=xt.getAttribute("class");if(Wt){var Jt=z===Wt;if(!Jt){var ne=_(Wt);Jt=$.every(a(ne))}Jt&&dt.push(xt)}}}),dt})},createElement:function(z){var $=new j;$.ownerDocument=this,$.nodeName=z,$.tagName=z,$.localName=z,$.childNodes=new lt;var tt=$.attributes=new G;return tt._ownerElement=$,$},createDocumentFragment:function(){var z=new X;return z.ownerDocument=this,z.childNodes=new lt,z},createTextNode:function(z){var $=new W;return $.ownerDocument=this,$.appendData(z),$},createComment:function(z){var $=new Z;return $.ownerDocument=this,$.appendData(z),$},createCDATASection:function(z){var $=new q;return $.ownerDocument=this,$.appendData(z),$},createProcessingInstruction:function(z,$){var tt=new J;return tt.ownerDocument=this,tt.tagName=tt.target=z,tt.nodeValue=tt.data=$,tt},createAttribute:function(z){var $=new R;return $.ownerDocument=this,$.name=z,$.nodeName=z,$.localName=z,$.specified=!0,$},createEntityReference:function(z){var $=new M;return $.ownerDocument=this,$.nodeName=z,$},createElementNS:function(z,$){var tt=new j,dt=$.split(":"),xt=tt.attributes=new G;return tt.childNodes=new lt,tt.ownerDocument=this,tt.nodeName=$,tt.tagName=$,tt.namespaceURI=z,dt.length==2?(tt.prefix=dt[0],tt.localName=dt[1]):tt.localName=$,xt._ownerElement=tt,tt},createAttributeNS:function(z,$){var tt=new R,dt=$.split(":");return tt.ownerDocument=this,tt.nodeName=$,tt.name=$,tt.namespaceURI=z,tt.specified=!0,dt.length==2?(tt.prefix=dt[0],tt.localName=dt[1]):tt.localName=$,tt}},w(Rt,Et);function j(){this._nsMap={}}j.prototype={nodeType:v,hasAttribute:function(z){return this.getAttributeNode(z)!=null},getAttribute:function(z){var $=this.getAttributeNode(z);return $&&$.value||""},getAttributeNode:function(z){return this.attributes.getNamedItem(z)},setAttribute:function(z,$){var tt=this.ownerDocument.createAttribute(z);tt.value=tt.nodeValue=""+$,this.setAttributeNode(tt)},removeAttribute:function(z){var $=this.getAttributeNode(z);$&&this.removeAttributeNode($)},appendChild:function(z){return z.nodeType===T?this.insertBefore(z,null):U(this,z)},setAttributeNode:function(z){return this.attributes.setNamedItem(z)},setAttributeNodeNS:function(z){return this.attributes.setNamedItemNS(z)},removeAttributeNode:function(z){return this.attributes.removeNamedItem(z.nodeName)},removeAttributeNS:function(z,$){var tt=this.getAttributeNodeNS(z,$);tt&&this.removeAttributeNode(tt)},hasAttributeNS:function(z,$){return this.getAttributeNodeNS(z,$)!=null},getAttributeNS:function(z,$){var tt=this.getAttributeNodeNS(z,$);return tt&&tt.value||""},setAttributeNS:function(z,$,tt){var dt=this.ownerDocument.createAttributeNS(z,$);dt.value=dt.nodeValue=""+tt,this.setAttributeNode(dt)},getAttributeNodeNS:function(z,$){return this.attributes.getNamedItemNS(z,$)},getElementsByTagName:function(z){return new rt(this,function($){var tt=[];return St($,function(dt){dt!==$&&dt.nodeType==v&&(z==="*"||dt.tagName==z)&&tt.push(dt)}),tt})},getElementsByTagNameNS:function(z,$){return new rt(this,function(tt){var dt=[];return St(tt,function(xt){xt!==tt&&xt.nodeType===v&&(z==="*"||xt.namespaceURI===z)&&($==="*"||xt.localName==$)&&dt.push(xt)}),dt})}},Rt.prototype.getElementsByTagName=j.prototype.getElementsByTagName,Rt.prototype.getElementsByTagNameNS=j.prototype.getElementsByTagNameNS,w(j,Et);function R(){}R.prototype.nodeType=d,w(R,Et);function L(){}L.prototype={data:"",substringData:function(z,$){return this.data.substring(z,z+$)},appendData:function(z){z=this.data+z,this.nodeValue=this.data=z,this.length=z.length},insertData:function(z,$){this.replaceData(z,0,$)},appendChild:function(z){throw new Error(B[O])},deleteData:function(z,$){this.replaceData(z,$,"")},replaceData:function(z,$,tt){var dt=this.data.substring(0,z),xt=this.data.substring(z+$);tt=dt+tt+xt,this.nodeValue=this.data=tt,this.length=tt.length}},w(L,Et);function W(){}W.prototype={nodeName:"#text",nodeType:b,splitText:function(z){var $=this.data,tt=$.substring(z);$=$.substring(0,z),this.data=this.nodeValue=$,this.length=$.length;var dt=this.ownerDocument.createTextNode(tt);return this.parentNode&&this.parentNode.insertBefore(dt,this.nextSibling),dt}},w(W,L);function Z(){}Z.prototype={nodeName:"#comment",nodeType:S},w(Z,L);function q(){}q.prototype={nodeName:"#cdata-section",nodeType:p},w(q,L);function g(){}g.prototype.nodeType=P,w(g,Et);function k(){}k.prototype.nodeType=N,w(k,Et);function D(){}D.prototype.nodeType=E,w(D,Et);function M(){}M.prototype.nodeType=x,w(M,Et);function X(){}X.prototype.nodeName="#document-fragment",X.prototype.nodeType=T,w(X,Et);function J(){}J.prototype.nodeType=f,w(J,Et);function at(){}at.prototype.serializeToString=function(z,$,tt){return vt.call(z,$,tt)},Et.prototype.toString=vt;function vt(z,$){var tt=[],dt=this.nodeType==9&&this.documentElement||this,xt=dt.prefix,Wt=dt.namespaceURI;if(Wt&&xt==null){var xt=dt.lookupPrefix(Wt);if(xt==null)var Jt=[{namespace:Wt,prefix:null}]}return Lt(this,tt,z,$,Jt),tt.join("")}function Ct(z,$,tt){var dt=z.prefix||"",xt=z.namespaceURI;if(!xt||dt==="xml"&&xt===u.XML||xt===u.XMLNS)return!1;for(var Wt=tt.length;Wt--;){var Jt=tt[Wt];if(Jt.prefix===dt)return Jt.namespace!==xt}return!0}function It(z,$,tt){z.push(" ",$,'="',tt.replace(/[<&"]/g,kt),'"')}function Lt(z,$,tt,dt,xt){if(xt||(xt=[]),dt)if(z=dt(z),z){if(typeof z=="string"){$.push(z);return}}else return;switch(z.nodeType){case v:var Wt=z.attributes,Jt=Wt.length,pe=z.firstChild,ne=z.tagName;tt=u.isHTML(z.namespaceURI)||tt;var Re=ne;if(!tt&&!z.prefix&&z.namespaceURI){for(var ge,se=0;se<Wt.length;se++)if(Wt.item(se).name==="xmlns"){ge=Wt.item(se).value;break}if(!ge)for(var Ae=xt.length-1;Ae>=0;Ae--){var Qe=xt[Ae];if(Qe.prefix===""&&Qe.namespace===z.namespaceURI){ge=Qe.namespace;break}}if(ge!==z.namespaceURI)for(var Ae=xt.length-1;Ae>=0;Ae--){var Qe=xt[Ae];if(Qe.namespace===z.namespaceURI){Qe.prefix&&(Re=Qe.prefix+":"+ne);break}}}$.push("<",Re);for(var He=0;He<Jt;He++){var Ne=Wt.item(He);Ne.prefix=="xmlns"?xt.push({prefix:Ne.localName,namespace:Ne.value}):Ne.nodeName=="xmlns"&&xt.push({prefix:"",namespace:Ne.value})}for(var He=0;He<Jt;He++){var Ne=Wt.item(He);if(Ct(Ne,tt,xt)){var tr=Ne.prefix||"",Er=Ne.namespaceURI;It($,tr?"xmlns:"+tr:"xmlns",Er),xt.push({prefix:tr,namespace:Er})}Lt(Ne,$,tt,dt,xt)}if(ne===Re&&Ct(z,tt,xt)){var tr=z.prefix||"",Er=z.namespaceURI;It($,tr?"xmlns:"+tr:"xmlns",Er),xt.push({prefix:tr,namespace:Er})}if(pe||tt&&!/^(?:meta|link|img|br|hr|input)$/i.test(ne)){if($.push(">"),tt&&/^script$/i.test(ne))for(;pe;)pe.data?$.push(pe.data):Lt(pe,$,tt,dt,xt.slice()),pe=pe.nextSibling;else for(;pe;)Lt(pe,$,tt,dt,xt.slice()),pe=pe.nextSibling;$.push("</",Re,">")}else $.push("/>");return;case I:case T:for(var pe=z.firstChild;pe;)Lt(pe,$,tt,dt,xt.slice()),pe=pe.nextSibling;return;case d:return It($,z.name,z.value);case b:return $.push(z.data.replace(/[<&]/g,kt).replace(/]]>/g,"]]&gt;"));case p:return $.push("<![CDATA[",z.data,"]]>");case S:return $.push("<!--",z.data,"-->");case P:var $i=z.publicId,fr=z.systemId;if($.push("<!DOCTYPE ",z.name),$i)$.push(" PUBLIC ",$i),fr&&fr!="."&&$.push(" ",fr),$.push(">");else if(fr&&fr!=".")$.push(" SYSTEM ",fr,">");else{var Hi=z.internalSubset;Hi&&$.push(" [",Hi,"]"),$.push(">")}return;case f:return $.push("<?",z.target," ",z.data,"?>");case x:return $.push("&",z.nodeName,";");default:$.push("??",z.nodeName)}}function At(z,$,tt){var dt;switch($.nodeType){case v:dt=$.cloneNode(!1),dt.ownerDocument=z;case T:break;case d:tt=!0;break}if(dt||(dt=$.cloneNode(!1)),dt.ownerDocument=z,dt.parentNode=null,tt)for(var xt=$.firstChild;xt;)dt.appendChild(At(z,xt,tt)),xt=xt.nextSibling;return dt}function jt(z,$,tt){var dt=new $.constructor;for(var xt in $){var Wt=$[xt];typeof Wt!="object"&&Wt!=dt[xt]&&(dt[xt]=Wt)}switch($.childNodes&&(dt.childNodes=new lt),dt.ownerDocument=z,dt.nodeType){case v:var Jt=$.attributes,ne=dt.attributes=new G,Re=Jt.length;ne._ownerElement=dt;for(var ge=0;ge<Re;ge++)dt.setAttributeNode(jt(z,Jt.item(ge),!0));break;case d:tt=!0}if(tt)for(var se=$.firstChild;se;)dt.appendChild(jt(z,se,tt)),se=se.nextSibling;return dt}function Mt(z,$,tt){z[$]=tt}try{if(Object.defineProperty){let z=function($){switch($.nodeType){case v:case T:var tt=[];for($=$.firstChild;$;)$.nodeType!==7&&$.nodeType!==8&&tt.push(z($)),$=$.nextSibling;return tt.join("");default:return $.nodeValue}};Object.defineProperty(rt.prototype,"length",{get:function(){return ut(this),this.$$length}}),Object.defineProperty(Et.prototype,"textContent",{get:function(){return z(this)},set:function($){switch(this.nodeType){case v:case T:for(;this.firstChild;)this.removeChild(this.firstChild);($||String($))&&this.appendChild(this.ownerDocument.createTextNode($));break;default:this.data=$,this.value=$,this.nodeValue=$}}}),Mt=function($,tt,dt){$["$$"+tt]=dt}}}catch(z){}n.DocumentType=g,n.DOMException=Y,n.DOMImplementation=ft,n.Element=j,n.Node=Et,n.NodeList=lt,n.XMLSerializer=at},function(o,n,i){var h=i(52),u=typeof self=="object"&&self&&self.Object===Object&&self,l=h||u||Function("return this")();o.exports=l},function(o,n,i){var h=i(26),u=h.Symbol;o.exports=u},function(o,n,i){var h=i(21),u=i(19),l="Expected a function";function C(y,_,a){var c=!0,w=!0;if(typeof y!="function")throw new TypeError(l);return u(a)&&(c="leading"in a?!!a.leading:c,w="trailing"in a?!!a.trailing:w),h(y,_,{leading:c,maxWait:_,trailing:w})}o.exports=C},function(o,n){o.exports=r},function(o,n,i){i.r(n),function(h){var u=i(24),l=i(16),C=i(2),y=i(12),_=i(0),a=i(1);i(20),i(10),i(22);function c(w,s){return new u.a(w,s)}c.VERSION=a.b,typeof h!="undefined"&&(h.EPUBJS_VERSION=a.b),c.Book=u.a,c.Rendition=l.a,c.Contents=y.a,c.CFI=C.a,c.utils=_,n.default=c}.call(this,i(17))},function(o,n,i){var h=i(32),u=i(40),l=i(41),C=i(42),y;y=o.exports=function(_,a){var c,w,s,v,d;return arguments.length<2||typeof _!="string"?(v=a,a=_,_=null):v=arguments[2],_==null?(c=s=!0,w=!1):(c=C.call(_,"c"),w=C.call(_,"e"),s=C.call(_,"w")),d={value:a,configurable:c,enumerable:w,writable:s},v?h(u(v),d):d},y.gs=function(_,a,c){var w,s,v,d;return typeof _!="string"?(v=c,c=a,a=_,_=null):v=arguments[3],a==null?a=void 0:l(a)?c==null?c=void 0:l(c)||(v=c,c=void 0):(v=a,a=c=void 0),_==null?(w=!0,s=!1):(w=C.call(_,"c"),s=C.call(_,"e")),d={get:a,set:c,configurable:w,enumerable:s},v?h(u(v),d):d}},function(o,n,i){o.exports=i(33)()?Object.assign:i(34)},function(o,n,i){o.exports=function(){var h=Object.assign,u;return typeof h!="function"?!1:(u={foo:"raz"},h(u,{bar:"dwa"},{trzy:"trzy"}),u.foo+u.bar+u.trzy==="razdwatrzy")}},function(o,n,i){var h=i(35),u=i(39),l=Math.max;o.exports=function(C,y){var _,a,c=l(arguments.length,2),w;for(C=Object(u(C)),w=function(s){try{C[s]=y[s]}catch(v){_||(_=v)}},a=1;a<c;++a)y=arguments[a],h(y).forEach(w);if(_!==void 0)throw _;return C}},function(o,n,i){o.exports=i(36)()?Object.keys:i(37)},function(o,n,i){o.exports=function(){try{return Object.keys("primitive"),!0}catch(h){return!1}}},function(o,n,i){var h=i(18),u=Object.keys;o.exports=function(l){return u(h(l)?Object(l):l)}},function(o,n,i){o.exports=function(){}},function(o,n,i){var h=i(18);o.exports=function(u){if(!h(u))throw new TypeError("Cannot use null or undefined");return u}},function(o,n,i){var h=i(18),u=Array.prototype.forEach,l=Object.create,C=function(y,_){var a;for(a in y)_[a]=y[a]};o.exports=function(y){var _=l(null);return u.call(arguments,function(a){h(a)&&C(Object(a),_)}),_}},function(o,n,i){o.exports=function(h){return typeof h=="function"}},function(o,n,i){o.exports=i(43)()?String.prototype.contains:i(44)},function(o,n,i){var h="razdwatrzy";o.exports=function(){return typeof h.contains!="function"?!1:h.contains("dwa")===!0&&h.contains("foo")===!1}},function(o,n,i){var h=String.prototype.indexOf;o.exports=function(u){return h.call(this,u,arguments[1])>-1}},function(o,n,i){o.exports=function(h){if(typeof h!="function")throw new TypeError(h+" is not a function");return h}},function(o,n,i){var h=i(14),u=i(25),l=i(47),C=i(48),y=u.DOMImplementation,_=h.NAMESPACE,a=C.ParseError,c=C.XMLReader;function w(E){this.options=E||{locator:{}}}w.prototype.parseFromString=function(E,f){var S=this.options,I=new c,P=S.domBuilder||new v,T=S.errorHandler,N=S.locator,A=S.xmlns||{},B=/\/x?html?$/.test(f),O=B?l.HTML_ENTITIES:l.XML_ENTITIES;return N&&P.setDocumentLocator(N),I.errorHandler=s(T,P,N),I.domBuilder=S.domBuilder||P,B&&(A[""]=_.HTML),A.xml=A.xml||_.XML,E&&typeof E=="string"?I.parse(E,A,O):I.errorHandler.error("invalid doc source"),P.doc};function s(E,f,S){if(!E){if(f instanceof v)return f;E=f}var I={},P=E instanceof Function;S=S||{};function T(N){var A=E[N];!A&&P&&(A=E.length==2?function(B){E(N,B)}:E),I[N]=A&&function(B){A("[xmldom "+N+"]	"+B+b(S))}||function(){}}return T("warning"),T("error"),T("fatalError"),I}function v(){this.cdata=!1}function d(E,f){f.lineNumber=E.lineNumber,f.columnNumber=E.columnNumber}v.prototype={startDocument:function(){this.doc=new y().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(E,f,S,I){var P=this.doc,T=P.createElementNS(E,S||f),N=I.length;x(this,T),this.currentElement=T,this.locator&&d(this.locator,T);for(var A=0;A<N;A++){var E=I.getURI(A),B=I.getValue(A),S=I.getQName(A),O=P.createAttributeNS(E,S);this.locator&&d(I.getLocator(A),O),O.value=O.nodeValue=B,T.setAttributeNode(O)}},endElement:function(E,f,S){var I=this.currentElement;I.tagName,this.currentElement=I.parentNode},startPrefixMapping:function(E,f){},endPrefixMapping:function(E){},processingInstruction:function(E,f){var S=this.doc.createProcessingInstruction(E,f);this.locator&&d(this.locator,S),x(this,S)},ignorableWhitespace:function(E,f,S){},characters:function(E,f,S){if(E=p.apply(this,arguments),E){if(this.cdata)var I=this.doc.createCDATASection(E);else var I=this.doc.createTextNode(E);this.currentElement?this.currentElement.appendChild(I):/^\s*$/.test(E)&&this.doc.appendChild(I),this.locator&&d(this.locator,I)}},skippedEntity:function(E){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(E){(this.locator=E)&&(E.lineNumber=0)},comment:function(E,f,S){E=p.apply(this,arguments);var I=this.doc.createComment(E);this.locator&&d(this.locator,I),x(this,I)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(E,f,S){var I=this.doc.implementation;if(I&&I.createDocumentType){var P=I.createDocumentType(E,f,S);this.locator&&d(this.locator,P),x(this,P),this.doc.doctype=P}},warning:function(E){console.warn("[xmldom warning]	"+E,b(this.locator))},error:function(E){console.error("[xmldom error]	"+E,b(this.locator))},fatalError:function(E){throw new a(E,this.locator)}};function b(E){if(E)return`
@`+(E.systemId||"")+"#[line:"+E.lineNumber+",col:"+E.columnNumber+"]"}function p(E,f,S){return typeof E=="string"?E.substr(f,S):E.length>=f+S||f?new java.lang.String(E,f,S)+"":E}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(E){v.prototype[E]=function(){return null}});function x(E,f){E.currentElement?E.currentElement.appendChild(f):E.doc.appendChild(f)}n.__DOMHandler=v,n.DOMParser=w,n.DOMImplementation=u.DOMImplementation,n.XMLSerializer=u.XMLSerializer},function(o,n,i){var h=i(14).freeze;n.XML_ENTITIES=h({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),n.HTML_ENTITIES=h({lt:"<",gt:">",amp:"&",quot:'"',apos:"'",Agrave:"À",Aacute:"Á",Acirc:"Â",Atilde:"Ã",Auml:"Ä",Aring:"Å",AElig:"Æ",Ccedil:"Ç",Egrave:"È",Eacute:"É",Ecirc:"Ê",Euml:"Ë",Igrave:"Ì",Iacute:"Í",Icirc:"Î",Iuml:"Ï",ETH:"Ð",Ntilde:"Ñ",Ograve:"Ò",Oacute:"Ó",Ocirc:"Ô",Otilde:"Õ",Ouml:"Ö",Oslash:"Ø",Ugrave:"Ù",Uacute:"Ú",Ucirc:"Û",Uuml:"Ü",Yacute:"Ý",THORN:"Þ",szlig:"ß",agrave:"à",aacute:"á",acirc:"â",atilde:"ã",auml:"ä",aring:"å",aelig:"æ",ccedil:"ç",egrave:"è",eacute:"é",ecirc:"ê",euml:"ë",igrave:"ì",iacute:"í",icirc:"î",iuml:"ï",eth:"ð",ntilde:"ñ",ograve:"ò",oacute:"ó",ocirc:"ô",otilde:"õ",ouml:"ö",oslash:"ø",ugrave:"ù",uacute:"ú",ucirc:"û",uuml:"ü",yacute:"ý",thorn:"þ",yuml:"ÿ",nbsp:" ",iexcl:"¡",cent:"¢",pound:"£",curren:"¤",yen:"¥",brvbar:"¦",sect:"§",uml:"¨",copy:"©",ordf:"ª",laquo:"«",not:"¬",shy:"­­",reg:"®",macr:"¯",deg:"°",plusmn:"±",sup2:"²",sup3:"³",acute:"´",micro:"µ",para:"¶",middot:"·",cedil:"¸",sup1:"¹",ordm:"º",raquo:"»",frac14:"¼",frac12:"½",frac34:"¾",iquest:"¿",times:"×",divide:"÷",forall:"∀",part:"∂",exist:"∃",empty:"∅",nabla:"∇",isin:"∈",notin:"∉",ni:"∋",prod:"∏",sum:"∑",minus:"−",lowast:"∗",radic:"√",prop:"∝",infin:"∞",ang:"∠",and:"∧",or:"∨",cap:"∩",cup:"∪",int:"∫",there4:"∴",sim:"∼",cong:"≅",asymp:"≈",ne:"≠",equiv:"≡",le:"≤",ge:"≥",sub:"⊂",sup:"⊃",nsub:"⊄",sube:"⊆",supe:"⊇",oplus:"⊕",otimes:"⊗",perp:"⊥",sdot:"⋅",Alpha:"Α",Beta:"Β",Gamma:"Γ",Delta:"Δ",Epsilon:"Ε",Zeta:"Ζ",Eta:"Η",Theta:"Θ",Iota:"Ι",Kappa:"Κ",Lambda:"Λ",Mu:"Μ",Nu:"Ν",Xi:"Ξ",Omicron:"Ο",Pi:"Π",Rho:"Ρ",Sigma:"Σ",Tau:"Τ",Upsilon:"Υ",Phi:"Φ",Chi:"Χ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",omicron:"ο",pi:"π",rho:"ρ",sigmaf:"ς",sigma:"σ",tau:"τ",upsilon:"υ",phi:"φ",chi:"χ",psi:"ψ",omega:"ω",thetasym:"ϑ",upsih:"ϒ",piv:"ϖ",OElig:"Œ",oelig:"œ",Scaron:"Š",scaron:"š",Yuml:"Ÿ",fnof:"ƒ",circ:"ˆ",tilde:"˜",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lrm:"‎",rlm:"‏",ndash:"–",mdash:"—",lsquo:"‘",rsquo:"’",sbquo:"‚",ldquo:"“",rdquo:"”",bdquo:"„",dagger:"†",Dagger:"‡",bull:"•",hellip:"…",permil:"‰",prime:"′",Prime:"″",lsaquo:"‹",rsaquo:"›",oline:"‾",euro:"€",trade:"™",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦"}),n.entityMap=n.HTML_ENTITIES},function(o,n,i){var h=i(14).NAMESPACE,u=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,l=new RegExp("[\\-\\.0-9"+u.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),C=new RegExp("^"+u.source+l.source+"*(?::"+u.source+l.source+"*)?$"),y=0,_=1,a=2,c=3,w=4,s=5,v=6,d=7;function b(H,nt){this.message=H,this.locator=nt,Error.captureStackTrace&&Error.captureStackTrace(this,b)}b.prototype=new Error,b.prototype.name=b.name;function p(){}p.prototype={parse:function(H,nt,Y){var lt=this.domBuilder;lt.startDocument(),T(nt,nt={}),x(H,nt,Y,lt,this.errorHandler),lt.endDocument()}};function x(H,nt,Y,lt,rt){function ut(J){if(J>65535){J-=65536;var at=55296+(J>>10),vt=56320+(J&1023);return String.fromCharCode(at,vt)}else return String.fromCharCode(J)}function G(J){var at=J.slice(1,-1);return at in Y?Y[at]:at.charAt(0)==="#"?ut(parseInt(at.substr(1).replace("x","0x"))):(rt.error("entity not found:"+J),J)}function it(J){if(J>Dt){var at=H.substring(Dt,J).replace(/&#?\w+;/g,G);kt&&gt(Dt),lt.characters(at,0,J-Dt),Dt=J}}function gt(J,at){for(;J>=ft&&(at=Et.exec(H));)pt=at.index,ft=pt+at[0].length,kt.lineNumber++;kt.columnNumber=J-pt+1}for(var pt=0,ft=0,Et=/.*(?:\r\n?|\n)|.*$/g,kt=lt.locator,St=[{currentNSMap:nt}],Rt={},Dt=0;;){try{var Nt=H.indexOf("<",Dt);if(Nt<0){if(!H.substr(Dt).match(/^\s*$/)){var K=lt.doc,et=K.createTextNode(H.substr(Dt));K.appendChild(et),lt.currentElement=et}return}switch(Nt>Dt&&it(Nt),H.charAt(Nt+1)){case"/":var g=H.indexOf(">",Nt+3),m=H.substring(Nt+2,g).replace(/[ \t\n\r]+$/g,""),U=St.pop();g<0?(m=H.substring(Nt+2).replace(/[\s<].*/,""),rt.error("end tag name: "+m+" is not complete:"+U.tagName),g=Nt+1+m.length):m.match(/\s</)&&(m=m.replace(/[\s<].*/,""),rt.error("end tag name: "+m+" maybe not complete"),g=Nt+1+m.length);var j=U.localNSMap,R=U.tagName==m,L=R||U.tagName&&U.tagName.toLowerCase()==m.toLowerCase();if(L){if(lt.endElement(U.uri,U.localName,m),j)for(var W in j)lt.endPrefixMapping(W);R||rt.fatalError("end tag name: "+m+" is not match the current start tagName:"+U.tagName)}else St.push(U);g++;break;case"?":kt&&gt(Nt),g=A(H,Nt,lt);break;case"!":kt&&gt(Nt),g=N(H,Nt,lt,rt);break;default:kt&&gt(Nt);var Z=new B,q=St[St.length-1].currentNSMap,g=f(H,Nt,Z,q,G,rt),k=Z.length;if(!Z.closed&&P(H,g,Z.tagName,Rt)&&(Z.closed=!0,Y.nbsp||rt.warning("unclosed xml attribute")),kt&&k){for(var D=E(kt,{}),M=0;M<k;M++){var X=Z[M];gt(X.offset),X.locator=E(kt,{})}lt.locator=D,S(Z,lt,q)&&St.push(Z),lt.locator=kt}else S(Z,lt,q)&&St.push(Z);h.isHTML(Z.uri)&&!Z.closed?g=I(H,g,Z.tagName,G,lt):g++}}catch(J){if(J instanceof b)throw J;rt.error("element parse error: "+J),g=-1}g>Dt?Dt=g:it(Math.max(Nt,Dt)+1)}}function E(H,nt){return nt.lineNumber=H.lineNumber,nt.columnNumber=H.columnNumber,nt}function f(H,nt,Y,lt,rt,ut){function G(kt,St,Rt){Y.attributeNames.hasOwnProperty(kt)&&ut.fatalError("Attribute "+kt+" redefined"),Y.addValue(kt,St,Rt)}for(var it,gt,pt=++nt,ft=y;;){var Et=H.charAt(pt);switch(Et){case"=":if(ft===_)it=H.slice(nt,pt),ft=c;else if(ft===a)ft=c;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(ft===c||ft===_)if(ft===_&&(ut.warning('attribute value must after "="'),it=H.slice(nt,pt)),nt=pt+1,pt=H.indexOf(Et,nt),pt>0)gt=H.slice(nt,pt).replace(/&#?\w+;/g,rt),G(it,gt,nt-1),ft=s;else throw new Error("attribute value no end '"+Et+"' match");else if(ft==w)gt=H.slice(nt,pt).replace(/&#?\w+;/g,rt),G(it,gt,nt),ut.warning('attribute "'+it+'" missed start quot('+Et+")!!"),nt=pt+1,ft=s;else throw new Error('attribute value must after "="');break;case"/":switch(ft){case y:Y.setTagName(H.slice(nt,pt));case s:case v:case d:ft=d,Y.closed=!0;case w:case _:case a:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return ut.error("unexpected end of input"),ft==y&&Y.setTagName(H.slice(nt,pt)),pt;case">":switch(ft){case y:Y.setTagName(H.slice(nt,pt));case s:case v:case d:break;case w:case _:gt=H.slice(nt,pt),gt.slice(-1)==="/"&&(Y.closed=!0,gt=gt.slice(0,-1));case a:ft===a&&(gt=it),ft==w?(ut.warning('attribute "'+gt+'" missed quot(")!'),G(it,gt.replace(/&#?\w+;/g,rt),nt)):((!h.isHTML(lt[""])||!gt.match(/^(?:disabled|checked|selected)$/i))&&ut.warning('attribute "'+gt+'" missed value!! "'+gt+'" instead!!'),G(gt,gt,nt));break;case c:throw new Error("attribute value missed!!")}return pt;case"":Et=" ";default:if(Et<=" ")switch(ft){case y:Y.setTagName(H.slice(nt,pt)),ft=v;break;case _:it=H.slice(nt,pt),ft=a;break;case w:var gt=H.slice(nt,pt).replace(/&#?\w+;/g,rt);ut.warning('attribute "'+gt+'" missed quot(")!!'),G(it,gt,nt);case s:ft=v;break}else switch(ft){case a:Y.tagName,(!h.isHTML(lt[""])||!it.match(/^(?:disabled|checked|selected)$/i))&&ut.warning('attribute "'+it+'" missed value!! "'+it+'" instead2!!'),G(it,it,nt),nt=pt,ft=_;break;case s:ut.warning('attribute space is required"'+it+'"!!');case v:ft=_,nt=pt;break;case c:ft=w,nt=pt;break;case d:throw new Error("elements closed character '/' and '>' must be connected to")}}pt++}}function S(H,nt,Y){for(var lt=H.tagName,rt=null,Et=H.length;Et--;){var ut=H[Et],G=ut.qName,it=ut.value,kt=G.indexOf(":");if(kt>0)var gt=ut.prefix=G.slice(0,kt),pt=G.slice(kt+1),ft=gt==="xmlns"&&pt;else pt=G,gt=null,ft=G==="xmlns"&&"";ut.localName=pt,ft!==!1&&(rt==null&&(rt={},T(Y,Y={})),Y[ft]=rt[ft]=it,ut.uri=h.XMLNS,nt.startPrefixMapping(ft,it))}for(var Et=H.length;Et--;){ut=H[Et];var gt=ut.prefix;gt&&(gt==="xml"&&(ut.uri=h.XML),gt!=="xmlns"&&(ut.uri=Y[gt||""]))}var kt=lt.indexOf(":");kt>0?(gt=H.prefix=lt.slice(0,kt),pt=H.localName=lt.slice(kt+1)):(gt=null,pt=H.localName=lt);var St=H.uri=Y[gt||""];if(nt.startElement(St,pt,lt,H),H.closed){if(nt.endElement(St,pt,lt),rt)for(gt in rt)nt.endPrefixMapping(gt)}else return H.currentNSMap=Y,H.localNSMap=rt,!0}function I(H,nt,Y,lt,rt){if(/^(?:script|textarea)$/i.test(Y)){var ut=H.indexOf("</"+Y+">",nt),G=H.substring(nt+1,ut);if(/[&<]/.test(G))return/^script$/i.test(Y)?(rt.characters(G,0,G.length),ut):(G=G.replace(/&#?\w+;/g,lt),rt.characters(G,0,G.length),ut)}return nt+1}function P(H,nt,Y,lt){var rt=lt[Y];return rt==null&&(rt=H.lastIndexOf("</"+Y+">"),rt<nt&&(rt=H.lastIndexOf("</"+Y)),lt[Y]=rt),rt<nt}function T(H,nt){for(var Y in H)nt[Y]=H[Y]}function N(H,nt,Y,lt){var rt=H.charAt(nt+2);switch(rt){case"-":if(H.charAt(nt+3)==="-"){var ut=H.indexOf("-->",nt+4);return ut>nt?(Y.comment(H,nt+4,ut-nt-4),ut+3):(lt.error("Unclosed comment"),-1)}else return-1;default:if(H.substr(nt+3,6)=="CDATA["){var ut=H.indexOf("]]>",nt+9);return Y.startCDATA(),Y.characters(H,nt+9,ut-nt-9),Y.endCDATA(),ut+3}var G=O(H,nt),it=G.length;if(it>1&&/!doctype/i.test(G[0][0])){var gt=G[1][0],pt=!1,ft=!1;it>3&&(/^public$/i.test(G[2][0])?(pt=G[3][0],ft=it>4&&G[4][0]):/^system$/i.test(G[2][0])&&(ft=G[3][0]));var Et=G[it-1];return Y.startDTD(gt,pt,ft),Y.endDTD(),Et.index+Et[0].length}}return-1}function A(H,nt,Y){var lt=H.indexOf("?>",nt);if(lt){var rt=H.substring(nt,lt).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return rt?(rt[0].length,Y.processingInstruction(rt[1],rt[2]),lt+2):-1}return-1}function B(){this.attributeNames={}}B.prototype={setTagName:function(H){if(!C.test(H))throw new Error("invalid tagName:"+H);this.tagName=H},addValue:function(H,nt,Y){if(!C.test(H))throw new Error("invalid attribute:"+H);this.attributeNames[H]=this.length,this[this.length++]={qName:H,value:nt,offset:Y}},length:0,getLocalName:function(H){return this[H].localName},getLocator:function(H){return this[H].locator},getQName:function(H){return this[H].qName},getURI:function(H){return this[H].uri},getValue:function(H){return this[H].value}};function O(H,nt){var Y,lt=[],rt=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(rt.lastIndex=nt,rt.exec(H);Y=rt.exec(H);)if(lt.push(Y),Y[1])return lt}n.XMLReader=p,n.ParseError=b},function(o,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.createElement=h;function h(u){return document.createElementNS("http://www.w3.org/2000/svg",u)}n.default={createElement:h}},function(o,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.proxyMouse=h,n.clone=u,n.default={proxyMouse:h};function h(C,y){function _(s){for(var v=y.length-1;v>=0;v--){var d=y[v],b=s.clientX,p=s.clientY;if(s.touches&&s.touches.length&&(b=s.touches[0].clientX,p=s.touches[0].clientY),!!l(d,C,b,p)){d.dispatchEvent(u(s));break}}}if(C.nodeName==="iframe"||C.nodeName==="IFRAME")try{this.target=C.contentDocument}catch(s){this.target=C}else this.target=C;for(var a=["mouseup","mousedown","click","touchstart"],c=0;c<a.length;c++){var w=a[c];this.target.addEventListener(w,function(s){return _(s)},!1)}}function u(C){var y=Object.assign({},C,{bubbles:!1});try{return new MouseEvent(C.type,y)}catch(a){var _=document.createEvent("MouseEvents");return _.initMouseEvent(C.type,!1,y.cancelable,y.view,y.detail,y.screenX,y.screenY,y.clientX,y.clientY,y.ctrlKey,y.altKey,y.shiftKey,y.metaKey,y.button,y.relatedTarget),_}}function l(C,y,_,a){var c=y.getBoundingClientRect();function w(p,x,E){var f=p.top-c.top,S=p.left-c.left,I=f+p.height,P=S+p.width;return f<=E&&S<=x&&I>E&&P>x}var s=C.getBoundingClientRect();if(!w(s,_,a))return!1;for(var v=C.getClientRects(),d=0,b=v.length;d<b;d++)if(w(v[d],_,a))return!0;return!1}},function(o,n,i){var h=i(26),u=function(){return h.Date.now()};o.exports=u},function(o,n,i){(function(h){var u=typeof h=="object"&&h&&h.Object===Object&&h;o.exports=u}).call(this,i(17))},function(o,n,i){var h=i(54),u=i(19),l=i(56),C=NaN,y=/^[-+]0x[0-9a-f]+$/i,_=/^0b[01]+$/i,a=/^0o[0-7]+$/i,c=parseInt;function w(s){if(typeof s=="number")return s;if(l(s))return C;if(u(s)){var v=typeof s.valueOf=="function"?s.valueOf():s;s=u(v)?v+"":v}if(typeof s!="string")return s===0?s:+s;s=h(s);var d=_.test(s);return d||a.test(s)?c(s.slice(2),d?2:8):y.test(s)?C:+s}o.exports=w},function(o,n,i){var h=i(55),u=/^\s+/;function l(C){return C&&C.slice(0,h(C)+1).replace(u,"")}o.exports=l},function(o,n){var i=/\s/;function h(u){for(var l=u.length;l--&&i.test(u.charAt(l)););return l}o.exports=h},function(o,n,i){var h=i(57),u=i(60),l="[object Symbol]";function C(y){return typeof y=="symbol"||u(y)&&h(y)==l}o.exports=C},function(o,n,i){var h=i(27),u=i(58),l=i(59),C="[object Null]",y="[object Undefined]",_=h?h.toStringTag:void 0;function a(c){return c==null?c===void 0?y:C:_&&_ in Object(c)?u(c):l(c)}o.exports=a},function(o,n,i){var h=i(27),u=Object.prototype,l=u.hasOwnProperty,C=u.toString,y=h?h.toStringTag:void 0;function _(a){var c=l.call(a,y),w=a[y];try{a[y]=void 0;var s=!0}catch(d){}var v=C.call(a);return s&&(c?a[y]=w:delete a[y]),v}o.exports=_},function(o,n){var i=Object.prototype,h=i.toString;function u(l){return h.call(l)}o.exports=u},function(o,n){function i(h){return h!=null&&typeof h=="object"}o.exports=i}]).default})})(ca);var ha=ca.exports;const Of=Qt({__proto__:null,default:aa(ha)},[ha])})();
