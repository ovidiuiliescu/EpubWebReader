var of=Object.defineProperty,af=Object.defineProperties;var lf=Object.getOwnPropertyDescriptors;var Xn=Object.getOwnPropertySymbols;var wa=Object.prototype.hasOwnProperty,ya=Object.prototype.propertyIsEnumerable;var cf=(Zt,Vt)=>(Vt=Symbol[Zt])?Vt:Symbol.for("Symbol."+Zt);var ba=(Zt,Vt,te)=>Vt in Zt?of(Zt,Vt,{enumerable:!0,configurable:!0,writable:!0,value:te}):Zt[Vt]=te,Ke=(Zt,Vt)=>{for(var te in Vt||(Vt={}))wa.call(Vt,te)&&ba(Zt,te,Vt[te]);if(Xn)for(var te of Xn(Vt))ya.call(Vt,te)&&ba(Zt,te,Vt[te]);return Zt},jr=(Zt,Vt)=>af(Zt,lf(Vt));var es=(Zt,Vt)=>{var te={};for(var he in Zt)wa.call(Zt,he)&&Vt.indexOf(he)<0&&(te[he]=Zt[he]);if(Zt!=null&&Xn)for(var he of Xn(Zt))Vt.indexOf(he)<0&&ya.call(Zt,he)&&(te[he]=Zt[he]);return te};var Pt=(Zt,Vt,te)=>new Promise((he,qt)=>{var Se=fe=>{try{_e(te.next(fe))}catch(Ce){qt(Ce)}},ue=fe=>{try{_e(te.throw(fe))}catch(Ce){qt(Ce)}},_e=fe=>fe.done?he(fe.value):Promise.resolve(fe.value).then(Se,ue);_e((te=te.apply(Zt,Vt)).next())}),Zn=function(Zt,Vt){this[0]=Zt,this[1]=Vt},xa=(Zt,Vt,te)=>{var he=(ue,_e,fe,Ce)=>{try{var de=te[ue](_e),Sr=(_e=de.value)instanceof Zn,Gn=de.done;Promise.resolve(Sr?_e[0]:_e).then($t=>Sr?he(ue==="return"?ue:"next",_e[1]?{done:$t.done,value:$t.value}:$t,fe,Ce):fe({value:$t,done:Gn})).catch($t=>he("throw",$t,fe,Ce))}catch($t){Ce($t)}},qt=ue=>Se[ue]=_e=>new Promise((fe,Ce)=>he(ue,_e,fe,Ce)),Se={};return te=te.apply(Zt,Vt),Se[cf("asyncIterator")]=()=>Se,qt("next"),qt("throw"),qt("return"),Se};(function(){"use strict";var Zt=document.createElement("style");Zt.textContent='*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html,:host{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:Arial,Helvetica,Verdana,sans-serif;font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]:where(:not([hidden=until-found])){display:none}html{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}body{min-height:100vh}.container{width:100%}@media (min-width: 640px){.container{max-width:640px}}@media (min-width: 768px){.container{max-width:768px}}@media (min-width: 1024px){.container{max-width:1024px}}@media (min-width: 1280px){.container{max-width:1280px}}@media (min-width: 1536px){.container{max-width:1536px}}.prose{color:inherit;max-width:65ch}.prose :where(p):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:1.25em;margin-bottom:1.25em}.prose :where([class~=lead]):not(:where([class~=not-prose],[class~=not-prose] *)){color:var(--tw-prose-lead);font-size:1.25em;line-height:1.6;margin-top:1.2em;margin-bottom:1.2em}.prose :where(a):not(:where([class~=not-prose],[class~=not-prose] *)){color:inherit;text-decoration:underline;font-weight:500}.prose :where(strong):not(:where([class~=not-prose],[class~=not-prose] *)){color:var(--tw-prose-bold);font-weight:600}.prose :where(a strong):not(:where([class~=not-prose],[class~=not-prose] *)){color:inherit}.prose :where(blockquote strong):not(:where([class~=not-prose],[class~=not-prose] *)){color:inherit}.prose :where(thead th strong):not(:where([class~=not-prose],[class~=not-prose] *)){color:inherit}.prose :where(ol):not(:where([class~=not-prose],[class~=not-prose] *)){list-style-type:decimal;margin-top:1.25em;margin-bottom:1.25em;padding-inline-start:1.625em}.prose :where(ol[type=A]):not(:where([class~=not-prose],[class~=not-prose] *)){list-style-type:upper-alpha}.prose :where(ol[type=a]):not(:where([class~=not-prose],[class~=not-prose] *)){list-style-type:lower-alpha}.prose :where(ol[type=A s]):not(:where([class~=not-prose],[class~=not-prose] *)){list-style-type:upper-alpha}.prose :where(ol[type=a s]):not(:where([class~=not-prose],[class~=not-prose] *)){list-style-type:lower-alpha}.prose :where(ol[type=I]):not(:where([class~=not-prose],[class~=not-prose] *)){list-style-type:upper-roman}.prose :where(ol[type=i]):not(:where([class~=not-prose],[class~=not-prose] *)){list-style-type:lower-roman}.prose :where(ol[type=I s]):not(:where([class~=not-prose],[class~=not-prose] *)){list-style-type:upper-roman}.prose :where(ol[type=i s]):not(:where([class~=not-prose],[class~=not-prose] *)){list-style-type:lower-roman}.prose :where(ol[type="1"]):not(:where([class~=not-prose],[class~=not-prose] *)){list-style-type:decimal}.prose :where(ul):not(:where([class~=not-prose],[class~=not-prose] *)){list-style-type:disc;margin-top:1.25em;margin-bottom:1.25em;padding-inline-start:1.625em}.prose :where(ol>li):not(:where([class~=not-prose],[class~=not-prose] *))::marker{font-weight:400;color:var(--tw-prose-counters)}.prose :where(ul>li):not(:where([class~=not-prose],[class~=not-prose] *))::marker{color:var(--tw-prose-bullets)}.prose :where(dt):not(:where([class~=not-prose],[class~=not-prose] *)){color:var(--tw-prose-headings);font-weight:600;margin-top:1.25em}.prose :where(hr):not(:where([class~=not-prose],[class~=not-prose] *)){border-color:var(--tw-prose-hr);border-top-width:1px;margin-top:3em;margin-bottom:3em}.prose :where(blockquote):not(:where([class~=not-prose],[class~=not-prose] *)){font-weight:500;font-style:italic;color:var(--tw-prose-quotes);border-inline-start-width:.25rem;border-inline-start-color:var(--tw-prose-quote-borders);quotes:"“""”""‘""’";margin-top:1.6em;margin-bottom:1.6em;padding-inline-start:1em}.prose :where(blockquote p:first-of-type):not(:where([class~=not-prose],[class~=not-prose] *)):before{content:open-quote}.prose :where(blockquote p:last-of-type):not(:where([class~=not-prose],[class~=not-prose] *)):after{content:close-quote}.prose :where(h1):not(:where([class~=not-prose],[class~=not-prose] *)){color:var(--tw-prose-headings);font-weight:800;font-size:2.25em;margin-top:0;margin-bottom:.8888889em;line-height:1.1111111}.prose :where(h1 strong):not(:where([class~=not-prose],[class~=not-prose] *)){font-weight:900;color:inherit}.prose :where(h2):not(:where([class~=not-prose],[class~=not-prose] *)){color:var(--tw-prose-headings);font-weight:700;font-size:1.5em;margin-top:2em;margin-bottom:1em;line-height:1.3333333}.prose :where(h2 strong):not(:where([class~=not-prose],[class~=not-prose] *)){font-weight:800;color:inherit}.prose :where(h3):not(:where([class~=not-prose],[class~=not-prose] *)){color:var(--tw-prose-headings);font-weight:600;font-size:1.25em;margin-top:1.6em;margin-bottom:.6em;line-height:1.6}.prose :where(h3 strong):not(:where([class~=not-prose],[class~=not-prose] *)){font-weight:700;color:inherit}.prose :where(h4):not(:where([class~=not-prose],[class~=not-prose] *)){color:var(--tw-prose-headings);font-weight:600;margin-top:1.5em;margin-bottom:.5em;line-height:1.5}.prose :where(h4 strong):not(:where([class~=not-prose],[class~=not-prose] *)){font-weight:700;color:inherit}.prose :where(img):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:2em;margin-bottom:2em;max-width:100%}.prose :where(picture):not(:where([class~=not-prose],[class~=not-prose] *)){display:block;margin-top:2em;margin-bottom:2em}.prose :where(video):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:2em;margin-bottom:2em}.prose :where(kbd):not(:where([class~=not-prose],[class~=not-prose] *)){font-weight:500;font-family:inherit;color:var(--tw-prose-kbd);box-shadow:0 0 0 1px var(--tw-prose-kbd-shadows),0 3px 0 var(--tw-prose-kbd-shadows);font-size:.875em;border-radius:.3125rem;padding-top:.1875em;padding-inline-end:.375em;padding-bottom:.1875em;padding-inline-start:.375em}.prose :where(code):not(:where([class~=not-prose],[class~=not-prose] *)){color:var(--tw-prose-code);font-weight:600;font-size:.875em}.prose :where(code):not(:where([class~=not-prose],[class~=not-prose] *)):before{content:"`"}.prose :where(code):not(:where([class~=not-prose],[class~=not-prose] *)):after{content:"`"}.prose :where(a code):not(:where([class~=not-prose],[class~=not-prose] *)){color:inherit}.prose :where(h1 code):not(:where([class~=not-prose],[class~=not-prose] *)){color:inherit}.prose :where(h2 code):not(:where([class~=not-prose],[class~=not-prose] *)){color:inherit;font-size:.875em}.prose :where(h3 code):not(:where([class~=not-prose],[class~=not-prose] *)){color:inherit;font-size:.9em}.prose :where(h4 code):not(:where([class~=not-prose],[class~=not-prose] *)){color:inherit}.prose :where(blockquote code):not(:where([class~=not-prose],[class~=not-prose] *)){color:inherit}.prose :where(thead th code):not(:where([class~=not-prose],[class~=not-prose] *)){color:inherit}.prose :where(pre):not(:where([class~=not-prose],[class~=not-prose] *)){color:var(--tw-prose-pre-code);background-color:var(--tw-prose-pre-bg);overflow-x:auto;font-weight:400;font-size:.875em;line-height:1.7142857;margin-top:1.7142857em;margin-bottom:1.7142857em;border-radius:.375rem;padding-top:.8571429em;padding-inline-end:1.1428571em;padding-bottom:.8571429em;padding-inline-start:1.1428571em}.prose :where(pre code):not(:where([class~=not-prose],[class~=not-prose] *)){background-color:transparent;border-width:0;border-radius:0;padding:0;font-weight:inherit;color:inherit;font-size:inherit;font-family:inherit;line-height:inherit}.prose :where(pre code):not(:where([class~=not-prose],[class~=not-prose] *)):before{content:none}.prose :where(pre code):not(:where([class~=not-prose],[class~=not-prose] *)):after{content:none}.prose :where(table):not(:where([class~=not-prose],[class~=not-prose] *)){width:100%;table-layout:auto;margin-top:2em;margin-bottom:2em;font-size:.875em;line-height:1.7142857}.prose :where(thead):not(:where([class~=not-prose],[class~=not-prose] *)){border-bottom-width:1px;border-bottom-color:var(--tw-prose-th-borders)}.prose :where(thead th):not(:where([class~=not-prose],[class~=not-prose] *)){color:var(--tw-prose-headings);font-weight:600;vertical-align:bottom;padding-inline-end:.5714286em;padding-bottom:.5714286em;padding-inline-start:.5714286em}.prose :where(tbody tr):not(:where([class~=not-prose],[class~=not-prose] *)){border-bottom-width:1px;border-bottom-color:var(--tw-prose-td-borders)}.prose :where(tbody tr:last-child):not(:where([class~=not-prose],[class~=not-prose] *)){border-bottom-width:0}.prose :where(tbody td):not(:where([class~=not-prose],[class~=not-prose] *)){vertical-align:baseline}.prose :where(tfoot):not(:where([class~=not-prose],[class~=not-prose] *)){border-top-width:1px;border-top-color:var(--tw-prose-th-borders)}.prose :where(tfoot td):not(:where([class~=not-prose],[class~=not-prose] *)){vertical-align:top}.prose :where(th,td):not(:where([class~=not-prose],[class~=not-prose] *)){text-align:start}.prose :where(figure>*):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:0;margin-bottom:0}.prose :where(figcaption):not(:where([class~=not-prose],[class~=not-prose] *)){color:var(--tw-prose-captions);font-size:.875em;line-height:1.4285714;margin-top:.8571429em}.prose{--tw-prose-body: #374151;--tw-prose-headings: #111827;--tw-prose-lead: #4b5563;--tw-prose-links: #111827;--tw-prose-bold: #111827;--tw-prose-counters: #6b7280;--tw-prose-bullets: #d1d5db;--tw-prose-hr: #e5e7eb;--tw-prose-quotes: #111827;--tw-prose-quote-borders: #e5e7eb;--tw-prose-captions: #6b7280;--tw-prose-kbd: #111827;--tw-prose-kbd-shadows: rgb(17 24 39 / 10%);--tw-prose-code: #111827;--tw-prose-pre-code: #e5e7eb;--tw-prose-pre-bg: #1f2937;--tw-prose-th-borders: #d1d5db;--tw-prose-td-borders: #e5e7eb;--tw-prose-invert-body: #d1d5db;--tw-prose-invert-headings: #fff;--tw-prose-invert-lead: #9ca3af;--tw-prose-invert-links: #fff;--tw-prose-invert-bold: #fff;--tw-prose-invert-counters: #9ca3af;--tw-prose-invert-bullets: #4b5563;--tw-prose-invert-hr: #374151;--tw-prose-invert-quotes: #f3f4f6;--tw-prose-invert-quote-borders: #374151;--tw-prose-invert-captions: #9ca3af;--tw-prose-invert-kbd: #fff;--tw-prose-invert-kbd-shadows: rgb(255 255 255 / 10%);--tw-prose-invert-code: #fff;--tw-prose-invert-pre-code: #d1d5db;--tw-prose-invert-pre-bg: rgb(0 0 0 / 50%);--tw-prose-invert-th-borders: #4b5563;--tw-prose-invert-td-borders: #374151;font-size:1rem;line-height:1.75}.prose :where(picture>img):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:0;margin-bottom:0}.prose :where(li):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:.5em;margin-bottom:.5em}.prose :where(ol>li):not(:where([class~=not-prose],[class~=not-prose] *)){padding-inline-start:.375em}.prose :where(ul>li):not(:where([class~=not-prose],[class~=not-prose] *)){padding-inline-start:.375em}.prose :where(.prose>ul>li p):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:.75em;margin-bottom:.75em}.prose :where(.prose>ul>li>p:first-child):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:1.25em}.prose :where(.prose>ul>li>p:last-child):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:1.25em}.prose :where(.prose>ol>li>p:first-child):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:1.25em}.prose :where(.prose>ol>li>p:last-child):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:1.25em}.prose :where(ul ul,ul ol,ol ul,ol ol):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:.75em;margin-bottom:.75em}.prose :where(dl):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:1.25em;margin-bottom:1.25em}.prose :where(dd):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:.5em;padding-inline-start:1.625em}.prose :where(hr+*):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:0}.prose :where(h2+*):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:0}.prose :where(h3+*):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:0}.prose :where(h4+*):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:0}.prose :where(thead th:first-child):not(:where([class~=not-prose],[class~=not-prose] *)){padding-inline-start:0}.prose :where(thead th:last-child):not(:where([class~=not-prose],[class~=not-prose] *)){padding-inline-end:0}.prose :where(tbody td,tfoot td):not(:where([class~=not-prose],[class~=not-prose] *)){padding-top:.5714286em;padding-inline-end:.5714286em;padding-bottom:.5714286em;padding-inline-start:.5714286em}.prose :where(tbody td:first-child,tfoot td:first-child):not(:where([class~=not-prose],[class~=not-prose] *)){padding-inline-start:0}.prose :where(tbody td:last-child,tfoot td:last-child):not(:where([class~=not-prose],[class~=not-prose] *)){padding-inline-end:0}.prose :where(figure):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:2em;margin-bottom:2em}.prose :where(.prose>:first-child):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:0}.prose :where(.prose>:last-child):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:0}.prose-invert{--tw-prose-body: var(--tw-prose-invert-body);--tw-prose-headings: var(--tw-prose-invert-headings);--tw-prose-lead: var(--tw-prose-invert-lead);--tw-prose-links: var(--tw-prose-invert-links);--tw-prose-bold: var(--tw-prose-invert-bold);--tw-prose-counters: var(--tw-prose-invert-counters);--tw-prose-bullets: var(--tw-prose-invert-bullets);--tw-prose-hr: var(--tw-prose-invert-hr);--tw-prose-quotes: var(--tw-prose-invert-quotes);--tw-prose-quote-borders: var(--tw-prose-invert-quote-borders);--tw-prose-captions: var(--tw-prose-invert-captions);--tw-prose-kbd: var(--tw-prose-invert-kbd);--tw-prose-kbd-shadows: var(--tw-prose-invert-kbd-shadows);--tw-prose-code: var(--tw-prose-invert-code);--tw-prose-pre-code: var(--tw-prose-invert-pre-code);--tw-prose-pre-bg: var(--tw-prose-invert-pre-bg);--tw-prose-th-borders: var(--tw-prose-invert-th-borders);--tw-prose-td-borders: var(--tw-prose-invert-td-borders)}.pointer-events-none{pointer-events:none}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.sticky{position:sticky}.inset-0{inset:0}.bottom-0{bottom:0}.left-0{left:0}.left-3{left:.75rem}.right-0{right:0}.top-0{top:0}.top-1\\/2{top:50%}.top-16{top:4rem}.-z-10{z-index:-10}.z-10{z-index:10}.z-30{z-index:30}.z-40{z-index:40}.z-50{z-index:50}.mx-auto{margin-left:auto;margin-right:auto}.mb-1{margin-bottom:.25rem}.mb-2{margin-bottom:.5rem}.mb-3{margin-bottom:.75rem}.mb-4{margin-bottom:1rem}.mb-6{margin-bottom:1.5rem}.mb-8{margin-bottom:2rem}.ml-1{margin-left:.25rem}.ml-72{margin-left:18rem}.mr-1{margin-right:.25rem}.mr-80{margin-right:20rem}.mt-1{margin-top:.25rem}.mt-2{margin-top:.5rem}.mt-8{margin-top:2rem}.line-clamp-2{overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}.block{display:block}.flex{display:flex}.table{display:table}.grid{display:grid}.contents{display:contents}.hidden{display:none}.aspect-\\[2\\/3\\]{aspect-ratio:2/3}.h-1{height:.25rem}.h-1\\.5{height:.375rem}.h-10{height:2.5rem}.h-12{height:3rem}.h-16{height:4rem}.h-20{height:5rem}.h-24{height:6rem}.h-3\\.5{height:.875rem}.h-32{height:8rem}.h-4{height:1rem}.h-5{height:1.25rem}.h-6{height:1.5rem}.h-full{height:100%}.h-screen{height:100vh}.min-h-0{min-height:0px}.min-h-\\[2\\.5rem\\]{min-height:2.5rem}.min-h-screen{min-height:100vh}.w-10{width:2.5rem}.w-12{width:3rem}.w-16{width:4rem}.w-20{width:5rem}.w-24{width:6rem}.w-3\\.5{width:.875rem}.w-32{width:8rem}.w-4{width:1rem}.w-5{width:1.25rem}.w-6{width:1.5rem}.w-72{width:18rem}.w-80{width:20rem}.w-full{width:100%}.min-w-0{min-width:0px}.max-w-2xl{max-width:42rem}.max-w-7xl{max-width:80rem}.max-w-\\[200px\\]{max-width:200px}.max-w-full{max-width:100%}.max-w-none{max-width:none}.flex-1{flex:1 1 0%}.flex-shrink-0{flex-shrink:0}.-translate-y-1\\/2{--tw-translate-y: -50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.translate-y-full{--tw-translate-y: 100%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.scale-105{--tw-scale-x: 1.05;--tw-scale-y: 1.05;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}@keyframes spin{to{transform:rotate(360deg)}}.animate-spin{animation:spin 1s linear infinite}.cursor-pointer{cursor:pointer}.grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.flex-col{flex-direction:column}.items-start{align-items:flex-start}.items-center{align-items:center}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-0\\.5{gap:.125rem}.gap-1{gap:.25rem}.gap-1\\.5{gap:.375rem}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.space-x-1>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.25rem * var(--tw-space-x-reverse));margin-left:calc(.25rem * calc(1 - var(--tw-space-x-reverse)))}.space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.5rem * var(--tw-space-x-reverse));margin-left:calc(.5rem * calc(1 - var(--tw-space-x-reverse)))}.space-x-4>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(1rem * var(--tw-space-x-reverse));margin-left:calc(1rem * calc(1 - var(--tw-space-x-reverse)))}.space-y-1>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.25rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.25rem * var(--tw-space-y-reverse))}.space-y-3>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.75rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.75rem * var(--tw-space-y-reverse))}.overflow-hidden{overflow:hidden}.overflow-y-auto{overflow-y:auto}.overflow-x-hidden{overflow-x:hidden}.scroll-smooth{scroll-behavior:smooth}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.rounded{border-radius:.25rem}.rounded-2xl{border-radius:1rem}.rounded-3xl{border-radius:1.5rem}.rounded-full{border-radius:9999px}.rounded-lg{border-radius:.5rem}.rounded-xl{border-radius:.75rem}.border{border-width:1px}.border-4{border-width:4px}.border-b{border-bottom-width:1px}.border-l{border-left-width:1px}.border-r{border-right-width:1px}.border-t{border-top-width:1px}.border-dashed{border-style:dashed}.border-gray-200{--tw-border-opacity: 1;border-color:rgb(229 231 235 / var(--tw-border-opacity, 1))}.border-gray-300{--tw-border-opacity: 1;border-color:rgb(209 213 219 / var(--tw-border-opacity, 1))}.border-indigo-500{--tw-border-opacity: 1;border-color:rgb(99 102 241 / var(--tw-border-opacity, 1))}.bg-\\[\\#f4ecd8\\]{--tw-bg-opacity: 1;background-color:rgb(244 236 216 / var(--tw-bg-opacity, 1))}.bg-\\[\\#faf9f6\\]{--tw-bg-opacity: 1;background-color:rgb(250 249 246 / var(--tw-bg-opacity, 1))}.bg-black\\/50{background-color:#00000080}.bg-gray-100{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity, 1))}.bg-gray-200{--tw-bg-opacity: 1;background-color:rgb(229 231 235 / var(--tw-bg-opacity, 1))}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity, 1))}.bg-indigo-100{--tw-bg-opacity: 1;background-color:rgb(224 231 255 / var(--tw-bg-opacity, 1))}.bg-indigo-50{--tw-bg-opacity: 1;background-color:rgb(238 242 255 / var(--tw-bg-opacity, 1))}.bg-indigo-500\\/10{background-color:#6366f11a}.bg-indigo-600{--tw-bg-opacity: 1;background-color:rgb(79 70 229 / var(--tw-bg-opacity, 1))}.bg-purple-100{--tw-bg-opacity: 1;background-color:rgb(243 232 255 / var(--tw-bg-opacity, 1))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1))}.bg-white\\/80{background-color:#fffc}.bg-white\\/90{background-color:#ffffffe6}.bg-gradient-to-b{background-image:linear-gradient(to bottom,var(--tw-gradient-stops))}.bg-gradient-to-br{background-image:linear-gradient(to bottom right,var(--tw-gradient-stops))}.bg-gradient-to-r{background-image:linear-gradient(to right,var(--tw-gradient-stops))}.bg-gradient-to-t{background-image:linear-gradient(to top,var(--tw-gradient-stops))}.from-black\\/60{--tw-gradient-from: rgb(0 0 0 / .6) var(--tw-gradient-from-position);--tw-gradient-to: rgb(0 0 0 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-gray-50{--tw-gradient-from: #f9fafb var(--tw-gradient-from-position);--tw-gradient-to: rgb(249 250 251 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-indigo-100{--tw-gradient-from: #e0e7ff var(--tw-gradient-from-position);--tw-gradient-to: rgb(224 231 255 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-indigo-400{--tw-gradient-from: #818cf8 var(--tw-gradient-from-position);--tw-gradient-to: rgb(129 140 248 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-indigo-50{--tw-gradient-from: #eef2ff var(--tw-gradient-from-position);--tw-gradient-to: rgb(238 242 255 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-indigo-500{--tw-gradient-from: #6366f1 var(--tw-gradient-from-position);--tw-gradient-to: rgb(99 102 241 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-indigo-600{--tw-gradient-from: #4f46e5 var(--tw-gradient-from-position);--tw-gradient-to: rgb(79 70 229 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.via-transparent{--tw-gradient-to: rgb(0 0 0 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), transparent var(--tw-gradient-via-position), var(--tw-gradient-to)}.via-white{--tw-gradient-to: rgb(255 255 255 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), #fff var(--tw-gradient-via-position), var(--tw-gradient-to)}.to-gray-100{--tw-gradient-to: #f3f4f6 var(--tw-gradient-to-position)}.to-purple-100{--tw-gradient-to: #f3e8ff var(--tw-gradient-to-position)}.to-purple-50{--tw-gradient-to: #faf5ff var(--tw-gradient-to-position)}.to-purple-500{--tw-gradient-to: #a855f7 var(--tw-gradient-to-position)}.to-purple-600{--tw-gradient-to: #9333ea var(--tw-gradient-to-position)}.to-transparent{--tw-gradient-to: transparent var(--tw-gradient-to-position)}.bg-clip-text{-webkit-background-clip:text;background-clip:text}.object-contain{-o-object-fit:contain;object-fit:contain}.object-cover{-o-object-fit:cover;object-fit:cover}.p-12{padding:3rem}.p-16{padding:4rem}.p-2{padding:.5rem}.p-3{padding:.75rem}.p-4{padding:1rem}.p-6{padding:1.5rem}.px-2{padding-left:.5rem;padding-right:.5rem}.px-3{padding-left:.75rem;padding-right:.75rem}.px-4{padding-left:1rem;padding-right:1rem}.px-6{padding-left:1.5rem;padding-right:1.5rem}.px-8{padding-left:2rem;padding-right:2rem}.py-1\\.5{padding-top:.375rem;padding-bottom:.375rem}.py-16{padding-top:4rem;padding-bottom:4rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.py-6{padding-top:1.5rem;padding-bottom:1.5rem}.py-8{padding-top:2rem;padding-bottom:2rem}.pb-6{padding-bottom:1.5rem}.pl-10{padding-left:2.5rem}.pr-3{padding-right:.75rem}.text-left{text-align:left}.text-center{text-align:center}.text-2xl{font-size:1.5rem;line-height:2rem}.text-3xl{font-size:1.875rem;line-height:2.25rem}.text-4xl{font-size:2.25rem;line-height:2.5rem}.text-base{font-size:1rem;line-height:1.5rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.font-semibold{font-weight:600}.text-\\[\\#333333\\]{--tw-text-opacity: 1;color:rgb(51 51 51 / var(--tw-text-opacity, 1))}.text-\\[\\#5b4636\\]{--tw-text-opacity: 1;color:rgb(91 70 54 / var(--tw-text-opacity, 1))}.text-gray-100{--tw-text-opacity: 1;color:rgb(243 244 246 / var(--tw-text-opacity, 1))}.text-gray-400{--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity, 1))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity, 1))}.text-gray-600{--tw-text-opacity: 1;color:rgb(75 85 99 / var(--tw-text-opacity, 1))}.text-gray-900{--tw-text-opacity: 1;color:rgb(17 24 39 / var(--tw-text-opacity, 1))}.text-indigo-400{--tw-text-opacity: 1;color:rgb(129 140 248 / var(--tw-text-opacity, 1))}.text-indigo-600{--tw-text-opacity: 1;color:rgb(79 70 229 / var(--tw-text-opacity, 1))}.text-indigo-700{--tw-text-opacity: 1;color:rgb(67 56 202 / var(--tw-text-opacity, 1))}.text-purple-600{--tw-text-opacity: 1;color:rgb(147 51 234 / var(--tw-text-opacity, 1))}.text-red-600{--tw-text-opacity: 1;color:rgb(220 38 38 / var(--tw-text-opacity, 1))}.text-transparent{color:transparent}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.text-white\\/80{color:#fffc}.opacity-0{opacity:0}.opacity-25{opacity:.25}.opacity-5{opacity:.05}.opacity-75{opacity:.75}.shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-xl{--tw-shadow: 0 20px 25px -5px rgb(0 0 0 / .1), 0 8px 10px -6px rgb(0 0 0 / .1);--tw-shadow-colored: 0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.ring-4{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(4px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.ring-indigo-500{--tw-ring-opacity: 1;--tw-ring-color: rgb(99 102 241 / var(--tw-ring-opacity, 1))}.sepia{--tw-sepia: sepia(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.backdrop-blur-sm{--tw-backdrop-blur: blur(4px);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-colors{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-transform{transition-property:transform;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.duration-200{transition-duration:.2s}.duration-300{transition-duration:.3s}.scrollbar-thin{scrollbar-width:thin;scrollbar-color:#9ca3af transparent}.scrollbar-thin::-webkit-scrollbar{width:8px;height:8px}.scrollbar-thin::-webkit-scrollbar-track{background:transparent}.scrollbar-thin::-webkit-scrollbar-thumb{background-color:#9ca3af;border-radius:4px}.search-highlight{background-color:#fef08a;padding:0 2px;border-radius:2px;font-weight:500}.dark .search-highlight{background-color:#ca8a04;color:#fff}.search-highlight.active{background-color:#f97316;color:#fff;outline:2px solid #ea580c;outline-offset:1px}.hover\\:-translate-y-1:hover{--tw-translate-y: -.25rem;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.hover\\:border-indigo-400:hover{--tw-border-opacity: 1;border-color:rgb(129 140 248 / var(--tw-border-opacity, 1))}.hover\\:bg-gray-100:hover{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity, 1))}.hover\\:bg-indigo-700:hover{--tw-bg-opacity: 1;background-color:rgb(67 56 202 / var(--tw-bg-opacity, 1))}.hover\\:bg-red-100:hover{--tw-bg-opacity: 1;background-color:rgb(254 226 226 / var(--tw-bg-opacity, 1))}.hover\\:bg-white:hover{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1))}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-indigo-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(99 102 241 / var(--tw-ring-opacity, 1))}.disabled\\:cursor-not-allowed:disabled{cursor:not-allowed}.disabled\\:opacity-50:disabled{opacity:.5}.group:hover .group-hover\\:-translate-y-1{--tw-translate-y: -.25rem;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.group:hover .group-hover\\:translate-y-0{--tw-translate-y: 0px;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.group:hover .group-hover\\:scale-105{--tw-scale-x: 1.05;--tw-scale-y: 1.05;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.group:hover .group-hover\\:opacity-100{opacity:1}.group:hover .group-hover\\:shadow-2xl{--tw-shadow: 0 25px 50px -12px rgb(0 0 0 / .25);--tw-shadow-colored: 0 25px 50px -12px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.prose-headings\\:font-semibold :is(:where(h1,h2,h3,h4,h5,h6,th):not(:where([class~=not-prose],[class~=not-prose] *))){font-weight:600}.prose-p\\:mb-5 :is(:where(p):not(:where([class~=not-prose],[class~=not-prose] *))){margin-bottom:1.25rem}.prose-p\\:leading-loose :is(:where(p):not(:where([class~=not-prose],[class~=not-prose] *))){line-height:2}.prose-a\\:text-indigo-600 :is(:where(a):not(:where([class~=not-prose],[class~=not-prose] *))){--tw-text-opacity: 1;color:rgb(79 70 229 / var(--tw-text-opacity, 1))}.prose-img\\:rounded-lg :is(:where(img):not(:where([class~=not-prose],[class~=not-prose] *))){border-radius:.5rem}.dark\\:border-gray-600:is(.dark *){--tw-border-opacity: 1;border-color:rgb(75 85 99 / var(--tw-border-opacity, 1))}.dark\\:border-gray-700:is(.dark *){--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity, 1))}.dark\\:bg-gray-700:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(55 65 81 / var(--tw-bg-opacity, 1))}.dark\\:bg-gray-800:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity, 1))}.dark\\:bg-gray-800\\/90:is(.dark *){background-color:#1f2937e6}.dark\\:bg-gray-900\\/80:is(.dark *){background-color:#111827cc}.dark\\:bg-indigo-900:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(49 46 129 / var(--tw-bg-opacity, 1))}.dark\\:bg-indigo-900\\/20:is(.dark *){background-color:#312e8133}.dark\\:bg-purple-900\\/30:is(.dark *){background-color:#581c874d}.dark\\:from-gray-700\\/50:is(.dark *){--tw-gradient-from: rgb(55 65 81 / .5) var(--tw-gradient-from-position);--tw-gradient-to: rgb(55 65 81 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.dark\\:from-gray-900:is(.dark *){--tw-gradient-from: #111827 var(--tw-gradient-from-position);--tw-gradient-to: rgb(17 24 39 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.dark\\:from-indigo-400:is(.dark *){--tw-gradient-from: #818cf8 var(--tw-gradient-from-position);--tw-gradient-to: rgb(129 140 248 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.dark\\:from-indigo-600:is(.dark *){--tw-gradient-from: #4f46e5 var(--tw-gradient-from-position);--tw-gradient-to: rgb(79 70 229 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.dark\\:from-indigo-900\\/30:is(.dark *){--tw-gradient-from: rgb(49 46 129 / .3) var(--tw-gradient-from-position);--tw-gradient-to: rgb(49 46 129 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.dark\\:via-gray-800:is(.dark *){--tw-gradient-to: rgb(31 41 55 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), #1f2937 var(--tw-gradient-via-position), var(--tw-gradient-to)}.dark\\:to-gray-800\\/50:is(.dark *){--tw-gradient-to: rgb(31 41 55 / .5) var(--tw-gradient-to-position)}.dark\\:to-indigo-950:is(.dark *){--tw-gradient-to: #1e1b4b var(--tw-gradient-to-position)}.dark\\:to-purple-400:is(.dark *){--tw-gradient-to: #c084fc var(--tw-gradient-to-position)}.dark\\:to-purple-700:is(.dark *){--tw-gradient-to: #7e22ce var(--tw-gradient-to-position)}.dark\\:to-purple-900\\/30:is(.dark *){--tw-gradient-to: rgb(88 28 135 / .3) var(--tw-gradient-to-position)}.dark\\:text-gray-400:is(.dark *){--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity, 1))}.dark\\:text-gray-500:is(.dark *){--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity, 1))}.dark\\:text-gray-600:is(.dark *){--tw-text-opacity: 1;color:rgb(75 85 99 / var(--tw-text-opacity, 1))}.dark\\:text-indigo-300:is(.dark *){--tw-text-opacity: 1;color:rgb(165 180 252 / var(--tw-text-opacity, 1))}.dark\\:text-indigo-400:is(.dark *){--tw-text-opacity: 1;color:rgb(129 140 248 / var(--tw-text-opacity, 1))}.dark\\:text-indigo-500:is(.dark *){--tw-text-opacity: 1;color:rgb(99 102 241 / var(--tw-text-opacity, 1))}.dark\\:text-purple-400:is(.dark *){--tw-text-opacity: 1;color:rgb(192 132 252 / var(--tw-text-opacity, 1))}.dark\\:text-red-400:is(.dark *){--tw-text-opacity: 1;color:rgb(248 113 113 / var(--tw-text-opacity, 1))}.dark\\:text-white:is(.dark *){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.dark\\:hover\\:bg-gray-700:hover:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(55 65 81 / var(--tw-bg-opacity, 1))}.dark\\:hover\\:bg-gray-800:hover:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity, 1))}.dark\\:hover\\:bg-red-900\\/30:hover:is(.dark *){background-color:#7f1d1d4d}.dark\\:prose-a\\:text-indigo-400 :is(:where(a):not(:where([class~=not-prose],[class~=not-prose] *))):is(.dark *){--tw-text-opacity: 1;color:rgb(129 140 248 / var(--tw-text-opacity, 1))}@media (min-width: 640px){.sm\\:block{display:block}.sm\\:flex{display:flex}.sm\\:hidden{display:none}.sm\\:grid-cols-4{grid-template-columns:repeat(4,minmax(0,1fr))}}@media (min-width: 768px){.md\\:grid-cols-5{grid-template-columns:repeat(5,minmax(0,1fr))}}@media (min-width: 1024px){.lg\\:mb-8{margin-bottom:2rem}.lg\\:hidden{display:none}.lg\\:grid-cols-6{grid-template-columns:repeat(6,minmax(0,1fr))}.lg\\:gap-4{gap:1rem}.lg\\:p-8{padding:2rem}.lg\\:py-8{padding-top:2rem;padding-bottom:2rem}.lg\\:pb-8{padding-bottom:2rem}.lg\\:text-5xl{font-size:3rem;line-height:1}}@media (min-width: 1280px){.xl\\:grid-cols-7{grid-template-columns:repeat(7,minmax(0,1fr))}}@media (min-width: 1536px){.\\32xl\\:grid-cols-8{grid-template-columns:repeat(8,minmax(0,1fr))}}\n/*$vite$:1*/',document.head.appendChild(Zt);var Vt=typeof document!="undefined"?document.currentScript:null;function te(t,e){for(var r=0;r<e.length;r++){const a=e[r];if(typeof a!="string"&&!Array.isArray(a)){for(const i in a)if(i!=="default"&&!(i in t)){const n=Object.getOwnPropertyDescriptor(a,i);n&&Object.defineProperty(t,i,n.get?n:{enumerable:!0,get:()=>a[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}/**
* @vue/shared v3.5.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function he(t){const e=Object.create(null);for(const r of t.split(","))e[r]=1;return r=>r in e}const qt={},Se=[],ue=()=>{},_e=()=>!1,fe=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Ce=t=>t.startsWith("onUpdate:"),de=Object.assign,Sr=(t,e)=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)},Gn=Object.prototype.hasOwnProperty,$t=(t,e)=>Gn.call(t,e),Mt=Array.isArray,Cr=t=>cn(t)==="[object Map]",rs=t=>cn(t)==="[object Set]",Bt=t=>typeof t=="function",ae=t=>typeof t=="string",nr=t=>typeof t=="symbol",re=t=>t!==null&&typeof t=="object",ns=t=>(re(t)||Bt(t))&&Bt(t.then)&&Bt(t.catch),is=Object.prototype.toString,cn=t=>is.call(t),_a=t=>cn(t).slice(8,-1),ss=t=>cn(t)==="[object Object]",hn=t=>ae(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Ur=he(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),un=t=>{const e=Object.create(null);return r=>e[r]||(e[r]=t(r))},Ea=/-\w/g,ir=un(t=>t.replace(Ea,e=>e.slice(1).toUpperCase())),ka=/\B([A-Z])/g,pr=un(t=>t.replace(ka,"-$1").toLowerCase()),os=un(t=>t.charAt(0).toUpperCase()+t.slice(1)),Jn=un(t=>t?`on${os(t)}`:""),sr=(t,e)=>!Object.is(t,e),dn=(t,...e)=>{for(let r=0;r<t.length;r++)t[r](...e)},as=(t,e,r,a=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:a,value:r})},Qn=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let ls;const fn=()=>ls||(ls=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});function or(t){if(Mt(t)){const e={};for(let r=0;r<t.length;r++){const a=t[r],i=ae(a)?Oa(a):or(a);if(i)for(const n in i)e[n]=i[n]}return e}else if(ae(t)||re(t))return t}const Sa=/;(?![^(]*\))/g,Ca=/:([^]+)/,Ta=/\/\*[^]*?\*\//g;function Oa(t){const e={};return t.replace(Ta,"").split(Sa).forEach(r=>{if(r){const a=r.split(Ca);a.length>1&&(e[a[0].trim()]=a[1].trim())}}),e}function Qt(t){let e="";if(ae(t))e=t;else if(Mt(t))for(let r=0;r<t.length;r++){const a=Qt(t[r]);a&&(e+=a+" ")}else if(re(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}const Ia=he("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function cs(t){return!!t||t===""}const hs=t=>!!(t&&t.__v_isRef===!0),ie=t=>ae(t)?t:t==null?"":Mt(t)||re(t)&&(t.toString===is||!Bt(t.toString))?hs(t)?ie(t.value):JSON.stringify(t,us,2):String(t),us=(t,e)=>hs(e)?us(t,e.value):Cr(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[a,i],n)=>(r[ti(a,n)+" =>"]=i,r),{})}:rs(e)?{[`Set(${e.size})`]:[...e.values()].map(r=>ti(r))}:nr(e)?ti(e):re(e)&&!Mt(e)&&!ss(e)?String(e):e,ti=(t,e="")=>{var r;return nr(t)?`Symbol(${(r=t.description)!=null?r:e})`:t};/**
* @vue/reactivity v3.5.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let me;class ds{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=me,!e&&me&&(this.index=(me.scopes||(me.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].pause();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].resume();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].resume()}}run(e){if(this._active){const r=me;try{return me=this,e()}finally{me=r}}}on(){++this._on===1&&(this.prevScope=me,me=this)}off(){this._on>0&&--this._on===0&&(me=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let r,a;for(r=0,a=this.effects.length;r<a;r++)this.effects[r].stop();for(this.effects.length=0,r=0,a=this.cleanups.length;r<a;r++)this.cleanups[r]();if(this.cleanups.length=0,this.scopes){for(r=0,a=this.scopes.length;r<a;r++)this.scopes[r].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function fs(t){return new ds(t)}function ei(){return me}function ps(t,e=!1){me&&me.cleanups.push(t)}let ee;const ri=new WeakSet;class gs{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,me&&me.active&&me.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,ri.has(this)&&(ri.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||vs(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,_s(this),bs(this);const e=ee,r=Pe;ee=this,Pe=!0;try{return this.fn()}finally{ws(this),ee=e,Pe=r,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)oi(e);this.deps=this.depsTail=void 0,_s(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?ri.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){si(this)&&this.run()}get dirty(){return si(this)}}let ms=0,Fr,Wr;function vs(t,e=!1){if(t.flags|=8,e){t.next=Wr,Wr=t;return}t.next=Fr,Fr=t}function ni(){ms++}function ii(){if(--ms>0)return;if(Wr){let e=Wr;for(Wr=void 0;e;){const r=e.next;e.next=void 0,e.flags&=-9,e=r}}let t;for(;Fr;){let e=Fr;for(Fr=void 0;e;){const r=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(a){t||(t=a)}e=r}}if(t)throw t}function bs(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function ws(t){let e,r=t.depsTail,a=r;for(;a;){const i=a.prevDep;a.version===-1?(a===r&&(r=i),oi(a),Aa(a)):e=a,a.dep.activeLink=a.prevActiveLink,a.prevActiveLink=void 0,a=i}t.deps=e,t.depsTail=r}function si(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(ys(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function ys(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===$r)||(t.globalVersion=$r,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!si(t))))return;t.flags|=2;const e=t.dep,r=ee,a=Pe;ee=t,Pe=!0;try{bs(t);const i=t.fn(t._value);(e.version===0||sr(i,t._value))&&(t.flags|=128,t._value=i,e.version++)}catch(i){throw e.version++,i}finally{ee=r,Pe=a,ws(t),t.flags&=-3}}function oi(t,e=!1){const{dep:r,prevSub:a,nextSub:i}=t;if(a&&(a.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=a,t.nextSub=void 0),r.subs===t&&(r.subs=a,!a&&r.computed)){r.computed.flags&=-5;for(let n=r.computed.deps;n;n=n.nextDep)oi(n,!0)}!e&&!--r.sc&&r.map&&r.map.delete(r.key)}function Aa(t){const{prevDep:e,nextDep:r}=t;e&&(e.nextDep=r,t.prevDep=void 0),r&&(r.prevDep=e,t.nextDep=void 0)}let Pe=!0;const xs=[];function Ue(){xs.push(Pe),Pe=!1}function Fe(){const t=xs.pop();Pe=t===void 0?!0:t}function _s(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const r=ee;ee=void 0;try{e()}finally{ee=r}}}let $r=0;class Ra{constructor(e,r){this.sub=e,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class ai{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!ee||!Pe||ee===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==ee)r=this.activeLink=new Ra(ee,this),ee.deps?(r.prevDep=ee.depsTail,ee.depsTail.nextDep=r,ee.depsTail=r):ee.deps=ee.depsTail=r,Es(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const a=r.nextDep;a.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=a),r.prevDep=ee.depsTail,r.nextDep=void 0,ee.depsTail.nextDep=r,ee.depsTail=r,ee.deps===r&&(ee.deps=a)}return r}trigger(e){this.version++,$r++,this.notify(e)}notify(e){ni();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{ii()}}}function Es(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let a=e.deps;a;a=a.nextDep)Es(a)}const r=t.dep.subs;r!==t&&(t.prevSub=r,r&&(r.nextSub=t)),t.dep.subs=t}}const pn=new WeakMap,gr=Symbol(""),li=Symbol(""),Hr=Symbol("");function ve(t,e,r){if(Pe&&ee){let a=pn.get(t);a||pn.set(t,a=new Map);let i=a.get(r);i||(a.set(r,i=new ai),i.map=a,i.key=r),i.track()}}function Ye(t,e,r,a,i,n){const c=pn.get(t);if(!c){$r++;return}const d=u=>{u&&u.trigger()};if(ni(),e==="clear")c.forEach(d);else{const u=Mt(t),T=u&&hn(r);if(u&&r==="length"){const E=Number(a);c.forEach((y,o)=>{(o==="length"||o===Hr||!nr(o)&&o>=E)&&d(y)})}else switch((r!==void 0||c.has(void 0))&&d(c.get(r)),T&&d(c.get(Hr)),e){case"add":u?T&&d(c.get("length")):(d(c.get(gr)),Cr(t)&&d(c.get(li)));break;case"delete":u||(d(c.get(gr)),Cr(t)&&d(c.get(li)));break;case"set":Cr(t)&&d(c.get(gr));break}}ii()}function Na(t,e){const r=pn.get(t);return r&&r.get(e)}function Tr(t){const e=Kt(t);return e===t?e:(ve(e,"iterate",Hr),Te(t)?e:e.map(Me))}function gn(t){return ve(t=Kt(t),"iterate",Hr),t}function ar(t,e){return Ge(t)?Ze(t)?Or(Me(e)):Or(e):Me(e)}const Da={__proto__:null,[Symbol.iterator](){return ci(this,Symbol.iterator,t=>ar(this,t))},concat(...t){return Tr(this).concat(...t.map(e=>Mt(e)?Tr(e):e))},entries(){return ci(this,"entries",t=>(t[1]=ar(this,t[1]),t))},every(t,e){return Xe(this,"every",t,e,void 0,arguments)},filter(t,e){return Xe(this,"filter",t,e,r=>r.map(a=>ar(this,a)),arguments)},find(t,e){return Xe(this,"find",t,e,r=>ar(this,r),arguments)},findIndex(t,e){return Xe(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Xe(this,"findLast",t,e,r=>ar(this,r),arguments)},findLastIndex(t,e){return Xe(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Xe(this,"forEach",t,e,void 0,arguments)},includes(...t){return hi(this,"includes",t)},indexOf(...t){return hi(this,"indexOf",t)},join(t){return Tr(this).join(t)},lastIndexOf(...t){return hi(this,"lastIndexOf",t)},map(t,e){return Xe(this,"map",t,e,void 0,arguments)},pop(){return Vr(this,"pop")},push(...t){return Vr(this,"push",t)},reduce(t,...e){return ks(this,"reduce",t,e)},reduceRight(t,...e){return ks(this,"reduceRight",t,e)},shift(){return Vr(this,"shift")},some(t,e){return Xe(this,"some",t,e,void 0,arguments)},splice(...t){return Vr(this,"splice",t)},toReversed(){return Tr(this).toReversed()},toSorted(t){return Tr(this).toSorted(t)},toSpliced(...t){return Tr(this).toSpliced(...t)},unshift(...t){return Vr(this,"unshift",t)},values(){return ci(this,"values",t=>ar(this,t))}};function ci(t,e,r){const a=gn(t),i=a[e]();return a!==t&&!Te(t)&&(i._next=i.next,i.next=()=>{const n=i._next();return n.done||(n.value=r(n.value)),n}),i}const La=Array.prototype;function Xe(t,e,r,a,i,n){const c=gn(t),d=c!==t&&!Te(t),u=c[e];if(u!==La[e]){const y=u.apply(t,n);return d?Me(y):y}let T=r;c!==t&&(d?T=function(y,o){return r.call(this,ar(t,y),o,t)}:r.length>2&&(T=function(y,o){return r.call(this,y,o,t)}));const E=u.call(c,T,a);return d&&i?i(E):E}function ks(t,e,r,a){const i=gn(t);let n=r;return i!==t&&(Te(t)?r.length>3&&(n=function(c,d,u){return r.call(this,c,d,u,t)}):n=function(c,d,u){return r.call(this,c,ar(t,d),u,t)}),i[e](n,...a)}function hi(t,e,r){const a=Kt(t);ve(a,"iterate",Hr);const i=a[e](...r);return(i===-1||i===!1)&&xn(r[0])?(r[0]=Kt(r[0]),a[e](...r)):i}function Vr(t,e,r=[]){Ue(),ni();const a=Kt(t)[e].apply(t,r);return ii(),Fe(),a}const Pa=he("__proto__,__v_isRef,__isVue"),Ss=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(nr));function Ma(t){nr(t)||(t=String(t));const e=Kt(this);return ve(e,"has",t),e.hasOwnProperty(t)}class Cs{constructor(e=!1,r=!1){this._isReadonly=e,this._isShallow=r}get(e,r,a){if(r==="__v_skip")return e.__v_skip;const i=this._isReadonly,n=this._isShallow;if(r==="__v_isReactive")return!i;if(r==="__v_isReadonly")return i;if(r==="__v_isShallow")return n;if(r==="__v_raw")return a===(i?n?Ns:Rs:n?As:Is).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(a)?e:void 0;const c=Mt(e);if(!i){let u;if(c&&(u=Da[r]))return u;if(r==="hasOwnProperty")return Ma}const d=Reflect.get(e,r,ne(e)?e:a);if((nr(r)?Ss.has(r):Pa(r))||(i||ve(e,"get",r),n))return d;if(ne(d)){const u=c&&hn(r)?d:d.value;return i&&re(u)?wn(u):u}return re(d)?i?wn(d):qr(d):d}}class Ts extends Cs{constructor(e=!1){super(!1,e)}set(e,r,a,i){let n=e[r];const c=Mt(e)&&hn(r);if(!this._isShallow){const T=Ge(n);if(!Te(a)&&!Ge(a)&&(n=Kt(n),a=Kt(a)),!c&&ne(n)&&!ne(a))return T||(n.value=a),!0}const d=c?Number(r)<e.length:$t(e,r),u=Reflect.set(e,r,a,ne(e)?e:i);return e===Kt(i)&&(d?sr(a,n)&&Ye(e,"set",r,a):Ye(e,"add",r,a)),u}deleteProperty(e,r){const a=$t(e,r);e[r];const i=Reflect.deleteProperty(e,r);return i&&a&&Ye(e,"delete",r,void 0),i}has(e,r){const a=Reflect.has(e,r);return(!nr(r)||!Ss.has(r))&&ve(e,"has",r),a}ownKeys(e){return ve(e,"iterate",Mt(e)?"length":gr),Reflect.ownKeys(e)}}class Os extends Cs{constructor(e=!1){super(!0,e)}set(e,r){return!0}deleteProperty(e,r){return!0}}const za=new Ts,Ba=new Os,ja=new Ts(!0),Ua=new Os(!0),ui=t=>t,mn=t=>Reflect.getPrototypeOf(t);function Fa(t,e,r){return function(...a){const i=this.__v_raw,n=Kt(i),c=Cr(n),d=t==="entries"||t===Symbol.iterator&&c,u=t==="keys"&&c,T=i[t](...a),E=r?ui:e?Or:Me;return!e&&ve(n,"iterate",u?li:gr),{next(){const{value:y,done:o}=T.next();return o?{value:y,done:o}:{value:d?[E(y[0]),E(y[1])]:E(y),done:o}},[Symbol.iterator](){return this}}}}function vn(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Wa(t,e){const r={get(i){const n=this.__v_raw,c=Kt(n),d=Kt(i);t||(sr(i,d)&&ve(c,"get",i),ve(c,"get",d));const{has:u}=mn(c),T=e?ui:t?Or:Me;if(u.call(c,i))return T(n.get(i));if(u.call(c,d))return T(n.get(d));n!==c&&n.get(i)},get size(){const i=this.__v_raw;return!t&&ve(Kt(i),"iterate",gr),i.size},has(i){const n=this.__v_raw,c=Kt(n),d=Kt(i);return t||(sr(i,d)&&ve(c,"has",i),ve(c,"has",d)),i===d?n.has(i):n.has(i)||n.has(d)},forEach(i,n){const c=this,d=c.__v_raw,u=Kt(d),T=e?ui:t?Or:Me;return!t&&ve(u,"iterate",gr),d.forEach((E,y)=>i.call(n,T(E),T(y),c))}};return de(r,t?{add:vn("add"),set:vn("set"),delete:vn("delete"),clear:vn("clear")}:{add(i){!e&&!Te(i)&&!Ge(i)&&(i=Kt(i));const n=Kt(this);return mn(n).has.call(n,i)||(n.add(i),Ye(n,"add",i,i)),this},set(i,n){!e&&!Te(n)&&!Ge(n)&&(n=Kt(n));const c=Kt(this),{has:d,get:u}=mn(c);let T=d.call(c,i);T||(i=Kt(i),T=d.call(c,i));const E=u.call(c,i);return c.set(i,n),T?sr(n,E)&&Ye(c,"set",i,n):Ye(c,"add",i,n),this},delete(i){const n=Kt(this),{has:c,get:d}=mn(n);let u=c.call(n,i);u||(i=Kt(i),u=c.call(n,i)),d&&d.call(n,i);const T=n.delete(i);return u&&Ye(n,"delete",i,void 0),T},clear(){const i=Kt(this),n=i.size!==0,c=i.clear();return n&&Ye(i,"clear",void 0,void 0),c}}),["keys","values","entries",Symbol.iterator].forEach(i=>{r[i]=Fa(i,t,e)}),r}function bn(t,e){const r=Wa(t,e);return(a,i,n)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?a:Reflect.get($t(r,i)&&i in a?r:a,i,n)}const $a={get:bn(!1,!1)},Ha={get:bn(!1,!0)},Va={get:bn(!0,!1)},qa={get:bn(!0,!0)},Is=new WeakMap,As=new WeakMap,Rs=new WeakMap,Ns=new WeakMap;function Ka(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Ya(t){return t.__v_skip||!Object.isExtensible(t)?0:Ka(_a(t))}function qr(t){return Ge(t)?t:yn(t,!1,za,$a,Is)}function Xa(t){return yn(t,!1,ja,Ha,As)}function wn(t){return yn(t,!0,Ba,Va,Rs)}function uf(t){return yn(t,!0,Ua,qa,Ns)}function yn(t,e,r,a,i){if(!re(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const n=Ya(t);if(n===0)return t;const c=i.get(t);if(c)return c;const d=new Proxy(t,n===2?a:r);return i.set(t,d),d}function Ze(t){return Ge(t)?Ze(t.__v_raw):!!(t&&t.__v_isReactive)}function Ge(t){return!!(t&&t.__v_isReadonly)}function Te(t){return!!(t&&t.__v_isShallow)}function xn(t){return t?!!t.__v_raw:!1}function Kt(t){const e=t&&t.__v_raw;return e?Kt(e):t}function di(t){return!$t(t,"__v_skip")&&Object.isExtensible(t)&&as(t,"__v_skip",!0),t}const Me=t=>re(t)?qr(t):t,Or=t=>re(t)?wn(t):t;function ne(t){return t?t.__v_isRef===!0:!1}function Yt(t){return Ds(t,!1)}function Za(t){return Ds(t,!0)}function Ds(t,e){return ne(t)?t:new Ga(t,e)}class Ga{constructor(e,r){this.dep=new ai,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=r?e:Kt(e),this._value=r?e:Me(e),this.__v_isShallow=r}get value(){return this.dep.track(),this._value}set value(e){const r=this._rawValue,a=this.__v_isShallow||Te(e)||Ge(e);e=a?e:Kt(e),sr(e,r)&&(this._rawValue=e,this._value=a?e:Me(e),this.dep.trigger())}}function kt(t){return ne(t)?t.value:t}const Ja={get:(t,e,r)=>e==="__v_raw"?t:kt(Reflect.get(t,e,r)),set:(t,e,r,a)=>{const i=t[e];return ne(i)&&!ne(r)?(i.value=r,!0):Reflect.set(t,e,r,a)}};function Ls(t){return Ze(t)?t:new Proxy(t,Ja)}function Qa(t){const e=Mt(t)?new Array(t.length):{};for(const r in t)e[r]=el(t,r);return e}class tl{constructor(e,r,a){this._object=e,this._key=r,this._defaultValue=a,this.__v_isRef=!0,this._value=void 0,this._raw=Kt(e);let i=!0,n=e;if(!Mt(e)||!hn(String(r)))do i=!xn(n)||Te(n);while(i&&(n=n.__v_raw));this._shallow=i}get value(){let e=this._object[this._key];return this._shallow&&(e=kt(e)),this._value=e===void 0?this._defaultValue:e}set value(e){if(this._shallow&&ne(this._raw[this._key])){const r=this._object[this._key];if(ne(r)){r.value=e;return}}this._object[this._key]=e}get dep(){return Na(this._raw,this._key)}}function el(t,e,r){return new tl(t,e,r)}class rl{constructor(e,r,a){this.fn=e,this.setter=r,this._value=void 0,this.dep=new ai(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=$r-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!r,this.isSSR=a}notify(){if(this.flags|=16,!(this.flags&8)&&ee!==this)return vs(this,!0),!0}get value(){const e=this.dep.track();return ys(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function nl(t,e,r=!1){let a,i;return Bt(t)?a=t:(a=t.get,i=t.set),new rl(a,i,r)}const _n={},En=new WeakMap;let mr;function il(t,e=!1,r=mr){if(r){let a=En.get(r);a||En.set(r,a=[]),a.push(t)}}function sl(t,e,r=qt){const{immediate:a,deep:i,once:n,scheduler:c,augmentJob:d,call:u}=r,T=x=>i?x:Te(x)||i===!1||i===0?Je(x,1):Je(x);let E,y,o,l,b=!1,s=!1;if(ne(t)?(y=()=>t.value,b=Te(t)):Ze(t)?(y=()=>T(t),b=!0):Mt(t)?(s=!0,b=t.some(x=>Ze(x)||Te(x)),y=()=>t.map(x=>{if(ne(x))return x.value;if(Ze(x))return T(x);if(Bt(x))return u?u(x,2):x()})):Bt(t)?e?y=u?()=>u(t,2):t:y=()=>{if(o){Ue();try{o()}finally{Fe()}}const x=mr;mr=E;try{return u?u(t,3,[l]):t(l)}finally{mr=x}}:y=ue,e&&i){const x=y,_=i===!0?1/0:i;y=()=>Je(x(),_)}const v=ei(),g=()=>{E.stop(),v&&v.active&&Sr(v.effects,E)};if(n&&e){const x=e;e=(..._)=>{x(..._),g()}}let w=s?new Array(t.length).fill(_n):_n;const h=x=>{if(!(!(E.flags&1)||!E.dirty&&!x))if(e){const _=E.run();if(i||b||(s?_.some((f,k)=>sr(f,w[k])):sr(_,w))){o&&o();const f=mr;mr=E;try{const k=[_,w===_n?void 0:s&&w[0]===_n?[]:w,l];w=_,u?u(e,3,k):e(...k)}finally{mr=f}}}else E.run()};return d&&d(h),E=new gs(y),E.scheduler=c?()=>c(h,!1):h,l=x=>il(x,!1,E),o=E.onStop=()=>{const x=En.get(E);if(x){if(u)u(x,4);else for(const _ of x)_();En.delete(E)}},e?a?h(!0):w=E.run():c?c(h.bind(null,!0),!0):E.run(),g.pause=E.pause.bind(E),g.resume=E.resume.bind(E),g.stop=g,g}function Je(t,e=1/0,r){if(e<=0||!re(t)||t.__v_skip||(r=r||new Map,(r.get(t)||0)>=e))return t;if(r.set(t,e),e--,ne(t))Je(t.value,e,r);else if(Mt(t))for(let a=0;a<t.length;a++)Je(t[a],e,r);else if(rs(t)||Cr(t))t.forEach(a=>{Je(a,e,r)});else if(ss(t)){for(const a in t)Je(t[a],e,r);for(const a of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,a)&&Je(t[a],e,r)}return t}/**
* @vue/runtime-core v3.5.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Kr=[];let fi=!1;function df(t,...e){if(fi)return;fi=!0,Ue();const r=Kr.length?Kr[Kr.length-1].component:null,a=r&&r.appContext.config.warnHandler,i=ol();if(a)Ir(a,r,11,[t+e.map(n=>{var c,d;return(d=(c=n.toString)==null?void 0:c.call(n))!=null?d:JSON.stringify(n)}).join(""),r&&r.proxy,i.map(({vnode:n})=>`at <${Oo(r,n.type)}>`).join(`
`),i]);else{const n=[`[Vue warn]: ${t}`,...e];i.length&&n.push(`
`,...al(i)),console.warn(...n)}Fe(),fi=!1}function ol(){let t=Kr[Kr.length-1];if(!t)return[];const e=[];for(;t;){const r=e[0];r&&r.vnode===t?r.recurseCount++:e.push({vnode:t,recurseCount:0});const a=t.component&&t.component.parent;t=a&&a.vnode}return e}function al(t){const e=[];return t.forEach((r,a)=>{e.push(...a===0?[]:[`
`],...ll(r))}),e}function ll({vnode:t,recurseCount:e}){const r=e>0?`... (${e} recursive calls)`:"",a=t.component?t.component.parent==null:!1,i=` at <${Oo(t.component,t.type,a)}`,n=">"+r;return t.props?[i,...cl(t.props),n]:[i+n]}function cl(t){const e=[],r=Object.keys(t);return r.slice(0,3).forEach(a=>{e.push(...Ps(a,t[a]))}),r.length>3&&e.push(" ..."),e}function Ps(t,e,r){return ae(e)?(e=JSON.stringify(e),r?e:[`${t}=${e}`]):typeof e=="number"||typeof e=="boolean"||e==null?r?e:[`${t}=${e}`]:ne(e)?(e=Ps(t,Kt(e.value),!0),r?e:[`${t}=Ref<`,e,">"]):Bt(e)?[`${t}=fn${e.name?`<${e.name}>`:""}`]:(e=Kt(e),r?e:[`${t}=`,e])}function Ir(t,e,r,a){try{return a?t(...a):t()}catch(i){kn(i,e,r)}}function We(t,e,r,a){if(Bt(t)){const i=Ir(t,e,r,a);return i&&ns(i)&&i.catch(n=>{kn(n,e,r)}),i}if(Mt(t)){const i=[];for(let n=0;n<t.length;n++)i.push(We(t[n],e,r,a));return i}}function kn(t,e,r,a=!0){const i=e?e.vnode:null,{errorHandler:n,throwUnhandledErrorInProduction:c}=e&&e.appContext.config||qt;if(e){let d=e.parent;const u=e.proxy,T=`https://vuejs.org/error-reference/#runtime-${r}`;for(;d;){const E=d.ec;if(E){for(let y=0;y<E.length;y++)if(E[y](t,u,T)===!1)return}d=d.parent}if(n){Ue(),Ir(n,null,10,[t,u,T]),Fe();return}}hl(t,r,i,a,c)}function hl(t,e,r,a=!0,i=!1){if(i)throw t;console.error(t)}const be=[];let $e=-1;const Ar=[];let lr=null,Rr=0;const Ms=Promise.resolve();let Sn=null;function ze(t){const e=Sn||Ms;return t?e.then(this?t.bind(this):t):e}function ul(t){let e=$e+1,r=be.length;for(;e<r;){const a=e+r>>>1,i=be[a],n=Yr(i);n<t||n===t&&i.flags&2?e=a+1:r=a}return e}function pi(t){if(!(t.flags&1)){const e=Yr(t),r=be[be.length-1];!r||!(t.flags&2)&&e>=Yr(r)?be.push(t):be.splice(ul(e),0,t),t.flags|=1,zs()}}function zs(){Sn||(Sn=Ms.then(Us))}function dl(t){Mt(t)?Ar.push(...t):lr&&t.id===-1?lr.splice(Rr+1,0,t):t.flags&1||(Ar.push(t),t.flags|=1),zs()}function Bs(t,e,r=$e+1){for(;r<be.length;r++){const a=be[r];if(a&&a.flags&2){if(t&&a.id!==t.uid)continue;be.splice(r,1),r--,a.flags&4&&(a.flags&=-2),a(),a.flags&4||(a.flags&=-2)}}}function js(t){if(Ar.length){const e=[...new Set(Ar)].sort((r,a)=>Yr(r)-Yr(a));if(Ar.length=0,lr){lr.push(...e);return}for(lr=e,Rr=0;Rr<lr.length;Rr++){const r=lr[Rr];r.flags&4&&(r.flags&=-2),r.flags&8||r(),r.flags&=-2}lr=null,Rr=0}}const Yr=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Us(t){try{for($e=0;$e<be.length;$e++){const e=be[$e];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Ir(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;$e<be.length;$e++){const e=be[$e];e&&(e.flags&=-2)}$e=-1,be.length=0,js(),Sn=null,(be.length||Ar.length)&&Us()}}let Re=null,Fs=null;function Cn(t){const e=Re;return Re=t,Fs=t&&t.type.__scopeId||null,e}function fl(t,e=Re,r){if(!e||t._n)return t;const a=(...i)=>{a._d&&bo(-1);const n=Cn(e);let c;try{c=t(...i)}finally{Cn(n),a._d&&bo(1)}return c};return a._n=!0,a._c=!0,a._d=!0,a}function pl(t,e){if(Re===null)return t;const r=zn(Re),a=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[n,c,d,u=qt]=e[i];n&&(Bt(n)&&(n={mounted:n,updated:n}),n.deep&&Je(c),a.push({dir:n,instance:r,value:c,oldValue:void 0,arg:d,modifiers:u}))}return t}function vr(t,e,r,a){const i=t.dirs,n=e&&e.dirs;for(let c=0;c<i.length;c++){const d=i[c];n&&(d.oldValue=n[c].value);let u=d.dir[a];u&&(Ue(),We(u,r,8,[t.el,d,t,e]),Fe())}}function gl(t,e){if(xe){let r=xe.provides;const a=xe.parent&&xe.parent.provides;a===r&&(r=xe.provides=Object.create(a)),r[t]=e}}function Xr(t,e,r=!1){const a=Ci();if(a||wr){let i=wr?wr._context.provides:a?a.parent==null||a.ce?a.vnode.appContext&&a.vnode.appContext.provides:a.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return r&&Bt(e)?e.call(a&&a.proxy):e}}function ml(){return!!(Ci()||wr)}const vl=Symbol.for("v-scx"),bl=()=>Xr(vl);function wl(t,e){return gi(t,null,e)}function Be(t,e,r){return gi(t,e,r)}function gi(t,e,r=qt){const{immediate:a,deep:i,flush:n,once:c}=r,d=de({},r),u=e&&a||!e&&n!=="post";let T;if(sn){if(n==="sync"){const l=bl();T=l.__watcherHandles||(l.__watcherHandles=[])}else if(!u){const l=()=>{};return l.stop=ue,l.resume=ue,l.pause=ue,l}}const E=xe;d.call=(l,b,s)=>We(l,E,b,s);let y=!1;n==="post"?d.scheduler=l=>{Oe(l,E&&E.suspense)}:n!=="sync"&&(y=!0,d.scheduler=(l,b)=>{b?l():pi(l)}),d.augmentJob=l=>{e&&(l.flags|=4),y&&(l.flags|=2,E&&(l.id=E.uid,l.i=E))};const o=sl(t,e,d);return sn&&(T?T.push(o):u&&o()),o}function yl(t,e,r){const a=this.proxy,i=ae(t)?t.includes(".")?Ws(a,t):()=>a[t]:t.bind(a,a);let n;Bt(e)?n=e:(n=e.handler,r=e);const c=nn(this),d=gi(i,n.bind(a),r);return c(),d}function Ws(t,e){const r=e.split(".");return()=>{let a=t;for(let i=0;i<r.length&&a;i++)a=a[r[i]];return a}}const xl=Symbol("_vte"),_l=t=>t.__isTeleport,El=Symbol("_leaveCb");function mi(t,e){t.shapeFlag&6&&t.component?(t.transition=e,mi(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function br(t,e){return Bt(t)?de({name:t.name},e,{setup:t}):t}function $s(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const Tn=new WeakMap;function Zr(t,e,r,a,i=!1){if(Mt(t)){t.forEach((b,s)=>Zr(b,e&&(Mt(e)?e[s]:e),r,a,i));return}if(Gr(a)&&!i){a.shapeFlag&512&&a.type.__asyncResolved&&a.component.subTree.component&&Zr(t,e,r,a.component.subTree);return}const n=a.shapeFlag&4?zn(a.component):a.el,c=i?null:n,{i:d,r:u}=t,T=e&&e.r,E=d.refs===qt?d.refs={}:d.refs,y=d.setupState,o=Kt(y),l=y===qt?_e:b=>$t(o,b);if(T!=null&&T!==u){if(Hs(e),ae(T))E[T]=null,l(T)&&(y[T]=null);else if(ne(T)){T.value=null;const b=e;b.k&&(E[b.k]=null)}}if(Bt(u))Ir(u,d,12,[c,E]);else{const b=ae(u),s=ne(u);if(b||s){const v=()=>{if(t.f){const g=b?l(u)?y[u]:E[u]:u.value;if(i)Mt(g)&&Sr(g,n);else if(Mt(g))g.includes(n)||g.push(n);else if(b)E[u]=[n],l(u)&&(y[u]=E[u]);else{const w=[n];u.value=w,t.k&&(E[t.k]=w)}}else b?(E[u]=c,l(u)&&(y[u]=c)):s&&(u.value=c,t.k&&(E[t.k]=c))};if(c){const g=()=>{v(),Tn.delete(t)};g.id=-1,Tn.set(t,g),Oe(g,r)}else Hs(t),v()}}}function Hs(t){const e=Tn.get(t);e&&(e.flags|=8,Tn.delete(t))}fn().requestIdleCallback,fn().cancelIdleCallback;const Gr=t=>!!t.type.__asyncLoader,Vs=t=>t.type.__isKeepAlive;function kl(t,e){qs(t,"a",e)}function Sl(t,e){qs(t,"da",e)}function qs(t,e,r=xe){const a=t.__wdc||(t.__wdc=()=>{let i=r;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(On(e,a,r),r){let i=r.parent;for(;i&&i.parent;)Vs(i.parent.vnode)&&Cl(a,e,r,i),i=i.parent}}function Cl(t,e,r,a){const i=On(e,t,a,!0);Nr(()=>{Sr(a[e],i)},r)}function On(t,e,r=xe,a=!1){if(r){const i=r[t]||(r[t]=[]),n=e.__weh||(e.__weh=(...c)=>{Ue();const d=nn(r),u=We(e,r,t,c);return d(),Fe(),u});return a?i.unshift(n):i.push(n),n}}const Qe=t=>(e,r=xe)=>{(!sn||t==="sp")&&On(t,(...a)=>e(...a),r)},Tl=Qe("bm"),In=Qe("m"),Ol=Qe("bu"),Il=Qe("u"),Al=Qe("bum"),Nr=Qe("um"),Rl=Qe("sp"),Nl=Qe("rtg"),Dl=Qe("rtc");function Ll(t,e=xe){On("ec",t,e)}const Pl=Symbol.for("v-ndc");function An(t,e,r,a){let i;const n=r,c=Mt(t);if(c||ae(t)){const d=c&&Ze(t);let u=!1,T=!1;d&&(u=!Te(t),T=Ge(t),t=gn(t)),i=new Array(t.length);for(let E=0,y=t.length;E<y;E++)i[E]=e(u?T?Or(Me(t[E])):Me(t[E]):t[E],E,void 0,n)}else if(typeof t=="number"){i=new Array(t);for(let d=0;d<t;d++)i[d]=e(d+1,d,void 0,n)}else if(re(t))if(t[Symbol.iterator])i=Array.from(t,(d,u)=>e(d,u,void 0,n));else{const d=Object.keys(t);i=new Array(d.length);for(let u=0,T=d.length;u<T;u++){const E=d[u];i[u]=e(t[E],E,u,n)}}else i=[];return i}const vi=t=>t?So(t)?zn(t):vi(t.parent):null,Jr=de(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>vi(t.parent),$root:t=>vi(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Zs(t),$forceUpdate:t=>t.f||(t.f=()=>{pi(t.update)}),$nextTick:t=>t.n||(t.n=ze.bind(t.proxy)),$watch:t=>yl.bind(t)}),bi=(t,e)=>t!==qt&&!t.__isScriptSetup&&$t(t,e),Ml={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:r,setupState:a,data:i,props:n,accessCache:c,type:d,appContext:u}=t;if(e[0]!=="$"){const o=c[e];if(o!==void 0)switch(o){case 1:return a[e];case 2:return i[e];case 4:return r[e];case 3:return n[e]}else{if(bi(a,e))return c[e]=1,a[e];if(i!==qt&&$t(i,e))return c[e]=2,i[e];if($t(n,e))return c[e]=3,n[e];if(r!==qt&&$t(r,e))return c[e]=4,r[e];wi&&(c[e]=0)}}const T=Jr[e];let E,y;if(T)return e==="$attrs"&&ve(t.attrs,"get",""),T(t);if((E=d.__cssModules)&&(E=E[e]))return E;if(r!==qt&&$t(r,e))return c[e]=4,r[e];if(y=u.config.globalProperties,$t(y,e))return y[e]},set({_:t},e,r){const{data:a,setupState:i,ctx:n}=t;return bi(i,e)?(i[e]=r,!0):a!==qt&&$t(a,e)?(a[e]=r,!0):$t(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(n[e]=r,!0)},has({_:{data:t,setupState:e,accessCache:r,ctx:a,appContext:i,props:n,type:c}},d){let u;return!!(r[d]||t!==qt&&d[0]!=="$"&&$t(t,d)||bi(e,d)||$t(n,d)||$t(a,d)||$t(Jr,d)||$t(i.config.globalProperties,d)||(u=c.__cssModules)&&u[d])},defineProperty(t,e,r){return r.get!=null?t._.accessCache[e]=0:$t(r,"value")&&this.set(t,e,r.value,null),Reflect.defineProperty(t,e,r)}};function Ks(t){return Mt(t)?t.reduce((e,r)=>(e[r]=null,e),{}):t}let wi=!0;function zl(t){const e=Zs(t),r=t.proxy,a=t.ctx;wi=!1,e.beforeCreate&&Ys(e.beforeCreate,t,"bc");const{data:i,computed:n,methods:c,watch:d,provide:u,inject:T,created:E,beforeMount:y,mounted:o,beforeUpdate:l,updated:b,activated:s,deactivated:v,beforeDestroy:g,beforeUnmount:w,destroyed:h,unmounted:x,render:_,renderTracked:f,renderTriggered:k,errorCaptured:A,serverPrefetch:D,expose:C,inheritAttrs:R,components:I,directives:B,filters:O}=e;if(T&&Bl(T,a,null),c)for(const Y in c){const at=c[Y];Bt(at)&&(a[Y]=at.bind(r))}if(i){const Y=i.call(r,r);re(Y)&&(t.data=qr(Y))}if(wi=!0,n)for(const Y in n){const at=n[Y],rt=Bt(at)?at.bind(r,r):Bt(at.get)?at.get.bind(r,r):ue,ut=!Bt(at)&&Bt(at.set)?at.set.bind(r):ue,Z=je({get:rt,set:ut});Object.defineProperty(a,Y,{enumerable:!0,configurable:!0,get:()=>Z.value,set:et=>Z.value=et})}if(d)for(const Y in d)Xs(d[Y],a,r,Y);if(u){const Y=Bt(u)?u.call(r):u;Reflect.ownKeys(Y).forEach(at=>{gl(at,Y[at])})}E&&Ys(E,t,"c");function tt(Y,at){Mt(at)?at.forEach(rt=>Y(rt.bind(r))):at&&Y(at.bind(r))}if(tt(Tl,y),tt(In,o),tt(Ol,l),tt(Il,b),tt(kl,s),tt(Sl,v),tt(Ll,A),tt(Dl,f),tt(Nl,k),tt(Al,w),tt(Nr,x),tt(Rl,D),Mt(C))if(C.length){const Y=t.exposed||(t.exposed={});C.forEach(at=>{Object.defineProperty(Y,at,{get:()=>r[at],set:rt=>r[at]=rt,enumerable:!0})})}else t.exposed||(t.exposed={});_&&t.render===ue&&(t.render=_),R!=null&&(t.inheritAttrs=R),I&&(t.components=I),B&&(t.directives=B),D&&$s(t)}function Bl(t,e,r=ue){Mt(t)&&(t=yi(t));for(const a in t){const i=t[a];let n;re(i)?"default"in i?n=Xr(i.from||a,i.default,!0):n=Xr(i.from||a):n=Xr(i),ne(n)?Object.defineProperty(e,a,{enumerable:!0,configurable:!0,get:()=>n.value,set:c=>n.value=c}):e[a]=n}}function Ys(t,e,r){We(Mt(t)?t.map(a=>a.bind(e.proxy)):t.bind(e.proxy),e,r)}function Xs(t,e,r,a){let i=a.includes(".")?Ws(r,a):()=>r[a];if(ae(t)){const n=e[t];Bt(n)&&Be(i,n)}else if(Bt(t))Be(i,t.bind(r));else if(re(t))if(Mt(t))t.forEach(n=>Xs(n,e,r,a));else{const n=Bt(t.handler)?t.handler.bind(r):e[t.handler];Bt(n)&&Be(i,n,t)}}function Zs(t){const e=t.type,{mixins:r,extends:a}=e,{mixins:i,optionsCache:n,config:{optionMergeStrategies:c}}=t.appContext,d=n.get(e);let u;return d?u=d:!i.length&&!r&&!a?u=e:(u={},i.length&&i.forEach(T=>Rn(u,T,c,!0)),Rn(u,e,c)),re(e)&&n.set(e,u),u}function Rn(t,e,r,a=!1){const{mixins:i,extends:n}=e;n&&Rn(t,n,r,!0),i&&i.forEach(c=>Rn(t,c,r,!0));for(const c in e)if(!(a&&c==="expose")){const d=jl[c]||r&&r[c];t[c]=d?d(t[c],e[c]):e[c]}return t}const jl={data:Gs,props:Js,emits:Js,methods:Qr,computed:Qr,beforeCreate:we,created:we,beforeMount:we,mounted:we,beforeUpdate:we,updated:we,beforeDestroy:we,beforeUnmount:we,destroyed:we,unmounted:we,activated:we,deactivated:we,errorCaptured:we,serverPrefetch:we,components:Qr,directives:Qr,watch:Fl,provide:Gs,inject:Ul};function Gs(t,e){return e?t?function(){return de(Bt(t)?t.call(this,this):t,Bt(e)?e.call(this,this):e)}:e:t}function Ul(t,e){return Qr(yi(t),yi(e))}function yi(t){if(Mt(t)){const e={};for(let r=0;r<t.length;r++)e[t[r]]=t[r];return e}return t}function we(t,e){return t?[...new Set([].concat(t,e))]:e}function Qr(t,e){return t?de(Object.create(null),t,e):e}function Js(t,e){return t?Mt(t)&&Mt(e)?[...new Set([...t,...e])]:de(Object.create(null),Ks(t),Ks(e!=null?e:{})):e}function Fl(t,e){if(!t)return e;if(!e)return t;const r=de(Object.create(null),t);for(const a in e)r[a]=we(t[a],e[a]);return r}function Qs(){return{app:null,config:{isNativeTag:_e,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Wl=0;function $l(t,e){return function(a,i=null){Bt(a)||(a=de({},a)),i!=null&&!re(i)&&(i=null);const n=Qs(),c=new WeakSet,d=[];let u=!1;const T=n.app={_uid:Wl++,_component:a,_props:i,_container:null,_context:n,_instance:null,version:kc,get config(){return n.config},set config(E){},use(E,...y){return c.has(E)||(E&&Bt(E.install)?(c.add(E),E.install(T,...y)):Bt(E)&&(c.add(E),E(T,...y))),T},mixin(E){return n.mixins.includes(E)||n.mixins.push(E),T},component(E,y){return y?(n.components[E]=y,T):n.components[E]},directive(E,y){return y?(n.directives[E]=y,T):n.directives[E]},mount(E,y,o){if(!u){const l=T._ceVNode||ye(a,i);return l.appContext=n,o===!0?o="svg":o===!1&&(o=void 0),t(l,E,o),u=!0,T._container=E,E.__vue_app__=T,zn(l.component)}},onUnmount(E){d.push(E)},unmount(){u&&(We(d,T._instance,16),t(null,T._container),delete T._container.__vue_app__)},provide(E,y){return n.provides[E]=y,T},runWithContext(E){const y=wr;wr=T;try{return E()}finally{wr=y}}};return T}}let wr=null;const Hl=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${ir(e)}Modifiers`]||t[`${pr(e)}Modifiers`];function Vl(t,e,...r){if(t.isUnmounted)return;const a=t.vnode.props||qt;let i=r;const n=e.startsWith("update:"),c=n&&Hl(a,e.slice(7));c&&(c.trim&&(i=r.map(E=>ae(E)?E.trim():E)),c.number&&(i=r.map(Qn)));let d,u=a[d=Jn(e)]||a[d=Jn(ir(e))];!u&&n&&(u=a[d=Jn(pr(e))]),u&&We(u,t,6,i);const T=a[d+"Once"];if(T){if(!t.emitted)t.emitted={};else if(t.emitted[d])return;t.emitted[d]=!0,We(T,t,6,i)}}const ql=new WeakMap;function to(t,e,r=!1){const a=r?ql:e.emitsCache,i=a.get(t);if(i!==void 0)return i;const n=t.emits;let c={},d=!1;if(!Bt(t)){const u=T=>{const E=to(T,e,!0);E&&(d=!0,de(c,E))};!r&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}return!n&&!d?(re(t)&&a.set(t,null),null):(Mt(n)?n.forEach(u=>c[u]=null):de(c,n),re(t)&&a.set(t,c),c)}function Nn(t,e){return!t||!fe(e)?!1:(e=e.slice(2).replace(/Once$/,""),$t(t,e[0].toLowerCase()+e.slice(1))||$t(t,pr(e))||$t(t,e))}function ff(){}function eo(t){const{type:e,vnode:r,proxy:a,withProxy:i,propsOptions:[n],slots:c,attrs:d,emit:u,render:T,renderCache:E,props:y,data:o,setupState:l,ctx:b,inheritAttrs:s}=t,v=Cn(t);let g,w;try{if(r.shapeFlag&4){const x=i||a,_=x;g=He(T.call(_,x,E,y,l,o,b)),w=d}else{const x=e;g=He(x.length>1?x(y,{attrs:d,slots:c,emit:u}):x(y,null)),w=e.props?d:Kl(d)}}catch(x){tn.length=0,kn(x,t,1),g=ye(cr)}let h=g;if(w&&s!==!1){const x=Object.keys(w),{shapeFlag:_}=h;x.length&&_&7&&(n&&x.some(Ce)&&(w=Yl(w,n)),h=Dr(h,w,!1,!0))}return r.dirs&&(h=Dr(h,null,!1,!0),h.dirs=h.dirs?h.dirs.concat(r.dirs):r.dirs),r.transition&&mi(h,r.transition),g=h,Cn(v),g}const Kl=t=>{let e;for(const r in t)(r==="class"||r==="style"||fe(r))&&((e||(e={}))[r]=t[r]);return e},Yl=(t,e)=>{const r={};for(const a in t)(!Ce(a)||!(a.slice(9)in e))&&(r[a]=t[a]);return r};function Xl(t,e,r){const{props:a,children:i,component:n}=t,{props:c,children:d,patchFlag:u}=e,T=n.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&u>=0){if(u&1024)return!0;if(u&16)return a?ro(a,c,T):!!c;if(u&8){const E=e.dynamicProps;for(let y=0;y<E.length;y++){const o=E[y];if(c[o]!==a[o]&&!Nn(T,o))return!0}}}else return(i||d)&&(!d||!d.$stable)?!0:a===c?!1:a?c?ro(a,c,T):!0:!!c;return!1}function ro(t,e,r){const a=Object.keys(e);if(a.length!==Object.keys(t).length)return!0;for(let i=0;i<a.length;i++){const n=a[i];if(e[n]!==t[n]&&!Nn(r,n))return!0}return!1}function Zl({vnode:t,parent:e},r){for(;e;){const a=e.subTree;if(a.suspense&&a.suspense.activeBranch===t&&(a.el=t.el),a===t)(t=e.vnode).el=r,e=e.parent;else break}}const no={},io=()=>Object.create(no),so=t=>Object.getPrototypeOf(t)===no;function Gl(t,e,r,a=!1){const i={},n=io();t.propsDefaults=Object.create(null),oo(t,e,i,n);for(const c in t.propsOptions[0])c in i||(i[c]=void 0);r?t.props=a?i:Xa(i):t.type.props?t.props=i:t.props=n,t.attrs=n}function Jl(t,e,r,a){const{props:i,attrs:n,vnode:{patchFlag:c}}=t,d=Kt(i),[u]=t.propsOptions;let T=!1;if((a||c>0)&&!(c&16)){if(c&8){const E=t.vnode.dynamicProps;for(let y=0;y<E.length;y++){let o=E[y];if(Nn(t.emitsOptions,o))continue;const l=e[o];if(u)if($t(n,o))l!==n[o]&&(n[o]=l,T=!0);else{const b=ir(o);i[b]=xi(u,d,b,l,t,!1)}else l!==n[o]&&(n[o]=l,T=!0)}}}else{oo(t,e,i,n)&&(T=!0);let E;for(const y in d)(!e||!$t(e,y)&&((E=pr(y))===y||!$t(e,E)))&&(u?r&&(r[y]!==void 0||r[E]!==void 0)&&(i[y]=xi(u,d,y,void 0,t,!0)):delete i[y]);if(n!==d)for(const y in n)(!e||!$t(e,y))&&(delete n[y],T=!0)}T&&Ye(t.attrs,"set","")}function oo(t,e,r,a){const[i,n]=t.propsOptions;let c=!1,d;if(e)for(let u in e){if(Ur(u))continue;const T=e[u];let E;i&&$t(i,E=ir(u))?!n||!n.includes(E)?r[E]=T:(d||(d={}))[E]=T:Nn(t.emitsOptions,u)||(!(u in a)||T!==a[u])&&(a[u]=T,c=!0)}if(n){const u=Kt(r),T=d||qt;for(let E=0;E<n.length;E++){const y=n[E];r[y]=xi(i,u,y,T[y],t,!$t(T,y))}}return c}function xi(t,e,r,a,i,n){const c=t[r];if(c!=null){const d=$t(c,"default");if(d&&a===void 0){const u=c.default;if(c.type!==Function&&!c.skipFactory&&Bt(u)){const{propsDefaults:T}=i;if(r in T)a=T[r];else{const E=nn(i);a=T[r]=u.call(null,e),E()}}else a=u;i.ce&&i.ce._setProp(r,a)}c[0]&&(n&&!d?a=!1:c[1]&&(a===""||a===pr(r))&&(a=!0))}return a}const Ql=new WeakMap;function ao(t,e,r=!1){const a=r?Ql:e.propsCache,i=a.get(t);if(i)return i;const n=t.props,c={},d=[];let u=!1;if(!Bt(t)){const E=y=>{u=!0;const[o,l]=ao(y,e,!0);de(c,o),l&&d.push(...l)};!r&&e.mixins.length&&e.mixins.forEach(E),t.extends&&E(t.extends),t.mixins&&t.mixins.forEach(E)}if(!n&&!u)return re(t)&&a.set(t,Se),Se;if(Mt(n))for(let E=0;E<n.length;E++){const y=ir(n[E]);lo(y)&&(c[y]=qt)}else if(n)for(const E in n){const y=ir(E);if(lo(y)){const o=n[E],l=c[y]=Mt(o)||Bt(o)?{type:o}:de({},o),b=l.type;let s=!1,v=!0;if(Mt(b))for(let g=0;g<b.length;++g){const w=b[g],h=Bt(w)&&w.name;if(h==="Boolean"){s=!0;break}else h==="String"&&(v=!1)}else s=Bt(b)&&b.name==="Boolean";l[0]=s,l[1]=v,(s||$t(l,"default"))&&d.push(y)}}const T=[c,d];return re(t)&&a.set(t,T),T}function lo(t){return t[0]!=="$"&&!Ur(t)}const _i=t=>t==="_"||t==="_ctx"||t==="$stable",Ei=t=>Mt(t)?t.map(He):[He(t)],tc=(t,e,r)=>{if(e._n)return e;const a=fl((...i)=>Ei(e(...i)),r);return a._c=!1,a},co=(t,e,r)=>{const a=t._ctx;for(const i in t){if(_i(i))continue;const n=t[i];if(Bt(n))e[i]=tc(i,n,a);else if(n!=null){const c=Ei(n);e[i]=()=>c}}},ho=(t,e)=>{const r=Ei(e);t.slots.default=()=>r},uo=(t,e,r)=>{for(const a in e)(r||!_i(a))&&(t[a]=e[a])},ec=(t,e,r)=>{const a=t.slots=io();if(t.vnode.shapeFlag&32){const i=e._;i?(uo(a,e,r),r&&as(a,"_",i,!0)):co(e,a)}else e&&ho(t,e)},rc=(t,e,r)=>{const{vnode:a,slots:i}=t;let n=!0,c=qt;if(a.shapeFlag&32){const d=e._;d?r&&d===1?n=!1:uo(i,e,r):(n=!e.$stable,co(e,i)),c=e}else e&&(ho(t,e),c={default:1});if(n)for(const d in i)!_i(d)&&c[d]==null&&delete i[d]},Oe=ac;function nc(t){return ic(t)}function ic(t,e){const r=fn();r.__VUE__=!0;const{insert:a,remove:i,patchProp:n,createElement:c,createText:d,createComment:u,setText:T,setElementText:E,parentNode:y,nextSibling:o,setScopeId:l=ue,insertStaticContent:b}=t,s=(K,it,m,U=null,j=null,N=null,P=void 0,W=null,G=!!it.dynamicChildren)=>{if(K===it)return;K&&!rn(K,it)&&(U=St(K),et(K,j,N,!0),K=null),it.patchFlag===-2&&(G=!1,it.dynamicChildren=null);const{type:q,ref:p,shapeFlag:S}=it;switch(q){case Dn:v(K,it,m,U);break;case cr:g(K,it,m,U);break;case Ln:K==null&&w(it,m,U,P);break;case Ee:I(K,it,m,U,j,N,P,W,G);break;default:S&1?_(K,it,m,U,j,N,P,W,G):S&6?B(K,it,m,U,j,N,P,W,G):(S&64||S&128)&&q.process(K,it,m,U,j,N,P,W,G,Dt)}p!=null&&j?Zr(p,K&&K.ref,N,it||K,!it):p==null&&K&&K.ref!=null&&Zr(K.ref,null,N,K,!0)},v=(K,it,m,U)=>{if(K==null)a(it.el=d(it.children),m,U);else{const j=it.el=K.el;it.children!==K.children&&T(j,it.children)}},g=(K,it,m,U)=>{K==null?a(it.el=u(it.children||""),m,U):it.el=K.el},w=(K,it,m,U)=>{[K.el,K.anchor]=b(K.children,it,m,U,K.el,K.anchor)},h=({el:K,anchor:it},m,U)=>{let j;for(;K&&K!==it;)j=o(K),a(K,m,U),K=j;a(it,m,U)},x=({el:K,anchor:it})=>{let m;for(;K&&K!==it;)m=o(K),i(K),K=m;i(it)},_=(K,it,m,U,j,N,P,W,G)=>{if(it.type==="svg"?P="svg":it.type==="math"&&(P="mathml"),K==null)f(it,m,U,j,N,P,W,G);else{const q=K.el&&K.el._isVueCE?K.el:null;try{q&&q._beginPatch(),D(K,it,j,N,P,W,G)}finally{q&&q._endPatch()}}},f=(K,it,m,U,j,N,P,W)=>{let G,q;const{props:p,shapeFlag:S,transition:L,dirs:M}=K;if(G=K.el=c(K.type,N,p&&p.is,p),S&8?E(G,K.children):S&16&&A(K.children,G,null,U,j,ki(K,N),P,W),M&&vr(K,null,U,"created"),k(G,K,K.scopeId,P,U),p){for(const J in p)J!=="value"&&!Ur(J)&&n(G,J,null,p[J],N,U);"value"in p&&n(G,"value",null,p.value,N),(q=p.onVnodeBeforeMount)&&Ve(q,U,K)}M&&vr(K,null,U,"beforeMount");const X=sc(j,L);X&&L.beforeEnter(G),a(G,it,m),((q=p&&p.onVnodeMounted)||X||M)&&Oe(()=>{q&&Ve(q,U,K),X&&L.enter(G),M&&vr(K,null,U,"mounted")},j)},k=(K,it,m,U,j)=>{if(m&&l(K,m),U)for(let N=0;N<U.length;N++)l(K,U[N]);if(j){let N=j.subTree;if(it===N||vo(N.type)&&(N.ssContent===it||N.ssFallback===it)){const P=j.vnode;k(K,P,P.scopeId,P.slotScopeIds,j.parent)}}},A=(K,it,m,U,j,N,P,W,G=0)=>{for(let q=G;q<K.length;q++){const p=K[q]=W?hr(K[q]):He(K[q]);s(null,p,it,m,U,j,N,P,W)}},D=(K,it,m,U,j,N,P)=>{const W=it.el=K.el;let{patchFlag:G,dynamicChildren:q,dirs:p}=it;G|=K.patchFlag&16;const S=K.props||qt,L=it.props||qt;let M;if(m&&yr(m,!1),(M=L.onVnodeBeforeUpdate)&&Ve(M,m,it,K),p&&vr(it,K,m,"beforeUpdate"),m&&yr(m,!0),(S.innerHTML&&L.innerHTML==null||S.textContent&&L.textContent==null)&&E(W,""),q?C(K.dynamicChildren,q,W,m,U,ki(it,j),N):P||at(K,it,W,null,m,U,ki(it,j),N,!1),G>0){if(G&16)R(W,S,L,m,j);else if(G&2&&S.class!==L.class&&n(W,"class",null,L.class,j),G&4&&n(W,"style",S.style,L.style,j),G&8){const X=it.dynamicProps;for(let J=0;J<X.length;J++){const lt=X[J],vt=S[lt],Tt=L[lt];(Tt!==vt||lt==="value")&&n(W,lt,vt,Tt,j,m)}}G&1&&K.children!==it.children&&E(W,it.children)}else!P&&q==null&&R(W,S,L,m,j);((M=L.onVnodeUpdated)||p)&&Oe(()=>{M&&Ve(M,m,it,K),p&&vr(it,K,m,"updated")},U)},C=(K,it,m,U,j,N,P)=>{for(let W=0;W<it.length;W++){const G=K[W],q=it[W],p=G.el&&(G.type===Ee||!rn(G,q)||G.shapeFlag&198)?y(G.el):m;s(G,q,p,null,U,j,N,P,!0)}},R=(K,it,m,U,j)=>{if(it!==m){if(it!==qt)for(const N in it)!Ur(N)&&!(N in m)&&n(K,N,it[N],null,j,U);for(const N in m){if(Ur(N))continue;const P=m[N],W=it[N];P!==W&&N!=="value"&&n(K,N,W,P,j,U)}"value"in m&&n(K,"value",it.value,m.value,j)}},I=(K,it,m,U,j,N,P,W,G)=>{const q=it.el=K?K.el:d(""),p=it.anchor=K?K.anchor:d("");let{patchFlag:S,dynamicChildren:L,slotScopeIds:M}=it;M&&(W=W?W.concat(M):M),K==null?(a(q,m,U),a(p,m,U),A(it.children||[],m,p,j,N,P,W,G)):S>0&&S&64&&L&&K.dynamicChildren&&K.dynamicChildren.length===L.length?(C(K.dynamicChildren,L,m,j,N,P,W),(it.key!=null||j&&it===j.subTree)&&fo(K,it,!0)):at(K,it,m,p,j,N,P,W,G)},B=(K,it,m,U,j,N,P,W,G)=>{it.slotScopeIds=W,K==null?it.shapeFlag&512?j.ctx.activate(it,m,U,P,G):O(it,m,U,j,N,P,G):H(K,it,G)},O=(K,it,m,U,j,N,P)=>{const W=K.component=gc(K,U,j);if(Vs(K)&&(W.ctx.renderer=Dt),mc(W,!1,P),W.asyncDep){if(j&&j.registerDep(W,tt,P),!K.el){const G=W.subTree=ye(cr);g(null,G,it,m),K.placeholder=G.el}}else tt(W,K,it,m,j,N,P)},H=(K,it,m)=>{const U=it.component=K.component;if(Xl(K,it,m))if(U.asyncDep&&!U.asyncResolved){Y(U,it,m);return}else U.next=it,U.update();else it.el=K.el,U.vnode=it},tt=(K,it,m,U,j,N,P)=>{const W=()=>{if(K.isMounted){let{next:S,bu:L,u:M,parent:X,vnode:J}=K;{const Lt=po(K);if(Lt){S&&(S.el=J.el,Y(K,S,P)),Lt.asyncDep.then(()=>{K.isUnmounted||W()});return}}let lt=S,vt;yr(K,!1),S?(S.el=J.el,Y(K,S,P)):S=J,L&&dn(L),(vt=S.props&&S.props.onVnodeBeforeUpdate)&&Ve(vt,X,S,J),yr(K,!0);const Tt=eo(K),At=K.subTree;K.subTree=Tt,s(At,Tt,y(At.el),St(At),K,j,N),S.el=Tt.el,lt===null&&Zl(K,Tt.el),M&&Oe(M,j),(vt=S.props&&S.props.onVnodeUpdated)&&Oe(()=>Ve(vt,X,S,J),j)}else{let S;const{el:L,props:M}=it,{bm:X,m:J,parent:lt,root:vt,type:Tt}=K,At=Gr(it);yr(K,!1),X&&dn(X),!At&&(S=M&&M.onVnodeBeforeMount)&&Ve(S,lt,it),yr(K,!0);{vt.ce&&vt.ce._def.shadowRoot!==!1&&vt.ce._injectChildStyle(Tt);const Lt=K.subTree=eo(K);s(null,Lt,m,U,K,j,N),it.el=Lt.el}if(J&&Oe(J,j),!At&&(S=M&&M.onVnodeMounted)){const Lt=it;Oe(()=>Ve(S,lt,Lt),j)}(it.shapeFlag&256||lt&&Gr(lt.vnode)&&lt.vnode.shapeFlag&256)&&K.a&&Oe(K.a,j),K.isMounted=!0,it=m=U=null}};K.scope.on();const G=K.effect=new gs(W);K.scope.off();const q=K.update=G.run.bind(G),p=K.job=G.runIfDirty.bind(G);p.i=K,p.id=K.uid,G.scheduler=()=>pi(p),yr(K,!0),q()},Y=(K,it,m)=>{it.component=K;const U=K.vnode.props;K.vnode=it,K.next=null,Jl(K,it.props,U,m),rc(K,it.children,m),Ue(),Bs(K),Fe()},at=(K,it,m,U,j,N,P,W,G=!1)=>{const q=K&&K.children,p=K?K.shapeFlag:0,S=it.children,{patchFlag:L,shapeFlag:M}=it;if(L>0){if(L&128){ut(q,S,m,U,j,N,P,W,G);return}else if(L&256){rt(q,S,m,U,j,N,P,W,G);return}}M&8?(p&16&&Et(q,j,N),S!==q&&E(m,S)):p&16?M&16?ut(q,S,m,U,j,N,P,W,G):Et(q,j,N,!0):(p&8&&E(m,""),M&16&&A(S,m,U,j,N,P,W,G))},rt=(K,it,m,U,j,N,P,W,G)=>{K=K||Se,it=it||Se;const q=K.length,p=it.length,S=Math.min(q,p);let L;for(L=0;L<S;L++){const M=it[L]=G?hr(it[L]):He(it[L]);s(K[L],M,m,null,j,N,P,W,G)}q>p?Et(K,j,N,!0,!1,S):A(it,m,U,j,N,P,W,G,S)},ut=(K,it,m,U,j,N,P,W,G)=>{let q=0;const p=it.length;let S=K.length-1,L=p-1;for(;q<=S&&q<=L;){const M=K[q],X=it[q]=G?hr(it[q]):He(it[q]);if(rn(M,X))s(M,X,m,null,j,N,P,W,G);else break;q++}for(;q<=S&&q<=L;){const M=K[S],X=it[L]=G?hr(it[L]):He(it[L]);if(rn(M,X))s(M,X,m,null,j,N,P,W,G);else break;S--,L--}if(q>S){if(q<=L){const M=L+1,X=M<p?it[M].el:U;for(;q<=L;)s(null,it[q]=G?hr(it[q]):He(it[q]),m,X,j,N,P,W,G),q++}}else if(q>L)for(;q<=S;)et(K[q],j,N,!0),q++;else{const M=q,X=q,J=new Map;for(q=X;q<=L;q++){const zt=it[q]=G?hr(it[q]):He(it[q]);zt.key!=null&&J.set(zt.key,q)}let lt,vt=0;const Tt=L-X+1;let At=!1,Lt=0;const It=new Array(Tt);for(q=0;q<Tt;q++)It[q]=0;for(q=M;q<=S;q++){const zt=K[q];if(vt>=Tt){et(zt,j,N,!0);continue}let z;if(zt.key!=null)z=J.get(zt.key);else for(lt=X;lt<=L;lt++)if(It[lt-X]===0&&rn(zt,it[lt])){z=lt;break}z===void 0?et(zt,j,N,!0):(It[z-X]=q+1,z>=Lt?Lt=z:At=!0,s(zt,it[z],m,null,j,N,P,W,G),vt++)}const Ut=At?oc(It):Se;for(lt=Ut.length-1,q=Tt-1;q>=0;q--){const zt=X+q,z=it[zt],$=it[zt+1],nt=zt+1<p?$.el||mo($):U;It[q]===0?s(null,z,m,nt,j,N,P,W,G):At&&(lt<0||q!==Ut[lt]?Z(z,m,nt,2):lt--)}}},Z=(K,it,m,U,j=null)=>{const{el:N,type:P,transition:W,children:G,shapeFlag:q}=K;if(q&6){Z(K.component.subTree,it,m,U);return}if(q&128){K.suspense.move(it,m,U);return}if(q&64){P.move(K,it,m,Dt);return}if(P===Ee){a(N,it,m);for(let S=0;S<G.length;S++)Z(G[S],it,m,U);a(K.anchor,it,m);return}if(P===Ln){h(K,it,m);return}if(U!==2&&q&1&&W)if(U===0)W.beforeEnter(N),a(N,it,m),Oe(()=>W.enter(N),j);else{const{leave:S,delayLeave:L,afterLeave:M}=W,X=()=>{K.ctx.isUnmounted?i(N):a(N,it,m)},J=()=>{N._isLeaving&&N[El](!0),S(N,()=>{X(),M&&M()})};L?L(N,X,J):J()}else a(N,it,m)},et=(K,it,m,U=!1,j=!1)=>{const{type:N,props:P,ref:W,children:G,dynamicChildren:q,shapeFlag:p,patchFlag:S,dirs:L,cacheIndex:M}=K;if(S===-2&&(j=!1),W!=null&&(Ue(),Zr(W,null,m,K,!0),Fe()),M!=null&&(it.renderCache[M]=void 0),p&256){it.ctx.deactivate(K);return}const X=p&1&&L,J=!Gr(K);let lt;if(J&&(lt=P&&P.onVnodeBeforeUnmount)&&Ve(lt,it,K),p&6)dt(K.component,m,U);else{if(p&128){K.suspense.unmount(m,U);return}X&&vr(K,null,it,"beforeUnmount"),p&64?K.type.remove(K,it,m,Dt,U):q&&!q.hasOnce&&(N!==Ee||S>0&&S&64)?Et(q,it,m,!1,!0):(N===Ee&&S&384||!j&&p&16)&&Et(G,it,m),U&&gt(K)}(J&&(lt=P&&P.onVnodeUnmounted)||X)&&Oe(()=>{lt&&Ve(lt,it,K),X&&vr(K,null,it,"unmounted")},m)},gt=K=>{const{type:it,el:m,anchor:U,transition:j}=K;if(it===Ee){pt(m,U);return}if(it===Ln){x(K);return}const N=()=>{i(m),j&&!j.persisted&&j.afterLeave&&j.afterLeave()};if(K.shapeFlag&1&&j&&!j.persisted){const{leave:P,delayLeave:W}=j,G=()=>P(m,N);W?W(K.el,N,G):G()}else N()},pt=(K,it)=>{let m;for(;K!==it;)m=o(K),i(K),K=m;i(it)},dt=(K,it,m)=>{const{bum:U,scope:j,job:N,subTree:P,um:W,m:G,a:q}=K;go(G),go(q),U&&dn(U),j.stop(),N&&(N.flags|=8,et(P,K,it,m)),W&&Oe(W,it),Oe(()=>{K.isUnmounted=!0},it)},Et=(K,it,m,U=!1,j=!1,N=0)=>{for(let P=N;P<K.length;P++)et(K[P],it,m,U,j)},St=K=>{if(K.shapeFlag&6)return St(K.component.subTree);if(K.shapeFlag&128)return K.suspense.next();const it=o(K.anchor||K.el),m=it&&it[xl];return m?o(m):it};let Ct=!1;const Rt=(K,it,m)=>{let U;K==null?it._vnode&&(et(it._vnode,null,null,!0),U=it._vnode.component):s(it._vnode||null,K,it,null,null,null,m),it._vnode=K,Ct||(Ct=!0,Bs(U),js(),Ct=!1)},Dt={p:s,um:et,m:Z,r:gt,mt:O,mc:A,pc:at,pbc:C,n:St,o:t};return{render:Rt,hydrate:void 0,createApp:$l(Rt)}}function ki({type:t,props:e},r){return r==="svg"&&t==="foreignObject"||r==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:r}function yr({effect:t,job:e},r){r?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function sc(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function fo(t,e,r=!1){const a=t.children,i=e.children;if(Mt(a)&&Mt(i))for(let n=0;n<a.length;n++){const c=a[n];let d=i[n];d.shapeFlag&1&&!d.dynamicChildren&&((d.patchFlag<=0||d.patchFlag===32)&&(d=i[n]=hr(i[n]),d.el=c.el),!r&&d.patchFlag!==-2&&fo(c,d)),d.type===Dn&&(d.patchFlag!==-1?d.el=c.el:d.__elIndex=n+(t.type===Ee?1:0)),d.type===cr&&!d.el&&(d.el=c.el)}}function oc(t){const e=t.slice(),r=[0];let a,i,n,c,d;const u=t.length;for(a=0;a<u;a++){const T=t[a];if(T!==0){if(i=r[r.length-1],t[i]<T){e[a]=i,r.push(a);continue}for(n=0,c=r.length-1;n<c;)d=n+c>>1,t[r[d]]<T?n=d+1:c=d;T<t[r[n]]&&(n>0&&(e[a]=r[n-1]),r[n]=a)}}for(n=r.length,c=r[n-1];n-- >0;)r[n]=c,c=e[c];return r}function po(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:po(e)}function go(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}function mo(t){if(t.placeholder)return t.placeholder;const e=t.component;return e?mo(e.subTree):null}const vo=t=>t.__isSuspense;function ac(t,e){e&&e.pendingBranch?Mt(t)?e.effects.push(...t):e.effects.push(t):dl(t)}const Ee=Symbol.for("v-fgt"),Dn=Symbol.for("v-txt"),cr=Symbol.for("v-cmt"),Ln=Symbol.for("v-stc"),tn=[];let Ie=null;function jt(t=!1){tn.push(Ie=t?null:[])}function lc(){tn.pop(),Ie=tn[tn.length-1]||null}let en=1;function bo(t,e=!1){en+=t,t<0&&Ie&&e&&(Ie.hasOnce=!0)}function wo(t){return t.dynamicChildren=en>0?Ie||Se:null,lc(),en>0&&Ie&&Ie.push(t),t}function Ft(t,e,r,a,i,n){return wo(ct(t,e,r,a,i,n,!0))}function yo(t,e,r,a,i){return wo(ye(t,e,r,a,i,!0))}function xo(t){return t?t.__v_isVNode===!0:!1}function rn(t,e){return t.type===e.type&&t.key===e.key}const _o=({key:t})=>t!=null?t:null,Pn=({ref:t,ref_key:e,ref_for:r})=>(typeof t=="number"&&(t=""+t),t!=null?ae(t)||ne(t)||Bt(t)?{i:Re,r:t,k:e,f:!!r}:t:null);function ct(t,e=null,r=null,a=0,i=null,n=t===Ee?0:1,c=!1,d=!1){const u={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&_o(e),ref:e&&Pn(e),scopeId:Fs,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:n,patchFlag:a,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Re};return d?(Si(u,r),n&128&&t.normalize(u)):r&&(u.shapeFlag|=ae(r)?8:16),en>0&&!c&&Ie&&(u.patchFlag>0||n&6)&&u.patchFlag!==32&&Ie.push(u),u}const ye=cc;function cc(t,e=null,r=null,a=0,i=null,n=!1){if((!t||t===Pl)&&(t=cr),xo(t)){const d=Dr(t,e,!0);return r&&Si(d,r),en>0&&!n&&Ie&&(d.shapeFlag&6?Ie[Ie.indexOf(t)]=d:Ie.push(d)),d.patchFlag=-2,d}if(Ec(t)&&(t=t.__vccOpts),e){e=hc(e);let{class:d,style:u}=e;d&&!ae(d)&&(e.class=Qt(d)),re(u)&&(xn(u)&&!Mt(u)&&(u=de({},u)),e.style=or(u))}const c=ae(t)?1:vo(t)?128:_l(t)?64:re(t)?4:Bt(t)?2:0;return ct(t,e,r,a,i,c,n,!0)}function hc(t){return t?xn(t)||so(t)?de({},t):t:null}function Dr(t,e,r=!1,a=!1){const{props:i,ref:n,patchFlag:c,children:d,transition:u}=t,T=e?dc(i||{},e):i,E={__v_isVNode:!0,__v_skip:!0,type:t.type,props:T,key:T&&_o(T),ref:e&&e.ref?r&&n?Mt(n)?n.concat(Pn(e)):[n,Pn(e)]:Pn(e):n,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:d,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ee?c===-1?16:c|16:c,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:u,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Dr(t.ssContent),ssFallback:t.ssFallback&&Dr(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return u&&a&&mi(E,u.clone(E)),E}function Eo(t=" ",e=0){return ye(Dn,null,t,e)}function uc(t,e){const r=ye(Ln,null,t);return r.staticCount=e,r}function Lr(t="",e=!1){return e?(jt(),yo(cr,null,t)):ye(cr,null,t)}function He(t){return t==null||typeof t=="boolean"?ye(cr):Mt(t)?ye(Ee,null,t.slice()):xo(t)?hr(t):ye(Dn,null,String(t))}function hr(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Dr(t)}function Si(t,e){let r=0;const{shapeFlag:a}=t;if(e==null)e=null;else if(Mt(e))r=16;else if(typeof e=="object")if(a&65){const i=e.default;i&&(i._c&&(i._d=!1),Si(t,i()),i._c&&(i._d=!0));return}else{r=32;const i=e._;!i&&!so(e)?e._ctx=Re:i===3&&Re&&(Re.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Bt(e)?(e={default:e,_ctx:Re},r=32):(e=String(e),a&64?(r=16,e=[Eo(e)]):r=8);t.children=e,t.shapeFlag|=r}function dc(...t){const e={};for(let r=0;r<t.length;r++){const a=t[r];for(const i in a)if(i==="class")e.class!==a.class&&(e.class=Qt([e.class,a.class]));else if(i==="style")e.style=or([e.style,a.style]);else if(fe(i)){const n=e[i],c=a[i];c&&n!==c&&!(Mt(n)&&n.includes(c))&&(e[i]=n?[].concat(n,c):c)}else i!==""&&(e[i]=a[i])}return e}function Ve(t,e,r,a=null){We(t,e,7,[r,a])}const fc=Qs();let pc=0;function gc(t,e,r){const a=t.type,i=(e?e.appContext:t.appContext)||fc,n={uid:pc++,vnode:t,type:a,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new ds(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ao(a,i),emitsOptions:to(a,i),emit:null,emitted:null,propsDefaults:qt,inheritAttrs:a.inheritAttrs,ctx:qt,data:qt,props:qt,attrs:qt,slots:qt,refs:qt,setupState:qt,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return n.ctx={_:n},n.root=e?e.root:n,n.emit=Vl.bind(null,n),t.ce&&t.ce(n),n}let xe=null;const Ci=()=>xe||Re;let Mn,Ti;{const t=fn(),e=(r,a)=>{let i;return(i=t[r])||(i=t[r]=[]),i.push(a),n=>{i.length>1?i.forEach(c=>c(n)):i[0](n)}};Mn=e("__VUE_INSTANCE_SETTERS__",r=>xe=r),Ti=e("__VUE_SSR_SETTERS__",r=>sn=r)}const nn=t=>{const e=xe;return Mn(t),t.scope.on(),()=>{t.scope.off(),Mn(e)}},ko=()=>{xe&&xe.scope.off(),Mn(null)};function So(t){return t.vnode.shapeFlag&4}let sn=!1;function mc(t,e=!1,r=!1){e&&Ti(e);const{props:a,children:i}=t.vnode,n=So(t);Gl(t,a,n,e),ec(t,i,r||e);const c=n?vc(t,e):void 0;return e&&Ti(!1),c}function vc(t,e){const r=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Ml);const{setup:a}=r;if(a){Ue();const i=t.setupContext=a.length>1?wc(t):null,n=nn(t),c=Ir(a,t,0,[t.props,i]),d=ns(c);if(Fe(),n(),(d||t.sp)&&!Gr(t)&&$s(t),d){if(c.then(ko,ko),e)return c.then(u=>{Co(t,u)}).catch(u=>{kn(u,t,0)});t.asyncDep=c}else Co(t,c)}else To(t)}function Co(t,e,r){Bt(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:re(e)&&(t.setupState=Ls(e)),To(t)}function To(t,e,r){const a=t.type;t.render||(t.render=a.render||ue);{const i=nn(t);Ue();try{zl(t)}finally{Fe(),i()}}}const bc={get(t,e){return ve(t,"get",""),t[e]}};function wc(t){const e=r=>{t.exposed=r||{}};return{attrs:new Proxy(t.attrs,bc),slots:t.slots,emit:t.emit,expose:e}}function zn(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Ls(di(t.exposed)),{get(e,r){if(r in e)return e[r];if(r in Jr)return Jr[r](t)},has(e,r){return r in e||r in Jr}})):t.proxy}const yc=/(?:^|[-_])\w/g,xc=t=>t.replace(yc,e=>e.toUpperCase()).replace(/[-_]/g,"");function _c(t,e=!0){return Bt(t)?t.displayName||t.name:t.name||e&&t.__name}function Oo(t,e,r=!1){let a=_c(e);if(!a&&e.__file){const i=e.__file.match(/([^/\\]+)\.\w+$/);i&&(a=i[1])}if(!a&&t){const i=n=>{for(const c in n)if(n[c]===e)return c};a=i(t.components)||t.parent&&i(t.parent.type.components)||i(t.appContext.components)}return a?xc(a):r?"App":"Anonymous"}function Ec(t){return Bt(t)&&"__vccOpts"in t}const je=(t,e)=>nl(t,e,sn),kc="3.5.26";/**
* @vue/runtime-dom v3.5.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Oi;const Io=typeof window!="undefined"&&window.trustedTypes;if(Io)try{Oi=Io.createPolicy("vue",{createHTML:t=>t})}catch(t){}const Ao=Oi?t=>Oi.createHTML(t):t=>t,Sc="http://www.w3.org/2000/svg",Cc="http://www.w3.org/1998/Math/MathML",tr=typeof document!="undefined"?document:null,Ro=tr&&tr.createElement("template"),Tc={insert:(t,e,r)=>{e.insertBefore(t,r||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,r,a)=>{const i=e==="svg"?tr.createElementNS(Sc,t):e==="mathml"?tr.createElementNS(Cc,t):r?tr.createElement(t,{is:r}):tr.createElement(t);return t==="select"&&a&&a.multiple!=null&&i.setAttribute("multiple",a.multiple),i},createText:t=>tr.createTextNode(t),createComment:t=>tr.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>tr.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,r,a,i,n){const c=r?r.previousSibling:e.lastChild;if(i&&(i===n||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),r),!(i===n||!(i=i.nextSibling)););else{Ro.innerHTML=Ao(a==="svg"?`<svg>${t}</svg>`:a==="mathml"?`<math>${t}</math>`:t);const d=Ro.content;if(a==="svg"||a==="mathml"){const u=d.firstChild;for(;u.firstChild;)d.appendChild(u.firstChild);d.removeChild(u)}e.insertBefore(d,r)}return[c?c.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}},Oc=Symbol("_vtc");function Ic(t,e,r){const a=t[Oc];a&&(e=(e?[e,...a]:[...a]).join(" ")),e==null?t.removeAttribute("class"):r?t.setAttribute("class",e):t.className=e}const No=Symbol("_vod"),Ac=Symbol("_vsh"),Rc=Symbol(""),Nc=/(?:^|;)\s*display\s*:/;function Dc(t,e,r){const a=t.style,i=ae(r);let n=!1;if(r&&!i){if(e)if(ae(e))for(const c of e.split(";")){const d=c.slice(0,c.indexOf(":")).trim();r[d]==null&&Bn(a,d,"")}else for(const c in e)r[c]==null&&Bn(a,c,"");for(const c in r)c==="display"&&(n=!0),Bn(a,c,r[c])}else if(i){if(e!==r){const c=a[Rc];c&&(r+=";"+c),a.cssText=r,n=Nc.test(r)}}else e&&t.removeAttribute("style");No in t&&(t[No]=n?a.display:"",t[Ac]&&(a.display="none"))}const Do=/\s*!important$/;function Bn(t,e,r){if(Mt(r))r.forEach(a=>Bn(t,e,a));else if(r==null&&(r=""),e.startsWith("--"))t.setProperty(e,r);else{const a=Lc(t,e);Do.test(r)?t.setProperty(pr(a),r.replace(Do,""),"important"):t[a]=r}}const Lo=["Webkit","Moz","ms"],Ii={};function Lc(t,e){const r=Ii[e];if(r)return r;let a=ir(e);if(a!=="filter"&&a in t)return Ii[e]=a;a=os(a);for(let i=0;i<Lo.length;i++){const n=Lo[i]+a;if(n in t)return Ii[e]=n}return e}const Po="http://www.w3.org/1999/xlink";function Mo(t,e,r,a,i,n=Ia(e)){a&&e.startsWith("xlink:")?r==null?t.removeAttributeNS(Po,e.slice(6,e.length)):t.setAttributeNS(Po,e,r):r==null||n&&!cs(r)?t.removeAttribute(e):t.setAttribute(e,n?"":nr(r)?String(r):r)}function zo(t,e,r,a,i){if(e==="innerHTML"||e==="textContent"){r!=null&&(t[e]=e==="innerHTML"?Ao(r):r);return}const n=t.tagName;if(e==="value"&&n!=="PROGRESS"&&!n.includes("-")){const d=n==="OPTION"?t.getAttribute("value")||"":t.value,u=r==null?t.type==="checkbox"?"on":"":String(r);(d!==u||!("_value"in t))&&(t.value=u),r==null&&t.removeAttribute(e),t._value=r;return}let c=!1;if(r===""||r==null){const d=typeof t[e];d==="boolean"?r=cs(r):r==null&&d==="string"?(r="",c=!0):d==="number"&&(r=0,c=!0)}try{t[e]=r}catch(d){}c&&t.removeAttribute(i||e)}function Pr(t,e,r,a){t.addEventListener(e,r,a)}function Pc(t,e,r,a){t.removeEventListener(e,r,a)}const Bo=Symbol("_vei");function Mc(t,e,r,a,i=null){const n=t[Bo]||(t[Bo]={}),c=n[e];if(a&&c)c.value=a;else{const[d,u]=zc(e);if(a){const T=n[e]=Uc(a,i);Pr(t,d,T,u)}else c&&(Pc(t,d,c,u),n[e]=void 0)}}const jo=/(?:Once|Passive|Capture)$/;function zc(t){let e;if(jo.test(t)){e={};let a;for(;a=t.match(jo);)t=t.slice(0,t.length-a[0].length),e[a[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):pr(t.slice(2)),e]}let Ai=0;const Bc=Promise.resolve(),jc=()=>Ai||(Bc.then(()=>Ai=0),Ai=Date.now());function Uc(t,e){const r=a=>{if(!a._vts)a._vts=Date.now();else if(a._vts<=r.attached)return;We(Fc(a,r.value),e,5,[a])};return r.value=t,r.attached=jc(),r}function Fc(t,e){if(Mt(e)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},e.map(a=>i=>!i._stopped&&a&&a(i))}else return e}const Uo=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Wc=(t,e,r,a,i,n)=>{const c=i==="svg";e==="class"?Ic(t,a,c):e==="style"?Dc(t,r,a):fe(e)?Ce(e)||Mc(t,e,r,a,n):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):$c(t,e,a,c))?(zo(t,e,a),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Mo(t,e,a,c,n,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!ae(a))?zo(t,ir(e),a,n,e):(e==="true-value"?t._trueValue=a:e==="false-value"&&(t._falseValue=a),Mo(t,e,a,c))};function $c(t,e,r,a){if(a)return!!(e==="innerHTML"||e==="textContent"||e in t&&Uo(e)&&Bt(r));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="sandbox"&&t.tagName==="IFRAME"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return Uo(e)&&ae(r)?!1:e in t}const Fo=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Mt(e)?r=>dn(e,r):e};function Hc(t){t.target.composing=!0}function Wo(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Ri=Symbol("_assign");function $o(t,e,r){return e&&(t=t.trim()),r&&(t=Qn(t)),t}const Vc={created(t,{modifiers:{lazy:e,trim:r,number:a}},i){t[Ri]=Fo(i);const n=a||i.props&&i.props.type==="number";Pr(t,e?"change":"input",c=>{c.target.composing||t[Ri]($o(t.value,r,n))}),(r||n)&&Pr(t,"change",()=>{t.value=$o(t.value,r,n)}),e||(Pr(t,"compositionstart",Hc),Pr(t,"compositionend",Wo),Pr(t,"change",Wo))},mounted(t,{value:e}){t.value=e==null?"":e},beforeUpdate(t,{value:e,oldValue:r,modifiers:{lazy:a,trim:i,number:n}},c){if(t[Ri]=Fo(c),t.composing)return;const d=(n||t.type==="number")&&!/^0\d/.test(t.value)?Qn(t.value):t.value,u=e==null?"":e;d!==u&&(document.activeElement===t&&t.type!=="range"&&(a&&e===r||i&&t.value.trim()===u)||(t.value=u))}},qc=["ctrl","shift","alt","meta"],Kc={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>qc.some(r=>t[`${r}Key`]&&!e.includes(r))},Ni=(t,e)=>{const r=t._withMods||(t._withMods={}),a=e.join(".");return r[a]||(r[a]=(i,...n)=>{for(let c=0;c<e.length;c++){const d=Kc[e[c]];if(d&&d(i,e))return}return t(i,...n)})},Yc=de({patchProp:Wc},Tc);let Ho;function Xc(){return Ho||(Ho=nc(Yc))}const Zc=(...t)=>{const e=Xc().createApp(...t),{mount:r}=e;return e.mount=a=>{const i=Jc(a);if(!i)return;const n=e._component;!Bt(n)&&!n.render&&!n.template&&(n.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const c=r(i,!1,Gc(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),c},e};function Gc(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Jc(t){return ae(t)?document.querySelector(t):t}/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let Vo;const jn=t=>Vo=t,qo=Symbol();function Di(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var on;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(on||(on={}));function Qc(){const t=fs(!0),e=t.run(()=>Yt({}));let r=[],a=[];const i=di({install(n){jn(i),i._a=n,n.provide(qo,i),n.config.globalProperties.$pinia=i,a.forEach(c=>r.push(c)),a=[]},use(n){return this._a?r.push(n):a.push(n),this},_p:r,_a:null,_e:t,_s:new Map,state:e});return i}const Ko=()=>{};function Yo(t,e,r,a=Ko){t.push(e);const i=()=>{const n=t.indexOf(e);n>-1&&(t.splice(n,1),a())};return!r&&ei()&&ps(i),i}function Mr(t,...e){t.slice().forEach(r=>{r(...e)})}const th=t=>t(),Xo=Symbol(),Li=Symbol();function Pi(t,e){t instanceof Map&&e instanceof Map?e.forEach((r,a)=>t.set(a,r)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const r in e){if(!e.hasOwnProperty(r))continue;const a=e[r],i=t[r];Di(i)&&Di(a)&&t.hasOwnProperty(r)&&!ne(a)&&!Ze(a)?t[r]=Pi(i,a):t[r]=a}return t}const eh=Symbol();function rh(t){return!Di(t)||!t.hasOwnProperty(eh)}const{assign:ur}=Object;function nh(t){return!!(ne(t)&&t.effect)}function ih(t,e,r,a){const{state:i,actions:n,getters:c}=e,d=r.state.value[t];let u;function T(){d||(r.state.value[t]=i?i():{});const E=Qa(r.state.value[t]);return ur(E,n,Object.keys(c||{}).reduce((y,o)=>(y[o]=di(je(()=>{jn(r);const l=r._s.get(t);return c[o].call(l,l)})),y),{}))}return u=Zo(t,T,e,r,a,!0),u}function Zo(t,e,r={},a,i,n){let c;const d=ur({actions:{}},r),u={deep:!0};let T,E,y=[],o=[],l;const b=a.state.value[t];!n&&!b&&(a.state.value[t]={}),Yt({});let s;function v(A){let D;T=E=!1,typeof A=="function"?(A(a.state.value[t]),D={type:on.patchFunction,storeId:t,events:l}):(Pi(a.state.value[t],A),D={type:on.patchObject,payload:A,storeId:t,events:l});const C=s=Symbol();ze().then(()=>{s===C&&(T=!0)}),E=!0,Mr(y,D,a.state.value[t])}const g=n?function(){const{state:D}=r,C=D?D():{};this.$patch(R=>{ur(R,C)})}:Ko;function w(){c.stop(),y=[],o=[],a._s.delete(t)}const h=(A,D="")=>{if(Xo in A)return A[Li]=D,A;const C=function(){jn(a);const R=Array.from(arguments),I=[],B=[];function O(Y){I.push(Y)}function H(Y){B.push(Y)}Mr(o,{args:R,name:C[Li],store:_,after:O,onError:H});let tt;try{tt=A.apply(this&&this.$id===t?this:_,R)}catch(Y){throw Mr(B,Y),Y}return tt instanceof Promise?tt.then(Y=>(Mr(I,Y),Y)).catch(Y=>(Mr(B,Y),Promise.reject(Y))):(Mr(I,tt),tt)};return C[Xo]=!0,C[Li]=D,C},x={_p:a,$id:t,$onAction:Yo.bind(null,o),$patch:v,$reset:g,$subscribe(A,D={}){const C=Yo(y,A,D.detached,()=>R()),R=c.run(()=>Be(()=>a.state.value[t],I=>{(D.flush==="sync"?E:T)&&A({storeId:t,type:on.direct,events:l},I)},ur({},u,D)));return C},$dispose:w},_=qr(x);a._s.set(t,_);const k=(a._a&&a._a.runWithContext||th)(()=>a._e.run(()=>(c=fs()).run(()=>e({action:h}))));for(const A in k){const D=k[A];if(ne(D)&&!nh(D)||Ze(D))n||(b&&rh(D)&&(ne(D)?D.value=b[A]:Pi(D,b[A])),a.state.value[t][A]=D);else if(typeof D=="function"){const C=h(D,A);k[A]=C,d.actions[A]=D}}return ur(_,k),ur(Kt(_),k),Object.defineProperty(_,"$state",{get:()=>a.state.value[t],set:A=>{v(D=>{ur(D,A)})}}),a._p.forEach(A=>{ur(_,c.run(()=>A({store:_,app:a._a,pinia:a,options:d})))}),b&&n&&r.hydrate&&r.hydrate(_.$state,b),T=!0,E=!0,_}/*! #__NO_SIDE_EFFECTS__ */function Mi(t,e,r){let a,i;const n=typeof e=="function";typeof t=="string"?(a=t,i=n?r:e):(i=t,a=t.id);function c(d,u){const T=ml();return d=d||(T?Xr(qo,null):null),d&&jn(d),d=Vo,d._s.has(a)||(n?Zo(a,e,i,d):ih(a,i,d)),d._s.get(a)}return c.$id=a,c}const pf="modulepreload",gf=function(t,e){return new URL(t,e).href},mf={},zi=function(e,r,a){let i=Promise.resolve();function n(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return i.then(c=>{for(const d of c||[])d.status==="rejected"&&n(d.reason);return e().catch(n)})},Bi=(t,e)=>e.some(r=>t instanceof r);let Go,Jo;function sh(){return Go||(Go=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oh(){return Jo||(Jo=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ji=new WeakMap,Ui=new WeakMap,Un=new WeakMap;function ah(t){const e=new Promise((r,a)=>{const i=()=>{t.removeEventListener("success",n),t.removeEventListener("error",c)},n=()=>{r(xr(t.result)),i()},c=()=>{a(t.error),i()};t.addEventListener("success",n),t.addEventListener("error",c)});return Un.set(e,t),e}function lh(t){if(ji.has(t))return;const e=new Promise((r,a)=>{const i=()=>{t.removeEventListener("complete",n),t.removeEventListener("error",c),t.removeEventListener("abort",c)},n=()=>{r(),i()},c=()=>{a(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",n),t.addEventListener("error",c),t.addEventListener("abort",c)});ji.set(t,e)}let Fi={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return ji.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return xr(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Qo(t){Fi=t(Fi)}function ch(t){return oh().includes(t)?function(...e){return t.apply(Wi(this),e),xr(this.request)}:function(...e){return xr(t.apply(Wi(this),e))}}function hh(t){return typeof t=="function"?ch(t):(t instanceof IDBTransaction&&lh(t),Bi(t,sh())?new Proxy(t,Fi):t)}function xr(t){if(t instanceof IDBRequest)return ah(t);if(Ui.has(t))return Ui.get(t);const e=hh(t);return e!==t&&(Ui.set(t,e),Un.set(e,t)),e}const Wi=t=>Un.get(t);function uh(t,e,{blocked:r,upgrade:a,blocking:i,terminated:n}={}){const c=indexedDB.open(t,e),d=xr(c);return a&&c.addEventListener("upgradeneeded",u=>{a(xr(c.result),u.oldVersion,u.newVersion,xr(c.transaction),u)}),r&&c.addEventListener("blocked",u=>r(u.oldVersion,u.newVersion,u)),d.then(u=>{n&&u.addEventListener("close",()=>n()),i&&u.addEventListener("versionchange",T=>i(T.oldVersion,T.newVersion,T))}).catch(()=>{}),d}const dh=["get","getKey","getAll","getAllKeys","count"],fh=["put","add","delete","clear"],$i=new Map;function ta(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if($i.get(e))return $i.get(e);const r=e.replace(/FromIndex$/,""),a=e!==r,i=fh.includes(r);if(!(r in(a?IDBIndex:IDBObjectStore).prototype)||!(i||dh.includes(r)))return;const n=function(c,...d){return Pt(this,null,function*(){const u=this.transaction(c,i?"readwrite":"readonly");let T=u.store;return a&&(T=T.index(d.shift())),(yield Promise.all([T[r](...d),i&&u.done]))[0]})};return $i.set(e,n),n}Qo(t=>jr(Ke({},t),{get:(e,r,a)=>ta(e,r)||t.get(e,r,a),has:(e,r)=>!!ta(e,r)||t.has(e,r)}));const ph=["continue","continuePrimaryKey","advance"],ea={},Hi=new WeakMap,ra=new WeakMap,gh={get(t,e){if(!ph.includes(e))return t[e];let r=ea[e];return r||(r=ea[e]=function(...a){Hi.set(this,ra.get(this)[e](...a))}),r}};function mh(...t){return xa(this,null,function*(){let e=this;if(e instanceof IDBCursor||(e=yield new Zn(e.openCursor(...t))),!e)return;e=e;const r=new Proxy(e,gh);for(ra.set(r,e),Un.set(r,Wi(e));e;)yield r,e=yield new Zn(Hi.get(r)||e.continue()),Hi.delete(r)})}function na(t,e){return e===Symbol.asyncIterator&&Bi(t,[IDBIndex,IDBObjectStore,IDBCursor])||e==="iterate"&&Bi(t,[IDBIndex,IDBObjectStore])}Qo(t=>jr(Ke({},t),{get(e,r,a){return na(e,r)?mh:t.get(e,r,a)},has(e,r){return na(e,r)||t.has(e,r)}}));const vh="epub-web-reader",bh=2,wh=10,Fn=Mi("library",()=>{const t=Yt([]),e=Yt(null),r=Yt(!1);function a(){return Pt(this,null,function*(){r.value||(e.value=yield uh(vh,bh,{upgrade(b){b.objectStoreNames.contains("books")||b.createObjectStore("books",{keyPath:"id"}).createIndex("addedAt","addedAt")}}),yield i(),r.value=!0)})}function i(){return Pt(this,null,function*(){if(!e.value)return;const b=yield e.value.getAll("books");t.value=b.sort((s,v)=>new Date(v.addedAt).getTime()-new Date(s.addedAt).getTime()).map(s=>s.metadata)})}function n(b,s,v){return Pt(this,null,function*(){if(!e.value)return;const g=yield e.value.get("books",b.id);g?yield e.value.put("books",jr(Ke({},g),{metadata:b,coverImage:v})):(yield o(),yield e.value.add("books",{id:b.id,metadata:b,epubBlob:s,coverImage:v,addedAt:new Date})),yield i()})}function c(b,s,v,g){return Pt(this,null,function*(){if(!e.value)return;const w=yield e.value.get("books",b);w&&(w.metadata=jr(Ke({},w.metadata),{progress:g,currentChapter:s,lastReadAt:new Date}),w.readingProgress={chapterIndex:s,scrollPosition:v,percentage:g,timestamp:new Date},yield e.value.put("books",w),yield i())})}function d(b){return Pt(this,null,function*(){if(!e.value)return null;const s=yield e.value.get("books",b);return(s==null?void 0:s.readingProgress)||null})}function u(b){return Pt(this,null,function*(){e.value&&(yield e.value.delete("books",b),yield i())})}function T(b){return Pt(this,null,function*(){if(!e.value)return null;const s=yield e.value.get("books",b);return(s==null?void 0:s.epubBlob)||null})}function E(b){return Pt(this,null,function*(){if(!e.value)return null;const s=yield e.value.get("books",b);return(s==null?void 0:s.coverImage)||null})}function y(b){return Pt(this,null,function*(){return T(b)})}function o(){return Pt(this,null,function*(){if(!e.value)return;if((yield e.value.count("books"))>=wh){const s=yield e.value.getAllFromIndex("books","addedAt");if(s.length>0){const v=s[0];yield e.value.delete("books",v.id)}}})}function l(){return Pt(this,null,function*(){e.value&&(yield e.value.clear("books"),t.value=[])})}return{books:t,isInitialized:r,init:a,cacheBook:n,removeBook:u,getBookBlob:T,getCoverImage:E,exportBook:y,clearLibrary:l,updateReadingProgress:c,getReadingProgress:d}}),_r=Mi("book",()=>{const t=Yt(null),e=Yt(0),r=Yt(0),a=Yt(!1),i=Yt(null),n=Yt(new Map),c=Yt(null),d=je(()=>{var h;return(h=t.value)==null?void 0:h.metadata}),u=je(()=>{var h;return((h=t.value)==null?void 0:h.chapters)||[]}),T=je(()=>{var h;return((h=t.value)==null?void 0:h.toc)||[]}),E=je(()=>{var h;return(h=t.value)==null?void 0:h.chapters[e.value]});function y(h,x=!0,_){return Pt(this,null,function*(){a.value=!0,i.value=null;try{const{epub:f}=yield zi(()=>Pt(this,null,function*(){const{epub:R}=yield Promise.resolve().then(()=>gu);return{epub:R}}),void 0,Vt&&Vt.tagName.toUpperCase()==="SCRIPT"&&Vt.src||new URL("bundle.js",document.baseURI).href),k=Fn(),A=yield f.loadEpub(h,_),D=yield k.getReadingProgress(A.metadata.id);D&&(A.metadata.progress=D.percentage,A.metadata.lastReadAt=new Date,A.metadata.currentChapter=D.chapterIndex),t.value=A,e.value=0,r.value=0;const C=n.value.get(A.metadata.id);if(C&&(e.value=C.chapterIndex),D&&(e.value=D.chapterIndex,r.value=D.scrollPosition),x){const R=new Blob([yield h.arrayBuffer()],{type:"application/epub+zip"});yield k.cacheBook(A.metadata,R,A.coverBlob)}}catch(f){throw i.value=f instanceof Error?f:new Error("Failed to load book"),f}finally{a.value=!1}})}function o(h){h>=0&&h<u.value.length&&(e.value=h)}function l(){e.value<u.value.length-1&&e.value++}function b(){e.value>0&&e.value--}function s(h){return Pt(this,null,function*(){n.value.set(h.bookId,h),t.value&&(t.value.metadata.progress=h.percentage,t.value.metadata.lastReadAt=new Date,t.value.metadata.currentChapter=h.chapterIndex,yield Fn().updateReadingProgress(h.bookId,h.chapterIndex,h.scrollPosition,h.percentage))})}function v(){t.value=null,e.value=0,i.value=null}function g(h){c.value=h}function w(h){t.value&&t.value.chapters&&t.value.chapters.push(h)}return{currentBook:t,currentChapter:e,currentScrollPosition:r,isLoading:a,error:i,metadata:d,chapters:u,toc:T,currentChapterData:E,searchHighlight:c,loadBook:y,setChapter:o,nextChapter:l,prevChapter:b,updateProgress:s,clearBook:v,setSearchHighlight:g,addChapter:w}});function yh(t){return ei()?(ps(t),!0):!1}function Vi(t){return typeof t=="function"?t():kt(t)}const xh=typeof window!="undefined"&&typeof document!="undefined";typeof WorkerGlobalScope!="undefined"&&globalThis instanceof WorkerGlobalScope;const _h=Object.prototype.toString,Eh=t=>_h.call(t)==="[object Object]",kh=()=>{};function Sh(t,e){function r(...a){return new Promise((i,n)=>{Promise.resolve(t(()=>e.apply(this,a),{fn:e,thisArg:this,args:a})).then(i).catch(n)})}return r}const ia=t=>t();function Ch(t=ia){const e=Yt(!0);function r(){e.value=!1}function a(){e.value=!0}const i=(...n)=>{e.value&&t(...n)};return{isActive:wn(e),pause:r,resume:a,eventFilter:i}}function Th(t){return Ci()}function Oh(t,e,r={}){const n=r,{eventFilter:a=ia}=n,i=es(n,["eventFilter"]);return Be(t,Sh(a,e),i)}function Ih(t,e,r={}){const E=r,{eventFilter:a}=E,i=es(E,["eventFilter"]),{eventFilter:n,pause:c,resume:d,isActive:u}=Ch(a);return{stop:Oh(t,e,jr(Ke({},i),{eventFilter:n})),pause:c,resume:d,isActive:u}}function Ah(t,e=!0,r){Th()?In(t,r):e?t():ze(t)}function Rh(t){var e;const r=Vi(t);return(e=r==null?void 0:r.$el)!=null?e:r}const qi=xh?window:void 0;function sa(...t){let e,r,a,i;if(typeof t[0]=="string"||Array.isArray(t[0])?([r,a,i]=t,e=qi):[e,r,a,i]=t,!e)return kh;Array.isArray(r)||(r=[r]),Array.isArray(a)||(a=[a]);const n=[],c=()=>{n.forEach(E=>E()),n.length=0},d=(E,y,o,l)=>(E.addEventListener(y,o,l),()=>E.removeEventListener(y,o,l)),u=Be(()=>[Rh(e),Vi(i)],([E,y])=>{if(c(),!E)return;const o=Eh(y)?Ke({},y):y;n.push(...r.flatMap(l=>a.map(b=>d(E,l,b,o))))},{immediate:!0,flush:"post"}),T=()=>{u(),c()};return yh(T),T}const Wn=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},$n="__vueuse_ssr_handlers__",Nh=Dh();function Dh(){return $n in Wn||(Wn[$n]=Wn[$n]||{}),Wn[$n]}function Lh(t,e){return Nh[t]||e}function Ph(t){return t==null?"any":t instanceof Set?"set":t instanceof Map?"map":t instanceof Date?"date":typeof t=="boolean"?"boolean":typeof t=="string"?"string":typeof t=="object"?"object":Number.isNaN(t)?"any":"number"}const Mh={boolean:{read:t=>t==="true",write:t=>String(t)},object:{read:t=>JSON.parse(t),write:t=>JSON.stringify(t)},number:{read:t=>Number.parseFloat(t),write:t=>String(t)},any:{read:t=>t,write:t=>String(t)},string:{read:t=>t,write:t=>String(t)},map:{read:t=>new Map(JSON.parse(t)),write:t=>JSON.stringify(Array.from(t.entries()))},set:{read:t=>new Set(JSON.parse(t)),write:t=>JSON.stringify(Array.from(t))},date:{read:t=>new Date(t),write:t=>t.toISOString()}},oa="vueuse-storage";function zh(t,e,r,a={}){var i;const{flush:n="pre",deep:c=!0,listenToStorageChanges:d=!0,writeDefaults:u=!0,mergeDefaults:T=!1,shallow:E,window:y=qi,eventFilter:o,onError:l=C=>{console.error(C)},initOnMounted:b}=a,s=(E?Za:Yt)(typeof e=="function"?e():e);if(!r)try{r=Lh("getDefaultStorage",()=>{var C;return(C=qi)==null?void 0:C.localStorage})()}catch(C){l(C)}if(!r)return s;const v=Vi(e),g=Ph(v),w=(i=a.serializer)!=null?i:Mh[g],{pause:h,resume:x}=Ih(s,()=>f(s.value),{flush:n,deep:c,eventFilter:o});y&&d&&Ah(()=>{sa(y,"storage",A),sa(y,oa,D),b&&A()}),b||A();function _(C,R){y&&y.dispatchEvent(new CustomEvent(oa,{detail:{key:t,oldValue:C,newValue:R,storageArea:r}}))}function f(C){try{const R=r.getItem(t);if(C==null)_(R,null),r.removeItem(t);else{const I=w.write(C);R!==I&&(r.setItem(t,I),_(R,I))}}catch(R){l(R)}}function k(C){const R=C?C.newValue:r.getItem(t);if(R==null)return u&&v!=null&&r.setItem(t,w.write(v)),v;if(!C&&T){const I=w.read(R);return typeof T=="function"?T(I,v):g==="object"&&!Array.isArray(I)?Ke(Ke({},v),I):I}else return typeof R!="string"?R:w.read(R)}function A(C){if(!(C&&C.storageArea!==r)){if(C&&C.key==null){s.value=v;return}if(!(C&&C.key!==t)){h();try{(C==null?void 0:C.newValue)!==w.write(s.value)&&(s.value=k(C))}catch(R){l(R)}finally{C?ze(x):x()}}}}function D(C){A(C.detail)}return s}const Er={theme:"light",fontSize:18,fontFamily:"georgia",lineHeight:1.8,padding:32,wideMode:!1},Ki=Mi("settings",()=>{const t=zh("reader-preferences",Er),e=qr({theme:t.value.theme,fontSize:t.value.fontSize,fontFamily:t.value.fontFamily,lineHeight:t.value.lineHeight,padding:t.value.padding,wideMode:t.value.wideMode});Be(()=>({theme:e.theme,fontSize:e.fontSize,fontFamily:e.fontFamily,lineHeight:e.lineHeight,padding:e.padding,wideMode:e.wideMode}),T=>{t.value=Ke({},T)},{deep:!0});function r(T){e.theme=T}function a(T){e.fontSize=Math.min(32,Math.max(12,T))}function i(T){e.fontFamily=T}function n(T){e.lineHeight=T}function c(T){e.padding=T}function d(){e.wideMode=!e.wideMode}function u(){e.theme=Er.theme,e.fontSize=Er.fontSize,e.fontFamily=Er.fontFamily,e.lineHeight=Er.lineHeight,e.padding=Er.padding,e.wideMode=Er.wideMode}return{preferences:e,setTheme:r,setFontSize:a,setFontFamily:i,setLineHeight:n,setPadding:c,toggleWideMode:d,reset:u}});function dr(){const t=Ki(),e=je(()=>{const{theme:i}=t.preferences;switch(i){case"dark":return{bg:"bg-gray-900",text:"text-gray-100",prose:"prose-invert"};case"sepia":return{bg:"bg-[#f4ecd8]",text:"text-[#5b4636]",prose:"prose-sepia"};case"warm":return{bg:"bg-[#faf9f6]",text:"text-[#333333]",prose:""};default:return{bg:"bg-white",text:"text-gray-900",prose:""}}}),r=je(()=>{const{theme:i}=t.preferences;return{light:"Light",dark:"Dark",sepia:"Sepia",warm:"Warm"}[i]});function a(){const i=["light","dark","sepia","warm"],c=(i.indexOf(t.preferences.theme)+1)%i.length;t.setTheme(i[c])}return{themeClasses:e,themeLabel:r,cycleTheme:a}}const Bh={class:"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-indigo-950 flex flex-col"},jh={class:"container mx-auto px-4 pb-6 lg:pb-8 flex-1 min-h-0"},Uh={class:"flex h-full min-h-0"},Fh={class:"w-full flex flex-col min-h-0"},Wh={class:"flex items-center justify-between mb-6 flex-shrink-0"},$h={class:"flex items-center gap-3"},Hh={class:"text-sm text-gray-500 dark:text-gray-400"},Vh={key:0,class:"absolute inset-0 z-10 bg-indigo-500/10 backdrop-blur-sm rounded-2xl flex items-center justify-center"},qh={key:1,class:"absolute inset-0 pointer-events-none opacity-5 flex items-center justify-center"},Kh={class:"flex-1 overflow-y-auto"},Yh={key:0,class:"h-full flex flex-col items-center justify-center py-8 px-6 text-center"},Xh={key:1,class:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 xl:grid-cols-7 2xl:grid-cols-8 gap-3 lg:gap-4"},Zh=["onClick"],Gh={class:"aspect-[2/3] relative overflow-hidden bg-gray-100 dark:bg-gray-700"},Jh=["src","alt"],Qh={key:1,class:"w-full h-full bg-gradient-to-br from-indigo-400 to-purple-500 dark:from-indigo-600 dark:to-purple-700 flex items-center justify-center"},tu={class:"absolute bottom-0 left-0 right-0 p-2 translate-y-full group-hover:translate-y-0 transition-transform duration-300"},eu={class:"flex gap-1"},ru=["onClick"],nu=["onClick"],iu={class:"p-4"},su=["title"],ou={class:"text-xs text-gray-500 dark:text-gray-400 truncate mb-2"},au={class:"flex items-center gap-1.5 text-xs"},lu={class:"flex-1 h-1.5 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden"},cu={class:"text-gray-500 dark:text-gray-400 font-medium"},hu={class:"text-xs text-gray-400 dark:text-gray-500 mt-1"},uu=br({__name:"HomeScreen",emits:["select-book"],setup(t,{emit:e}){const r=e,a=Fn(),i=_r(),{themeClasses:n}=dr(),c=Yt(new Map),d=Yt(null),u=Yt(!1);In(()=>Pt(this,null,function*(){yield a.init(),yield T()})),Nr(()=>{c.value.forEach(h=>{URL.revokeObjectURL(h)}),c.value.clear()});function T(){return Pt(this,null,function*(){for(const h of a.books){const x=yield a.getCoverImage(h.id);if(x){const _=URL.createObjectURL(x);c.value.set(h.id,_)}}})}function E(h){return Pt(this,null,function*(){const x=yield a.getBookBlob(h.id);if(x){const _=new File([x],`${h.title}.epub`,{type:"application/epub+zip"});r("select-book",_,!1,h.id)}})}function y(h){return Pt(this,null,function*(){const x=yield a.exportBook(h.id);if(x){const _=URL.createObjectURL(x),f=document.createElement("a");f.href=_,f.download=`${h.title}.epub`,document.body.appendChild(f),f.click(),document.body.removeChild(f),URL.revokeObjectURL(_)}})}function o(h){return Pt(this,null,function*(){var x;yield a.removeBook(h),((x=i.metadata)==null?void 0:x.id)===h&&i.clearBook(),c.value.has(h)&&(URL.revokeObjectURL(c.value.get(h)),c.value.delete(h))})}function l(h){return new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric"}).format(new Date(h))}function b(h){h.preventDefault(),u.value=!0}function s(h){var x;h.preventDefault(),(!h.relatedTarget||!((x=h.currentTarget)!=null&&x.contains(h.relatedTarget)))&&(u.value=!1)}function v(h){var _;h.preventDefault(),u.value=!1;const x=(_=h.dataTransfer)==null?void 0:_.files;x&&x.length>0&&r("select-book",x[0],!0)}function g(h){const x=h.target;x.files&&x.files.length>0&&r("select-book",x.files[0],!0)}function w(){var h;(h=d.value)==null||h.click()}return(h,x)=>(jt(),Ft("div",Bh,[x[11]||(x[11]=ct("div",{class:"container mx-auto px-4 py-6 lg:py-8 flex-shrink-0"},[ct("header",{class:"text-center mb-6 lg:mb-8"},[ct("h1",{class:"text-4xl lg:text-5xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 dark:from-indigo-400 dark:to-purple-400 bg-clip-text text-transparent mb-3"}," EpubWebReader "),ct("p",{class:"text-gray-600 dark:text-gray-400 text-lg"}," Your personal library in the cloud... wait, it's all local! ")])],-1)),ct("div",jh,[ct("div",Uh,[ct("div",Fh,[ct("div",{class:Qt(["bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-6 lg:p-8 border border-gray-200 dark:border-gray-700 flex flex-col h-full relative",{"ring-4 ring-indigo-500":u.value}]),onDragover:b,onDragleave:s,onDrop:v},[ct("div",Wh,[ct("div",$h,[x[0]||(x[0]=ct("div",{class:"w-10 h-10 rounded-lg bg-purple-100 dark:bg-purple-900/30 flex items-center justify-center"},[ct("svg",{class:"w-5 h-5 text-purple-600 dark:text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[ct("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})])],-1)),ct("div",null,[ct("h2",{class:Qt(["text-xl font-bold",kt(n).text])},"My Library",2),ct("p",Hh,ie(kt(a).books.length)+" book"+ie(kt(a).books.length!==1?"s":""),1)])]),ct("button",{onClick:w,class:"flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg text-sm font-medium transition-colors",title:"Add Book to Library"},[...x[1]||(x[1]=[ct("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[ct("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),Eo(" Add Book ",-1)])])]),u.value?(jt(),Ft("div",Vh,[...x[2]||(x[2]=[ct("div",{class:"text-center"},[ct("svg",{class:"w-16 h-16 mx-auto text-indigo-600 dark:text-indigo-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[ct("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})]),ct("p",{class:"text-lg font-semibold text-indigo-600 dark:text-indigo-400"}," Drop your EPUB here to add it to the library ")],-1)])])):kt(a).books.length>0?(jt(),Ft("div",qh,[...x[3]||(x[3]=[ct("div",{class:"text-center"},[ct("svg",{class:"w-32 h-32 mx-auto text-gray-400 dark:text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[ct("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"0.5",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})])],-1)])])):Lr("",!0),ct("div",Kh,[kt(a).books.length===0?(jt(),Ft("div",Yh,[x[4]||(x[4]=ct("div",{class:"w-20 h-20 rounded-full bg-gradient-to-br from-indigo-100 to-purple-100 dark:from-indigo-900/30 dark:to-purple-900/30 flex items-center justify-center mb-4"},[ct("svg",{class:"w-10 h-10 text-indigo-400 dark:text-indigo-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[ct("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})])],-1)),ct("h3",{class:Qt(["text-base font-semibold mb-2",kt(n).text])},"Your library is empty",2),x[5]||(x[5]=ct("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Upload your first EPUB to get started ",-1))])):(jt(),Ft("div",Xh,[(jt(!0),Ft(Ee,null,An(kt(a).books,_=>(jt(),Ft("div",{key:_.id,class:"relative rounded-xl overflow-hidden h-full"},[x[10]||(x[10]=ct("div",{class:"absolute inset-0 -z-10 bg-gradient-to-b from-gray-50 to-gray-100 dark:from-gray-700/50 dark:to-gray-800/50 shadow-md group-hover:shadow-2xl transition-all duration-300 group-hover:-translate-y-1"},null,-1)),ct("div",{class:"group relative z-10 cursor-pointer border border-gray-200 dark:border-gray-600 rounded-xl transition-all duration-300 hover:-translate-y-1",onClick:f=>E(_)},[ct("div",Gh,[c.value.has(_.id)?(jt(),Ft("img",{key:0,src:c.value.get(_.id),alt:_.title,class:"w-full h-full object-contain transition-transform duration-300 group-hover:scale-105"},null,8,Jh)):(jt(),Ft("div",Qh,[...x[6]||(x[6]=[ct("svg",{class:"w-20 h-20 text-white/80",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[ct("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})],-1)])])),x[9]||(x[9]=ct("div",{class:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"},null,-1)),ct("div",tu,[ct("div",eu,[ct("button",{onClick:Ni(f=>y(_),["stop"]),class:"flex-1 bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm text-indigo-600 dark:text-indigo-400 px-2 py-1.5 rounded text-xs font-medium hover:bg-white dark:hover:bg-gray-800 transition-colors flex items-center justify-center gap-0.5 shadow-lg",title:"Export EPUB"},[...x[7]||(x[7]=[ct("svg",{class:"w-3.5 h-3.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[ct("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})],-1)])],8,ru),ct("button",{onClick:Ni(f=>o(_.id),["stop"]),class:"flex-1 bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm text-red-600 dark:text-red-400 px-2 py-1.5 rounded text-xs font-medium hover:bg-white dark:hover:bg-gray-800 transition-colors flex items-center justify-center gap-0.5 shadow-lg",title:"Remove from library"},[...x[8]||(x[8]=[ct("svg",{class:"w-3.5 h-3.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[ct("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,nu)])])]),ct("div",iu,[ct("h3",{class:Qt(["font-semibold text-sm line-clamp-2 mb-1 min-h-[2.5rem]",kt(n).text]),title:_.title},ie(_.title),11,su),ct("p",ou,ie(_.author),1),ct("div",au,[ct("div",lu,[ct("div",{class:"h-full bg-gradient-to-r from-indigo-500 to-purple-500 rounded-full transition-all duration-300",style:or({width:`${Math.round(_.progress)}%`})},null,4)]),ct("span",cu,ie(Math.round(_.progress))+"% ",1)]),ct("div",hu,ie(l(_.lastReadAt)),1)])],8,Zh)]))),128))]))])],34)])])]),ct("input",{ref_key:"fileInput",ref:d,type:"file",accept:".epub,.EPUB",class:"hidden",onChange:g},null,544)]))}});let Yi=null,Xi=null;function du(){return Pt(this,null,function*(){typeof globalThis.JSZip!="function"&&(Xi||(Xi=Pt(this,null,function*(){try{const t=yield zi(()=>Promise.resolve().then(()=>Rd),void 0,Vt&&Vt.tagName.toUpperCase()==="SCRIPT"&&Vt.src||new URL("bundle.js",document.baseURI).href),e=t.default||t.JSZip||t.jszip||t;globalThis.JSZip=e}catch(t){const e=t instanceof Error?t.message:String(t);throw new Error(`Failed to load JSZip dependency: ${e}`)}})),yield Xi)})}function fu(t){const e=[];if(e.push(t),t&&typeof t=="object"){const n=t;e.push(n.ePub),e.push(n.default);const c=n.default;if(c&&typeof c=="object"){const d=c;e.push(d.ePub),e.push(d.default)}}e.push(globalThis.ePub);const r=e.find(n=>typeof n=="function");if(typeof r=="function")return r;const a=t&&typeof t=="object"?Object.keys(t).join(", "):"",i=typeof globalThis.ePub;throw new TypeError(`Unable to resolve epubjs factory function. Module keys: ${a||"(none)"} and typeof module is ${typeof t}. globalThis.ePub is ${i}.`)}function pu(){return Pt(this,null,function*(){if(yield du(),!Yi){const t=yield zi(()=>Promise.resolve().then(()=>Nd),void 0,Vt&&Vt.tagName.toUpperCase()==="SCRIPT"&&Vt.src||new URL("bundle.js",document.baseURI).href);Yi=fu(t)}return Yi})}let ke=null,zr;function aa(){function t(y,o){return Pt(this,null,function*(){const l=yield pu(),b=yield y.arrayBuffer();ke=l(b),yield ke.ready;const s=yield ke.loaded.metadata,v=yield ke.loaded.navigation,w={id:o||(yield E(y)),title:s.title||"Untitled",author:s.creator||"Unknown Author",coverImage:void 0,description:s.description,publisher:s.publisher,publishedAt:s.publishedAt,language:s.language,addedAt:new Date,lastReadAt:new Date,progress:0,currentChapter:0},h=yield a(ke);let x=yield n(ke);x.length===0&&(x=yield i(v));try{const f=yield ke.loaded.rootfile;if(f&&typeof f=="object"){const k=f,A=k.rootfileUrl||k.path||k.rootPath;if(A){const D=A.lastIndexOf("/");zr=D>=0?A.substring(0,D+1):""}}}catch(f){console.warn("Unable to determine base URL from book packaging"),zr=void 0}const _=yield c(ke,zr,x);return ke.chapters=_,{metadata:w,chapters:_,toc:x,coverBlob:h||void 0}})}function e(y){return Pt(this,null,function*(){if(!ke||!ke.chapters)return null;try{let o=y;if(zr)try{o=new URL(y,`http://localhost/${zr}`).pathname}catch(v){o=y}o=o.replace(/^\//,""),o=decodeURIComponent(o);const l=yield d(ke,zr,y,y),b=yield r(ke,o),s={id:o,href:y,title:b||o.split("/").pop()||y,level:0,content:l};return ke.chapters.push(s),s}catch(o){return console.warn(`Failed to load chapter: ${y}`,o),null}})}function r(y,o){return Pt(this,null,function*(){var l;try{const b=(l=y.archive)==null?void 0:l.zip;if(!b)return"";let s=b.file(o);if(!s){const _=(b.files?Object.keys(b.files):[]).find(f=>f.endsWith(o)||f.endsWith(`/${o}`));_&&(s=b.file(_))}if(!s)return"";const v=yield s.async("string"),h=new DOMParser().parseFromString(v,"application/xhtml+xml").querySelector("title");return(h==null?void 0:h.textContent)||""}catch(b){return""}})}function a(y){return Pt(this,null,function*(){try{const o=yield y.coverUrl();if(o)return yield(yield fetch(o)).blob()}catch(o){return console.warn("Failed to load cover image",o),null}return null})}function i(y){return Pt(this,null,function*(){const o=[];if(y.toc)for(const l of y.toc)o.push({id:l.id||l.href,href:l.href,title:l.label,level:0,children:[]});return o})}function n(y){return Pt(this,null,function*(){var l,b,s;const o=[];try{const v=(l=y.archive)==null?void 0:l.zip;if(!v)return o;let g=v.file("toc.ncx");if(g||(g=v.file("OPS/toc.ncx")),!g){const k=v.files?Object.keys(v.files):[];g=k.find(A=>A.toLowerCase().endsWith(".ncx"))?v.file(k.find(A=>A.toLowerCase().endsWith(".ncx"))):null}if(!g)return o;const w=yield g.async("string"),_=new DOMParser().parseFromString(w,"application/xml").querySelector("navMap");if(!_)return o;const f=Array.from(_.children).filter(k=>k.tagName==="navPoint"||k.localName==="navPoint");for(const k of f){const A=k.querySelector("text"),D=k.querySelector("content"),C=k.getAttribute("id")||"",R=parseInt(k.getAttribute("playOrder")||"0",10),I=((b=A==null?void 0:A.textContent)==null?void 0:b.trim())||"Untitled",B=(D==null?void 0:D.getAttribute("src"))||"",O=[],H=Array.from(k.children).filter(tt=>tt.tagName==="navPoint"||tt.localName==="navPoint");for(const tt of H){const Y=tt.querySelector("text"),at=tt.querySelector("content"),rt=((s=Y==null?void 0:Y.textContent)==null?void 0:s.trim())||"Untitled",ut=(at==null?void 0:at.getAttribute("src"))||"",Z=parseInt(tt.getAttribute("playOrder")||"0",10);O.push({id:tt.getAttribute("id")||ut,href:ut,title:rt,level:1,children:[],playOrder:Z})}o.push({id:C||B,href:B,title:I,level:0,children:O,playOrder:R})}o.sort((k,A)=>(k.playOrder||0)-(A.playOrder||0))}catch(v){console.warn("Failed to load NCX toc:",v)}return o})}function c(y,o,l){return Pt(this,null,function*(){const b=[],s=[];for(const v of l)if(s.push({item:v,isChild:!1}),v.children)for(const g of v.children)s.push({item:g,isChild:!0});s.sort((v,g)=>{const w=v.item.playOrder||0,h=g.item.playOrder||0;return w-h});for(const{item:v}of s){const g=yield d(y,o,v.href,v.title);b.push({id:v.id,href:v.href,title:v.title,level:v.level,content:g})}return b})}function d(y,o,l,b){return Pt(this,null,function*(){var s,v;try{const g=(s=y.archive)==null?void 0:s.zip;if(!g||typeof g.file!="function")return console.warn(`Archive zip not available for chapter: ${b} (${l})`),`<p>Unable to load chapter: ${b}</p>`;let w;if(l.startsWith("http://")||l.startsWith("https://"))try{w=new URL(l).pathname}catch(D){w=l}else if(o)try{w=new URL(l,o).pathname}catch(D){w=l}else w=l;w=w.replace(/^\//,""),w=decodeURIComponent(w);let h=g.file(w);if(!h){const C=(g.files?Object.keys(g.files):[]).find(R=>R.endsWith(w)||R.endsWith(`/${w}`));C&&(h=g.file(C),w=C)}if(!h)return console.warn(`Chapter file not found in archive: ${b} (${w})`),`<p>Unable to load chapter: ${b}</p>`;const x=yield h.async("string");if(!x||x.trim()==="")return console.warn(`Empty chapter content: ${b} (${w})`),`<p>Empty chapter: ${b}</p>`;const f=new DOMParser().parseFromString(x,"application/xhtml+xml");if(!f)return console.warn(`Failed to parse chapter: ${b} (${w})`),`<p>Unable to load chapter: ${b}</p>`;let k=f.body;if(!k){const D=f.documentElement,C=(v=D==null?void 0:D.outerHTML)==null?void 0:v.substring(0,200).replace(/\s+/g," ");if(console.warn(`No body element in chapter: ${b} (${w}) Document element: ${(D==null?void 0:D.tagName)||"none"}, outerHTML preview: ${C||"(empty)"}`),D){const R=D.getElementsByTagName("body");if(R.length>0)k=R[0];else{const I=D.getElementsByTagNameNS("http://www.w3.org/1999/xhtml","body");I.length>0&&(k=I[0])}}if(!k)return`<p>Unable to load chapter: ${b}</p>`}let A=k.innerHTML;return!A||A.trim()===""?(console.warn(`Empty body in chapter: ${b} (${w})`),`<p>Empty chapter: ${b}</p>`):(A=yield T(A,g,o,w),A)}catch(g){return console.warn(`Failed to load chapter content: ${b} (${l})`,g),`<p>Unable to load chapter: ${b}</p>`}})}function u(y,o,l){return Pt(this,null,function*(){if(y.startsWith("http://")||y.startsWith("https://"))try{return new URL(y).pathname}catch(s){return y}if(y.startsWith("data:")||y.startsWith("#"))return y;try{if(o)return new URL(y,`http://localhost/${o}`).pathname.substring(1)}catch(s){return y}const b=l.lastIndexOf("/");if(b>=0){const s=l.substring(0,b+1);try{return new URL(y,`http://localhost/${s}`).pathname.substring(1)}catch(v){return s+y}}return y})}function T(y,o,l,b){return Pt(this,null,function*(){const v=new DOMParser().parseFromString(`<div>${y}</div>`,"text/html"),g=v.querySelectorAll("img");if(g.length===0)return y;const w=new Map;for(const x of g){const _=x.getAttribute("src");if(!_)continue;if(w.has(_)){x.setAttribute("src",w.get(_));continue}if(_.startsWith("data:"))continue;let k=(yield u(_,l,b)).replace(/^\//,"");k=decodeURIComponent(k);let A=o.file(k);if(!A){const C=(o.files?Object.keys(o.files):[]).find(R=>R.endsWith(k)||R.endsWith(`/${k}`));C&&(A=o.file(C))}if(!A){console.warn(`Image not found in archive: ${k} (from ${_})`);continue}try{const D=yield A.async("blob"),C=URL.createObjectURL(D);w.set(_,C),x.setAttribute("src",C)}catch(D){console.warn(`Failed to load image: ${k}`,D)}}const h=v.querySelector("div");return h?h.innerHTML:y})}function E(y){return Pt(this,null,function*(){const o=Date.now(),l=yield crypto.subtle.digest("SHA-256",yield y.arrayBuffer()),s=Array.from(new Uint8Array(l)).map(v=>v.toString(16).padStart(2,"0")).join("");return`${y.name}-${o}-${s.substring(0,8)}`})}return{loadEpub:t,loadChapterByHref:e}}const la=aa(),gu=Object.freeze(Object.defineProperty({__proto__:null,epub:la,useEpub:aa},Symbol.toStringTag,{value:"Module"})),mu={class:"flex flex-col flex-1 h-full overflow-hidden"},vu=["disabled"],bu={class:"text-sm text-gray-500 dark:text-gray-400"},wu=["disabled"],yu=br({__name:"BookViewer",setup(t){const e=_r(),r=Ki(),{themeClasses:a}=dr(),i=Yt(null),n=Yt(null);let c=null,d=null,u=!1;const T=je(()=>r.preferences.wideMode?"max-w-full":"max-w-2xl"),E=je(()=>({fontSize:`${r.preferences.fontSize}px`,fontFamily:y(r.preferences.fontFamily),lineHeight:r.preferences.lineHeight}));function y(w){const h={georgia:'Georgia, Cambria, "Times New Roman", serif',campote:'"Campote", Georgia, serif',arial:"Arial, Helvetica, sans-serif",verdana:"Verdana, Arial, sans-serif"};return h[w]||h.georgia}function o(){c&&clearTimeout(c),c=window.setTimeout(()=>Pt(this,null,function*(){if(!i.value||!e.currentBook)return;const w=i.value.scrollTop,h=i.value.scrollHeight-i.value.clientHeight,x=h>0?w/h:0,_=e.chapters.length,f=_>0?(e.currentChapter+x)/_*100:0;yield e.updateProgress({bookId:e.metadata.id,cfi:"",scrollPosition:w,chapterIndex:e.currentChapter,percentage:Math.round(f),timestamp:new Date})}),500)}function l(w){return Pt(this,null,function*(){const x=w.target.closest("a");if(!x)return;const _=x.getAttribute("href");if(!_)return;if(_.startsWith("#")){w.preventDefault();const R=_.substring(1);ze(()=>{var B;const I=(B=n.value)==null?void 0:B.querySelector(`#${R}`);I&&I.scrollIntoView({behavior:"smooth",block:"start"})});return}if(_.startsWith("http://")||_.startsWith("https://")||_.startsWith("mailto:")||_.startsWith("tel:"))return;w.preventDefault();let f=_,k="";const A=_.indexOf("#");A>=0&&(f=_.substring(0,A),k=_.substring(A+1)),f=decodeURIComponent(f).replace(/^\/+/,"");let D=e.chapters.findIndex(R=>{const I=decodeURIComponent(R.href).replace(/^\/+/,"");if(I===f||I.endsWith(`/${f}`)||I.endsWith(`\\${f}`)||f.endsWith(`/${I}`)||f.endsWith(`\\${I}`))return!0;const B=I.split("/").pop()||I,O=f.split("/").pop()||f;return B===O||B.replace(/\.[^/.]+$/,"")===O.replace(/\.[^/.]+$/,"")});if(D>=0){e.setChapter(D),k&&ze(()=>{var I;const R=(I=n.value)==null?void 0:I.querySelector(`#${k}`);R&&R.scrollIntoView({behavior:"smooth",block:"start"})});return}const C=yield la.loadChapterByHref(_);C&&(e.addChapter(C),D=e.chapters.length-1,e.setChapter(D),k&&ze(()=>{var I;const R=(I=n.value)==null?void 0:I.querySelector(`#${k}`);R&&R.scrollIntoView({behavior:"smooth",block:"start"})}))})}function b(){if(!n.value||!e.currentBook)return;const w=e.chapters[e.currentChapter];if(!w){n.value.innerHTML='<p class="text-center text-gray-500 dark:text-gray-400">No chapter content available.</p>';return}let h=w.content||'<p class="text-center text-gray-500 dark:text-gray-400">Empty chapter.</p>';e.searchHighlight&&e.searchHighlight.chapterIndex===e.currentChapter&&(h=s(h,e.searchHighlight.searchText)),n.value.innerHTML=h,!u&&e.currentScrollPosition>0&&(i.value.scrollTop=e.currentScrollPosition,u=!0),e.searchHighlight&&e.searchHighlight.chapterIndex===e.currentChapter&&ze(()=>v())}function s(w,h){var B,O;const f=new DOMParser().parseFromString(w,"text/html").body;if(!f)return w;const k=new RegExp(`(${g(h)})`,"gi"),A=document.createTreeWalker(f,NodeFilter.SHOW_TEXT,null),D=[];let C;for(;C=A.nextNode();)if(C.nodeType===Node.TEXT_NODE){const H=C;if(k.test(H.textContent||"")){const tt=H.parentNode;tt&&tt.nodeName!=="SCRIPT"&&tt.nodeName!=="STYLE"&&D.push({node:H,parent:tt})}}let R=0;const I=(O=(B=e.searchHighlight)==null?void 0:B.matchIndex)!=null?O:0;for(const{node:H,parent:tt}of D){const Y=(H.textContent||"").matchAll(k),at=[];let rt=0;for(const Z of Y)if(Z.index!==void 0){at.push(H.textContent.substring(rt,Z.index));const et=document.createElement("mark");et.className="search-highlight",R===I&&et.classList.add("active"),et.textContent=Z[0],at.push(et),rt=Z.index+Z[0].length,R++}rt<(H.textContent||"").length&&at.push(H.textContent.substring(rt));const ut=document.createElement("span");at.forEach(Z=>{typeof Z=="string"?ut.appendChild(document.createTextNode(Z)):ut.appendChild(Z)}),tt.replaceChild(ut,H)}return f.innerHTML}function v(){var h,x,_;const w=(h=n.value)==null?void 0:h.querySelectorAll(".search-highlight");if(w&&w.length>0){const f=(_=(x=e.searchHighlight)==null?void 0:x.matchIndex)!=null?_:0,k=w[Math.min(f,w.length-1)];k&&k.scrollIntoView({behavior:"smooth",block:"center"})}}function g(w){return w.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}return wl(()=>{n.value&&e.currentBook&&e.chapters.length>0&&ze(()=>b())}),Be(()=>e.searchHighlight,()=>{n.value&&ze(()=>b())}),Be(()=>e.currentChapter,()=>Pt(this,null,function*(){if(!e.currentBook)return;const w=e.chapters.length,h=w>0?e.currentChapter/w*100:0;yield e.updateProgress({bookId:e.metadata.id,cfi:"",scrollPosition:0,chapterIndex:e.currentChapter,percentage:Math.round(h),timestamp:new Date})})),Be(()=>[r.preferences.wideMode,r.preferences.fontSize,r.preferences.fontFamily,r.preferences.lineHeight],()=>{d&&clearTimeout(d),d=window.setTimeout(()=>Pt(this,null,function*(){if(!i.value||!e.currentBook)return;yield ze();const w=i.value.scrollTop,h=i.value.scrollHeight-i.value.clientHeight,x=h>0?w/h:0,_=e.chapters.length,f=_>0?(e.currentChapter+x)/_*100:0;yield e.updateProgress({bookId:e.metadata.id,cfi:"",scrollPosition:w,chapterIndex:e.currentChapter,percentage:Math.round(f),timestamp:new Date})}),500)}),Nr(()=>{c&&clearTimeout(c),d&&clearTimeout(d)}),(w,h)=>(jt(),Ft("div",mu,[(jt(),Ft("div",{key:kt(e).currentChapter,ref_key:"containerRef",ref:i,class:Qt(["flex-1 overflow-y-auto overflow-x-hidden scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-gray-600 scrollbar-track-transparent scroll-smooth",[T.value,kt(a).bg,kt(a).text]]),onScroll:o},[ct("article",{ref_key:"articleRef",ref:n,class:Qt(["prose max-w-none prose-p:leading-loose prose-p:mb-5 prose-headings:font-semibold prose-a:text-indigo-600 dark:prose-a:text-indigo-400 prose-img:rounded-lg px-4 py-6 mx-auto",kt(a).prose]),style:or(E.value),onClick:l},null,6)],34)),ct("nav",{class:Qt(["flex items-center justify-between px-4 py-3 border-t border-gray-200 dark:border-gray-700 sm:hidden",kt(a).bg])},[ct("button",{onClick:h[0]||(h[0]=x=>kt(e).prevChapter()),disabled:kt(e).currentChapter===0,class:Qt(["flex items-center px-4 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",kt(a).text])},[...h[2]||(h[2]=[ct("svg",{class:"w-5 h-5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[ct("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),ct("span",{class:"text-sm"},"Prev",-1)])],10,vu),ct("span",bu,ie(kt(e).currentChapter+1)+" / "+ie(kt(e).chapters.length),1),ct("button",{onClick:h[1]||(h[1]=x=>kt(e).nextChapter()),disabled:kt(e).currentChapter>=kt(e).chapters.length-1,class:Qt(["flex items-center px-4 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",kt(a).text])},[...h[3]||(h[3]=[ct("span",{class:"text-sm"},"Next",-1),ct("svg",{class:"w-5 h-5 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[ct("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])],10,wu)],2)]))}}),xu={class:"flex items-center justify-between px-4 py-3 max-w-7xl mx-auto"},_u={class:"flex items-center space-x-4"},Eu={class:"text-lg font-semibold truncate max-w-[200px]"},ku={class:"hidden sm:flex items-center space-x-2"},Su=["disabled"],Cu={class:"text-sm text-gray-500 dark:text-gray-400"},Tu=["disabled"],Ou={class:"flex items-center space-x-2"},Iu={class:"hidden sm:flex items-center space-x-1 border-r border-gray-200 dark:border-gray-700 pr-3 mr-1"},Au={class:"w-12 text-center text-sm font-medium"},Ru=["title"],Nu={key:0,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Du={key:1,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Lu={key:2,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Pu=["title"],Mu={class:"h-1 bg-gray-200 dark:bg-gray-700"},zu=br({__name:"Controls",emits:["toggle-toc","toggle-search","toggle-library"],setup(t,{emit:e}){const r=e,a=_r(),i=Ki(),{themeLabel:n,themeClasses:c}=dr(),d=je(()=>`${i.preferences.fontSize}px`);function u(){i.setFontSize(i.preferences.fontSize+2)}function T(){i.setFontSize(i.preferences.fontSize-2)}function E(){dr().cycleTheme()}return(y,o)=>{var l,b;return jt(),Ft("header",{class:Qt(["sticky top-0 z-30 border-b border-gray-200 dark:border-gray-700 backdrop-blur-sm bg-white/80 dark:bg-gray-900/80",kt(c).bg])},[ct("div",xu,[ct("div",_u,[ct("h1",Eu,ie(((l=kt(a).metadata)==null?void 0:l.title)||"EpubWebReader"),1),ct("div",ku,[ct("button",{onClick:o[0]||(o[0]=s=>kt(a).prevChapter()),disabled:kt(a).currentChapter===0,class:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 disabled:opacity-50 disabled:cursor-not-allowed",title:"Previous chapter"},[...o[6]||(o[6]=[ct("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[ct("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])],8,Su),ct("span",Cu,ie(kt(a).currentChapter+1)+" / "+ie(kt(a).chapters.length),1),ct("button",{onClick:o[1]||(o[1]=s=>kt(a).nextChapter()),disabled:kt(a).currentChapter>=kt(a).chapters.length-1,class:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 disabled:opacity-50 disabled:cursor-not-allowed",title:"Next chapter"},[...o[7]||(o[7]=[ct("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[ct("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])],8,Tu)])]),ct("div",Ou,[ct("div",Iu,[ct("button",{onClick:T,class:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800",title:"Decrease font size"},[...o[8]||(o[8]=[ct("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[ct("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 12H4"})],-1)])]),ct("span",Au,ie(d.value),1),ct("button",{onClick:u,class:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800",title:"Increase font size"},[...o[9]||(o[9]=[ct("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[ct("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1)])])]),ct("button",{onClick:E,class:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800",title:`Current theme: ${kt(n)}`},[kt(i).preferences.theme==="light"?(jt(),Ft("svg",Nu,[...o[10]||(o[10]=[ct("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"},null,-1)])])):kt(i).preferences.theme==="dark"?(jt(),Ft("svg",Du,[...o[11]||(o[11]=[ct("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"},null,-1)])])):(jt(),Ft("svg",Lu,[...o[12]||(o[12]=[ct("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"},null,-1)])]))],8,Ru),ct("button",{onClick:o[2]||(o[2]=s=>kt(i).toggleWideMode()),class:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 hidden sm:block",title:kt(i).preferences.wideMode?"Wide screen mode on":"Wide screen mode off"},[...o[13]||(o[13]=[ct("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[ct("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"})],-1)])],8,Pu),ct("button",{onClick:o[3]||(o[3]=s=>r("toggle-search")),class:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800",title:"Search"},[...o[14]||(o[14]=[ct("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[ct("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)])]),ct("button",{onClick:o[4]||(o[4]=s=>r("toggle-toc")),class:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800",title:"Table of contents"},[...o[15]||(o[15]=[ct("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[ct("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)])]),ct("button",{onClick:o[5]||(o[5]=s=>r("toggle-library")),class:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800",title:"Library"},[...o[16]||(o[16]=[ct("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[ct("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})],-1)])])])]),ct("div",Mu,[ct("div",{class:"h-full bg-indigo-600 transition-all duration-300",style:or({width:`${((b=kt(a).metadata)==null?void 0:b.progress)||0}%`})},null,4)])],2)}}}),Bu={class:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700"},ju={class:"flex-1 overflow-y-auto p-4"},Uu={class:"space-y-1"},Fu=["onClick"],Wu={key:0,class:"text-center py-8 text-gray-500"},$u=br({__name:"ChapterList",emits:["close"],setup(t,{emit:e}){const r=e,a=_r(),{themeClasses:i}=dr();function n(c){a.setChapter(c),r("close")}return(c,d)=>(jt(),Ft("div",{class:Qt(["h-full flex flex-col",kt(i).bg])},[ct("div",Bu,[d[2]||(d[2]=ct("h2",{class:"font-semibold"},"Table of Contents",-1)),ct("button",{onClick:d[0]||(d[0]=u=>r("close")),class:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700","aria-label":"Close"},[...d[1]||(d[1]=[ct("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[ct("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),ct("nav",ju,[ct("ul",Uu,[(jt(!0),Ft(Ee,null,An(kt(a).chapters,(u,T)=>(jt(),Ft("li",{key:u.id},[ct("button",{onClick:E=>n(T),class:Qt(["w-full text-left px-3 py-2 rounded-lg transition-colors duration-200",[T===kt(a).currentChapter?"bg-indigo-100 dark:bg-indigo-900 text-indigo-700 dark:text-indigo-300 font-medium":"hover:bg-gray-100 dark:hover:bg-gray-700"]])},[ct("span",{class:"block text-sm truncate",style:or({paddingLeft:`${u.level*16+8}px`})},ie(u.title||`Chapter ${T+1}`),5)],10,Fu)]))),128))]),kt(a).chapters.length===0?(jt(),Ft("div",Wu," No table of contents available ")):Lr("",!0)])],2))}});function Hu(){const t=Yt([]),e=Yt(!1),r=Yt("");function a(c,d){return Pt(this,null,function*(){if(!c.trim())return t.value=[],[];e.value=!0,r.value=c;const u=[],T=10;try{for(let E=0;E<d.length;E++){const y=d[E];let o=0;if(!y.content)continue;const s=new DOMParser().parseFromString(y.content,"text/html").body;if(!s)continue;const v=s.textContent||"",g=v.toLowerCase(),w=c.toLowerCase();let h=g.indexOf(w);for(;h!==-1&&o<T;){const _=Math.max(0,h-50),f=Math.min(v.length,h+c.length+50);let k=v.substring(_,f);const A=v.substring(h,h+c.length);_>0&&(k="..."+k),f<v.length&&(k=k+"..."),k=k.replace(new RegExp(`(${n(c)})`,"gi"),"<mark>$1</mark>"),u.push({chapterIndex:E,chapterTitle:y.title,excerpt:k,cfi:y.href,searchText:c,matchedText:A,matchIndex:o}),o++,h=g.indexOf(w,h+1)}}}finally{e.value=!1}return t.value=u,u})}function i(){t.value=[],r.value=""}function n(c){return c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}return{results:t,isSearching:e,query:r,searchInBook:a,clearSearch:i}}const Vu={class:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700"},qu={class:"p-4 border-b border-gray-200 dark:border-gray-700"},Ku={class:"relative"},Yu={class:"flex-1 overflow-y-auto p-4"},Xu={key:0,class:"flex justify-center py-8"},Zu={key:1,class:"text-center py-8 text-gray-500"},Gu={key:2,class:"space-y-3"},Ju={class:"text-sm text-gray-500 dark:text-gray-400 mb-4"},Qu=["onClick"],td=["innerHTML"],ed={key:3,class:"text-center py-8 text-gray-500"},rd=br({__name:"SearchPanel",emits:["close"],setup(t,{emit:e}){const r=e,a=_r(),i=Hu(),{themeClasses:n}=dr(),c=Yt(""),d=Yt(null);function u(){return Pt(this,null,function*(){if(!c.value.trim()){a.setSearchHighlight(null);return}yield i.searchInBook(c.value,a.chapters);const E=i.results.value.filter(y=>y.chapterIndex===a.currentChapter);a.setSearchHighlight({chapterIndex:a.currentChapter,searchText:c.value,matchIndex:E.length>0?0:void 0})})}Nr(()=>{a.setSearchHighlight(null)}),Be(c,()=>{const E=setTimeout(()=>{u()},300);return()=>clearTimeout(E)});function T(E){a.setSearchHighlight({chapterIndex:E.chapterIndex,searchText:E.searchText,matchIndex:E.matchIndex}),a.setChapter(E.chapterIndex)}return(E,y)=>(jt(),Ft("div",{class:Qt(["h-full flex flex-col",kt(n).bg])},[ct("div",Vu,[y[3]||(y[3]=ct("h2",{class:"font-semibold"},"Search",-1)),ct("button",{onClick:y[0]||(y[0]=o=>r("close")),class:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700","aria-label":"Close"},[...y[2]||(y[2]=[ct("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[ct("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),ct("div",qu,[ct("div",Ku,[pl(ct("input",{ref_key:"searchInput",ref:d,"onUpdate:modelValue":y[1]||(y[1]=o=>c.value=o),type:"text",placeholder:"Search in book...",class:Qt(["w-full px-4 py-2 pl-10 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-indigo-500",kt(n).text])},null,2),[[Vc,c.value]]),y[4]||(y[4]=ct("svg",{class:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[ct("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1))])]),ct("div",Yu,[kt(i).isSearching.value?(jt(),Ft("div",Xu,[...y[5]||(y[5]=[ct("svg",{class:"animate-spin h-6 w-6 text-indigo-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[ct("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),ct("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)])])):c.value&&kt(i).results.value.length===0?(jt(),Ft("div",Zu,' No results found for "'+ie(c.value)+'" ',1)):kt(i).results.value.length>0?(jt(),Ft("div",Gu,[ct("p",Ju,ie(kt(i).results.value.length)+" results found ",1),(jt(!0),Ft(Ee,null,An(kt(i).results.value,(o,l)=>(jt(),Ft("button",{key:l,onClick:b=>T(o),class:"w-full text-left p-3 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors"},[ct("p",{class:Qt(["font-medium text-sm mb-1",kt(n).text])},ie(o.chapterTitle),3),ct("p",{class:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2",innerHTML:o.excerpt},null,8,td)],8,Qu))),128))])):(jt(),Ft("div",ed," Enter a search term to find content in this book "))])],2))}}),nd={class:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700"},id={class:"flex items-center gap-2"},sd={class:"text-sm text-gray-500 dark:text-gray-400"},od={class:"flex items-center gap-1"},ad={class:"flex-1 overflow-y-auto relative"},ld={key:0,class:"absolute inset-0 z-10 bg-indigo-500/10 backdrop-blur-sm border-4 border-dashed border-indigo-500 rounded-lg flex items-center justify-center"},cd={key:1,class:"absolute inset-0 pointer-events-none opacity-5 flex items-center justify-center"},hd={class:"p-4"},ud={key:0,class:"text-center py-16"},dd={key:1,class:"space-y-3"},fd=["onClick"],pd={class:"w-12 h-16 flex-shrink-0 rounded overflow-hidden bg-gray-200 dark:bg-gray-700 flex items-center justify-center"},gd=["src","alt"],md={key:1,class:"w-6 h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},vd={class:"flex-1 min-w-0"},bd={class:"text-sm text-gray-500 dark:text-gray-400 truncate"},wd={class:"mt-2"},yd={class:"flex items-center gap-2 mb-1"},xd={class:"text-xs text-gray-400"},_d={class:"text-xs text-gray-400"},Ed={class:"w-full h-1.5 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden"},kd=["onClick"],Sd={class:"p-4 border-t border-gray-200 dark:border-gray-700"},Cd=["disabled"],Td=br({__name:"LibraryPanel",emits:["close"],setup(t,{emit:e}){const r=e,a=Fn(),i=_r(),{themeClasses:n}=dr(),c=Yt(null),d=Yt(new Map),u=Yt(!1);In(()=>Pt(this,null,function*(){a.isInitialized||(yield a.init()),yield T()})),Nr(()=>{d.value.forEach(h=>{URL.revokeObjectURL(h)}),d.value.clear()});function T(){return Pt(this,null,function*(){for(const h of a.books){const x=yield a.getCoverImage(h.id);if(x){const _=URL.createObjectURL(x);d.value.set(h.id,_)}}})}function E(h){h.preventDefault(),u.value=!0}function y(h){var x;h.preventDefault(),(!h.relatedTarget||!((x=h.currentTarget)!=null&&x.contains(h.relatedTarget)))&&(u.value=!1)}function o(h){return Pt(this,null,function*(){var _;h.preventDefault(),u.value=!1;const x=(_=h.dataTransfer)==null?void 0:_.files;x&&x.length>0&&(yield s(x[0]))})}function l(h){return Pt(this,null,function*(){const x=yield a.getBookBlob(h.id);x&&(yield i.loadBook(new File([x],h.title+".epub",{type:"application/epub+zip"}),!1,h.id),r("close"))})}function b(h){return Pt(this,null,function*(){var x;yield a.removeBook(h),((x=i.metadata)==null?void 0:x.id)===h&&i.clearBook()})}function s(h){return Pt(this,null,function*(){try{yield i.loadBook(h,!0),r("close")}catch(x){console.error("Failed to load book:",x)}})}function v(h){const x=h.target;x.files&&x.files.length>0&&s(x.files[0])}function g(){var h;(h=c.value)==null||h.click()}function w(h){return new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric"}).format(new Date(h))}return(h,x)=>(jt(),Ft("div",{class:Qt(["h-full flex flex-col",kt(n).bg]),onDragover:E,onDragleave:y,onDrop:o},[ct("div",nd,[ct("div",id,[x[2]||(x[2]=ct("h2",{class:"font-semibold"},"Library",-1)),ct("span",sd," ("+ie(kt(a).books.length)+") ",1)]),ct("div",od,[ct("button",{onClick:g,class:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-indigo-600 dark:text-indigo-400","aria-label":"Upload Book",title:"Upload Book"},[...x[3]||(x[3]=[ct("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[ct("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})],-1)])]),ct("button",{onClick:x[0]||(x[0]=_=>r("close")),class:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700","aria-label":"Close"},[...x[4]||(x[4]=[ct("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[ct("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])]),ct("div",ad,[u.value?(jt(),Ft("div",ld,[...x[5]||(x[5]=[uc('<div class="text-center"><svg class="w-16 h-16 mx-auto text-indigo-600 dark:text-indigo-400 mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path></svg><p class="text-lg font-semibold text-indigo-600 dark:text-indigo-400"> Drop your EPUB here to add it to the library </p><p class="text-sm text-gray-600 dark:text-gray-400 mt-2"> or select a book from your collection </p></div>',1)])])):(jt(),Ft("div",cd,[...x[6]||(x[6]=[ct("svg",{class:"w-24 h-24 text-gray-400 dark:text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[ct("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"0.5",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})],-1)])])),ct("div",hd,[kt(a).books.length===0?(jt(),Ft("div",ud,[x[7]||(x[7]=ct("div",{class:"w-20 h-20 rounded-full bg-gradient-to-br from-indigo-100 to-purple-100 dark:from-indigo-900/30 dark:to-purple-900/30 flex items-center justify-center mx-auto mb-4"},[ct("svg",{class:"w-10 h-10 text-indigo-400 dark:text-indigo-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[ct("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})])],-1)),ct("h3",{class:Qt(["text-lg font-semibold mb-2",kt(n).text])},"Your library is empty",2),x[8]||(x[8]=ct("p",{class:"text-gray-500 dark:text-gray-400 mb-2"}," Drop an EPUB file here or use the upload button to get started ",-1))])):(jt(),Ft("div",dd,[(jt(!0),Ft(Ee,null,An(kt(a).books,_=>(jt(),Ft("div",{key:_.id,class:"flex items-start gap-3 p-3 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer group",onClick:f=>l(_)},[ct("div",pd,[d.value.has(_.id)?(jt(),Ft("img",{key:0,src:d.value.get(_.id),alt:_.title,class:"w-full h-full object-cover"},null,8,gd)):(jt(),Ft("svg",md,[...x[9]||(x[9]=[ct("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"},null,-1)])]))]),ct("div",vd,[ct("h3",{class:Qt(["font-medium truncate",kt(n).text])},ie(_.title),3),ct("p",bd,ie(_.author),1),ct("div",wd,[ct("div",yd,[ct("span",xd,ie(w(_.lastReadAt)),1),ct("span",_d,ie(Math.round(_.progress))+"% ",1)]),ct("div",Ed,[ct("div",{class:"h-full bg-gradient-to-r from-indigo-500 to-purple-500 rounded-full transition-all duration-300",style:or({width:`${Math.round(_.progress)}%`})},null,4)])])]),ct("button",{onClick:Ni(f=>b(_.id),["stop"]),class:"opacity-0 group-hover:opacity-100 p-2 rounded-lg hover:bg-red-100 dark:hover:bg-red-900/30 text-red-600 dark:text-red-400 transition-all",title:"Remove from library"},[...x[10]||(x[10]=[ct("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[ct("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,kd)],8,fd))),128))]))])]),ct("div",Sd,[ct("button",{onClick:x[1]||(x[1]=_=>kt(a).clearLibrary()),class:"w-full px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/30 rounded-lg transition-colors",disabled:kt(a).books.length===0}," Clear Library ",8,Cd)]),ct("input",{ref_key:"fileInput",ref:c,type:"file",accept:".epub,.EPUB",class:"hidden",onChange:v},null,544)],34))}}),Od={key:2,class:"flex flex-col h-screen"},Id={class:"flex flex-1 overflow-hidden"},ca=Zc(br({__name:"App",setup(t){const e=_r(),{themeClasses:r}=dr(),a=Yt(!1),i=Yt(!1),n=Yt(!1);function c(y,o=!0,l){y.name.endsWith(".epub")||y.name.endsWith(".EPUB")?e.loadBook(y,o,l).catch(b=>{console.error("Failed to load book:",b)}):console.warn("Invalid file type:",y.name)}function d(){a.value=!a.value,i.value=!1,n.value=!1}function u(){i.value=!i.value,a.value=!1,n.value=!1}function T(){n.value=!n.value,a.value=!1,i.value=!1}function E(){a.value=!1,i.value=!1,n.value=!1}return(y,o)=>(jt(),Ft("div",{class:Qt(["min-h-screen transition-colors duration-300",kt(r).bg,kt(r).text])},[kt(e).currentBook?kt(e).isLoading?(jt(),Ft("div",{key:1,class:Qt(["flex flex-col items-center justify-center min-h-screen",[kt(r).bg,kt(r).text]])},[...o[3]||(o[3]=[ct("svg",{class:"animate-spin h-12 w-12 text-indigo-600 mb-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[ct("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),ct("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),ct("p",{class:"text-lg"},"Loading book...",-1)])],2)):(jt(),Ft("div",Od,[ye(zu,{onToggleToc:d,onToggleSearch:u,onToggleLibrary:T}),ct("div",Id,[a.value?(jt(),Ft("aside",{key:0,class:Qt(["fixed top-16 bottom-0 left-0 z-50 w-72 overflow-y-auto border-r border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 shadow-xl transition-transform duration-300",kt(r).bg])},[ye($u,{onClose:o[0]||(o[0]=l=>a.value=!1)})],2)):Lr("",!0),ct("main",{class:Qt(["flex-1 transition-all duration-300 overflow-hidden",{"ml-72":a.value,"mr-80":i.value||n.value}])},[ye(yu)],2),i.value?(jt(),Ft("div",{key:1,class:Qt(["fixed top-16 bottom-0 right-0 z-50 w-80 overflow-y-auto border-l border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 shadow-xl",kt(r).bg])},[ye(rd,{onClose:o[1]||(o[1]=l=>i.value=!1)})],2)):Lr("",!0),n.value?(jt(),Ft("div",{key:2,class:Qt(["fixed top-16 bottom-0 right-0 z-50 w-80 overflow-y-auto border-l border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 shadow-xl",kt(r).bg])},[ye(Td,{onClose:o[2]||(o[2]=l=>n.value=!1)})],2)):Lr("",!0)])])):(jt(),yo(uu,{key:0,onSelectBook:c})),a.value||i.value||n.value?(jt(),Ft("div",{key:3,class:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:E})):Lr("",!0)],2))}})),Ad=Qc();ca.use(Ad),ca.mount("#app");var Hn=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function ha(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Vn(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ua={exports:{}};/*!

  JSZip v3.10.1 - A JavaScript class for generating and reading zip files
  <http://stuartk.com/jszip>

  (c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
  Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

  JSZip uses the library pako released under the MIT license :
  https://github.com/nodeca/pako/blob/main/LICENSE
  */(function(t,e){(function(r){t.exports=r()})(function(){return function r(a,i,n){function c(T,E){if(!i[T]){if(!a[T]){var y=typeof Vn=="function"&&Vn;if(!E&&y)return y(T,!0);if(d)return d(T,!0);var o=new Error("Cannot find module '"+T+"'");throw o.code="MODULE_NOT_FOUND",o}var l=i[T]={exports:{}};a[T][0].call(l.exports,function(b){var s=a[T][1][b];return c(s||b)},l,l.exports,r,a,i,n)}return i[T].exports}for(var d=typeof Vn=="function"&&Vn,u=0;u<n.length;u++)c(n[u]);return c}({1:[function(r,a,i){var n=r("./utils"),c=r("./support"),d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(u){for(var T,E,y,o,l,b,s,v=[],g=0,w=u.length,h=w,x=n.getTypeOf(u)!=="string";g<u.length;)h=w-g,y=x?(T=u[g++],E=g<w?u[g++]:0,g<w?u[g++]:0):(T=u.charCodeAt(g++),E=g<w?u.charCodeAt(g++):0,g<w?u.charCodeAt(g++):0),o=T>>2,l=(3&T)<<4|E>>4,b=1<h?(15&E)<<2|y>>6:64,s=2<h?63&y:64,v.push(d.charAt(o)+d.charAt(l)+d.charAt(b)+d.charAt(s));return v.join("")},i.decode=function(u){var T,E,y,o,l,b,s=0,v=0,g="data:";if(u.substr(0,g.length)===g)throw new Error("Invalid base64 input, it looks like a data url.");var w,h=3*(u=u.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(u.charAt(u.length-1)===d.charAt(64)&&h--,u.charAt(u.length-2)===d.charAt(64)&&h--,h%1!=0)throw new Error("Invalid base64 input, bad content length.");for(w=c.uint8array?new Uint8Array(0|h):new Array(0|h);s<u.length;)T=d.indexOf(u.charAt(s++))<<2|(o=d.indexOf(u.charAt(s++)))>>4,E=(15&o)<<4|(l=d.indexOf(u.charAt(s++)))>>2,y=(3&l)<<6|(b=d.indexOf(u.charAt(s++))),w[v++]=T,l!==64&&(w[v++]=E),b!==64&&(w[v++]=y);return w}},{"./support":30,"./utils":32}],2:[function(r,a,i){var n=r("./external"),c=r("./stream/DataWorker"),d=r("./stream/Crc32Probe"),u=r("./stream/DataLengthProbe");function T(E,y,o,l,b){this.compressedSize=E,this.uncompressedSize=y,this.crc32=o,this.compression=l,this.compressedContent=b}T.prototype={getContentWorker:function(){var E=new c(n.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new u("data_length")),y=this;return E.on("end",function(){if(this.streamInfo.data_length!==y.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),E},getCompressedWorker:function(){return new c(n.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},T.createWorkerFrom=function(E,y,o){return E.pipe(new d).pipe(new u("uncompressedSize")).pipe(y.compressWorker(o)).pipe(new u("compressedSize")).withStreamInfo("compression",y)},a.exports=T},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,a,i){var n=r("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new n("STORE compression")},uncompressWorker:function(){return new n("STORE decompression")}},i.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,a,i){var n=r("./utils"),c=function(){for(var d,u=[],T=0;T<256;T++){d=T;for(var E=0;E<8;E++)d=1&d?3988292384^d>>>1:d>>>1;u[T]=d}return u}();a.exports=function(d,u){return d!==void 0&&d.length?n.getTypeOf(d)!=="string"?function(T,E,y,o){var l=c,b=o+y;T^=-1;for(var s=o;s<b;s++)T=T>>>8^l[255&(T^E[s])];return-1^T}(0|u,d,d.length,0):function(T,E,y,o){var l=c,b=o+y;T^=-1;for(var s=o;s<b;s++)T=T>>>8^l[255&(T^E.charCodeAt(s))];return-1^T}(0|u,d,d.length,0):0}},{"./utils":32}],5:[function(r,a,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(r,a,i){var n=null;n=typeof Promise!="undefined"?Promise:r("lie"),a.exports={Promise:n}},{lie:37}],7:[function(r,a,i){var n=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Uint32Array!="undefined",c=r("pako"),d=r("./utils"),u=r("./stream/GenericWorker"),T=n?"uint8array":"array";function E(y,o){u.call(this,"FlateWorker/"+y),this._pako=null,this._pakoAction=y,this._pakoOptions=o,this.meta={}}i.magic="\b\0",d.inherits(E,u),E.prototype.processChunk=function(y){this.meta=y.meta,this._pako===null&&this._createPako(),this._pako.push(d.transformTo(T,y.data),!1)},E.prototype.flush=function(){u.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},E.prototype.cleanUp=function(){u.prototype.cleanUp.call(this),this._pako=null},E.prototype._createPako=function(){this._pako=new c[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var y=this;this._pako.onData=function(o){y.push({data:o,meta:y.meta})}},i.compressWorker=function(y){return new E("Deflate",y)},i.uncompressWorker=function(){return new E("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,a,i){function n(l,b){var s,v="";for(s=0;s<b;s++)v+=String.fromCharCode(255&l),l>>>=8;return v}function c(l,b,s,v,g,w){var h,x,_=l.file,f=l.compression,k=w!==T.utf8encode,A=d.transformTo("string",w(_.name)),D=d.transformTo("string",T.utf8encode(_.name)),C=_.comment,R=d.transformTo("string",w(C)),I=d.transformTo("string",T.utf8encode(C)),B=D.length!==_.name.length,O=I.length!==C.length,H="",tt="",Y="",at=_.dir,rt=_.date,ut={crc32:0,compressedSize:0,uncompressedSize:0};b&&!s||(ut.crc32=l.crc32,ut.compressedSize=l.compressedSize,ut.uncompressedSize=l.uncompressedSize);var Z=0;b&&(Z|=8),k||!B&&!O||(Z|=2048);var et=0,gt=0;at&&(et|=16),g==="UNIX"?(gt=798,et|=function(dt,Et){var St=dt;return dt||(St=Et?16893:33204),(65535&St)<<16}(_.unixPermissions,at)):(gt=20,et|=function(dt){return 63&(dt||0)}(_.dosPermissions)),h=rt.getUTCHours(),h<<=6,h|=rt.getUTCMinutes(),h<<=5,h|=rt.getUTCSeconds()/2,x=rt.getUTCFullYear()-1980,x<<=4,x|=rt.getUTCMonth()+1,x<<=5,x|=rt.getUTCDate(),B&&(tt=n(1,1)+n(E(A),4)+D,H+="up"+n(tt.length,2)+tt),O&&(Y=n(1,1)+n(E(R),4)+I,H+="uc"+n(Y.length,2)+Y);var pt="";return pt+=`
\0`,pt+=n(Z,2),pt+=f.magic,pt+=n(h,2),pt+=n(x,2),pt+=n(ut.crc32,4),pt+=n(ut.compressedSize,4),pt+=n(ut.uncompressedSize,4),pt+=n(A.length,2),pt+=n(H.length,2),{fileRecord:y.LOCAL_FILE_HEADER+pt+A+H,dirRecord:y.CENTRAL_FILE_HEADER+n(gt,2)+pt+n(R.length,2)+"\0\0\0\0"+n(et,4)+n(v,4)+A+H+R}}var d=r("../utils"),u=r("../stream/GenericWorker"),T=r("../utf8"),E=r("../crc32"),y=r("../signature");function o(l,b,s,v){u.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=b,this.zipPlatform=s,this.encodeFileName=v,this.streamFiles=l,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}d.inherits(o,u),o.prototype.push=function(l){var b=l.meta.percent||0,s=this.entriesCount,v=this._sources.length;this.accumulate?this.contentBuffer.push(l):(this.bytesWritten+=l.data.length,u.prototype.push.call(this,{data:l.data,meta:{currentFile:this.currentFile,percent:s?(b+100*(s-v-1))/s:100}}))},o.prototype.openedSource=function(l){this.currentSourceOffset=this.bytesWritten,this.currentFile=l.file.name;var b=this.streamFiles&&!l.file.dir;if(b){var s=c(l,b,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:s.fileRecord,meta:{percent:0}})}else this.accumulate=!0},o.prototype.closedSource=function(l){this.accumulate=!1;var b=this.streamFiles&&!l.file.dir,s=c(l,b,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(s.dirRecord),b)this.push({data:function(v){return y.DATA_DESCRIPTOR+n(v.crc32,4)+n(v.compressedSize,4)+n(v.uncompressedSize,4)}(l),meta:{percent:100}});else for(this.push({data:s.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},o.prototype.flush=function(){for(var l=this.bytesWritten,b=0;b<this.dirRecords.length;b++)this.push({data:this.dirRecords[b],meta:{percent:100}});var s=this.bytesWritten-l,v=function(g,w,h,x,_){var f=d.transformTo("string",_(x));return y.CENTRAL_DIRECTORY_END+"\0\0\0\0"+n(g,2)+n(g,2)+n(w,4)+n(h,4)+n(f.length,2)+f}(this.dirRecords.length,s,l,this.zipComment,this.encodeFileName);this.push({data:v,meta:{percent:100}})},o.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},o.prototype.registerPrevious=function(l){this._sources.push(l);var b=this;return l.on("data",function(s){b.processChunk(s)}),l.on("end",function(){b.closedSource(b.previous.streamInfo),b._sources.length?b.prepareNextSource():b.end()}),l.on("error",function(s){b.error(s)}),this},o.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},o.prototype.error=function(l){var b=this._sources;if(!u.prototype.error.call(this,l))return!1;for(var s=0;s<b.length;s++)try{b[s].error(l)}catch(v){}return!0},o.prototype.lock=function(){u.prototype.lock.call(this);for(var l=this._sources,b=0;b<l.length;b++)l[b].lock()},a.exports=o},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,a,i){var n=r("../compressions"),c=r("./ZipFileWorker");i.generateWorker=function(d,u,T){var E=new c(u.streamFiles,T,u.platform,u.encodeFileName),y=0;try{d.forEach(function(o,l){y++;var b=function(w,h){var x=w||h,_=n[x];if(!_)throw new Error(x+" is not a valid compression method !");return _}(l.options.compression,u.compression),s=l.options.compressionOptions||u.compressionOptions||{},v=l.dir,g=l.date;l._compressWorker(b,s).withStreamInfo("file",{name:o,dir:v,date:g,comment:l.comment||"",unixPermissions:l.unixPermissions,dosPermissions:l.dosPermissions}).pipe(E)}),E.entriesCount=y}catch(o){E.error(o)}return E}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,a,i){function n(){if(!(this instanceof n))return new n;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var c=new n;for(var d in this)typeof this[d]!="function"&&(c[d]=this[d]);return c}}(n.prototype=r("./object")).loadAsync=r("./load"),n.support=r("./support"),n.defaults=r("./defaults"),n.version="3.10.1",n.loadAsync=function(c,d){return new n().loadAsync(c,d)},n.external=r("./external"),a.exports=n},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,a,i){var n=r("./utils"),c=r("./external"),d=r("./utf8"),u=r("./zipEntries"),T=r("./stream/Crc32Probe"),E=r("./nodejsUtils");function y(o){return new c.Promise(function(l,b){var s=o.decompressed.getContentWorker().pipe(new T);s.on("error",function(v){b(v)}).on("end",function(){s.streamInfo.crc32!==o.decompressed.crc32?b(new Error("Corrupted zip : CRC32 mismatch")):l()}).resume()})}a.exports=function(o,l){var b=this;return l=n.extend(l||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:d.utf8decode}),E.isNode&&E.isStream(o)?c.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):n.prepareContent("the loaded zip file",o,!0,l.optimizedBinaryString,l.base64).then(function(s){var v=new u(l);return v.load(s),v}).then(function(s){var v=[c.Promise.resolve(s)],g=s.files;if(l.checkCRC32)for(var w=0;w<g.length;w++)v.push(y(g[w]));return c.Promise.all(v)}).then(function(s){for(var v=s.shift(),g=v.files,w=0;w<g.length;w++){var h=g[w],x=h.fileNameStr,_=n.resolve(h.fileNameStr);b.file(_,h.decompressed,{binary:!0,optimizedBinaryString:!0,date:h.date,dir:h.dir,comment:h.fileCommentStr.length?h.fileCommentStr:null,unixPermissions:h.unixPermissions,dosPermissions:h.dosPermissions,createFolders:l.createFolders}),h.dir||(b.file(_).unsafeOriginalName=x)}return v.zipComment.length&&(b.comment=v.zipComment),b})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,a,i){var n=r("../utils"),c=r("../stream/GenericWorker");function d(u,T){c.call(this,"Nodejs stream input adapter for "+u),this._upstreamEnded=!1,this._bindStream(T)}n.inherits(d,c),d.prototype._bindStream=function(u){var T=this;(this._stream=u).pause(),u.on("data",function(E){T.push({data:E,meta:{percent:0}})}).on("error",function(E){T.isPaused?this.generatedError=E:T.error(E)}).on("end",function(){T.isPaused?T._upstreamEnded=!0:T.end()})},d.prototype.pause=function(){return!!c.prototype.pause.call(this)&&(this._stream.pause(),!0)},d.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},a.exports=d},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,a,i){var n=r("readable-stream").Readable;function c(d,u,T){n.call(this,u),this._helper=d;var E=this;d.on("data",function(y,o){E.push(y)||E._helper.pause(),T&&T(o)}).on("error",function(y){E.emit("error",y)}).on("end",function(){E.push(null)})}r("../utils").inherits(c,n),c.prototype._read=function(){this._helper.resume()},a.exports=c},{"../utils":32,"readable-stream":16}],14:[function(r,a,i){a.exports={isNode:typeof Buffer!="undefined",newBufferFrom:function(n,c){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(n,c);if(typeof n=="number")throw new Error('The "data" argument must not be a number');return new Buffer(n,c)},allocBuffer:function(n){if(Buffer.alloc)return Buffer.alloc(n);var c=new Buffer(n);return c.fill(0),c},isBuffer:function(n){return Buffer.isBuffer(n)},isStream:function(n){return n&&typeof n.on=="function"&&typeof n.pause=="function"&&typeof n.resume=="function"}}},{}],15:[function(r,a,i){function n(_,f,k){var A,D=d.getTypeOf(f),C=d.extend(k||{},E);C.date=C.date||new Date,C.compression!==null&&(C.compression=C.compression.toUpperCase()),typeof C.unixPermissions=="string"&&(C.unixPermissions=parseInt(C.unixPermissions,8)),C.unixPermissions&&16384&C.unixPermissions&&(C.dir=!0),C.dosPermissions&&16&C.dosPermissions&&(C.dir=!0),C.dir&&(_=g(_)),C.createFolders&&(A=v(_))&&w.call(this,A,!0);var R=D==="string"&&C.binary===!1&&C.base64===!1;k&&k.binary!==void 0||(C.binary=!R),(f instanceof y&&f.uncompressedSize===0||C.dir||!f||f.length===0)&&(C.base64=!1,C.binary=!0,f="",C.compression="STORE",D="string");var I=null;I=f instanceof y||f instanceof u?f:b.isNode&&b.isStream(f)?new s(_,f):d.prepareContent(_,f,C.binary,C.optimizedBinaryString,C.base64);var B=new o(_,I,C);this.files[_]=B}var c=r("./utf8"),d=r("./utils"),u=r("./stream/GenericWorker"),T=r("./stream/StreamHelper"),E=r("./defaults"),y=r("./compressedObject"),o=r("./zipObject"),l=r("./generate"),b=r("./nodejsUtils"),s=r("./nodejs/NodejsStreamInputAdapter"),v=function(_){_.slice(-1)==="/"&&(_=_.substring(0,_.length-1));var f=_.lastIndexOf("/");return 0<f?_.substring(0,f):""},g=function(_){return _.slice(-1)!=="/"&&(_+="/"),_},w=function(_,f){return f=f!==void 0?f:E.createFolders,_=g(_),this.files[_]||n.call(this,_,null,{dir:!0,createFolders:f}),this.files[_]};function h(_){return Object.prototype.toString.call(_)==="[object RegExp]"}var x={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(_){var f,k,A;for(f in this.files)A=this.files[f],(k=f.slice(this.root.length,f.length))&&f.slice(0,this.root.length)===this.root&&_(k,A)},filter:function(_){var f=[];return this.forEach(function(k,A){_(k,A)&&f.push(A)}),f},file:function(_,f,k){if(arguments.length!==1)return _=this.root+_,n.call(this,_,f,k),this;if(h(_)){var A=_;return this.filter(function(C,R){return!R.dir&&A.test(C)})}var D=this.files[this.root+_];return D&&!D.dir?D:null},folder:function(_){if(!_)return this;if(h(_))return this.filter(function(D,C){return C.dir&&_.test(D)});var f=this.root+_,k=w.call(this,f),A=this.clone();return A.root=k.name,A},remove:function(_){_=this.root+_;var f=this.files[_];if(f||(_.slice(-1)!=="/"&&(_+="/"),f=this.files[_]),f&&!f.dir)delete this.files[_];else for(var k=this.filter(function(D,C){return C.name.slice(0,_.length)===_}),A=0;A<k.length;A++)delete this.files[k[A].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(_){var f,k={};try{if((k=d.extend(_||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:c.utf8encode})).type=k.type.toLowerCase(),k.compression=k.compression.toUpperCase(),k.type==="binarystring"&&(k.type="string"),!k.type)throw new Error("No output type specified.");d.checkSupport(k.type),k.platform!=="darwin"&&k.platform!=="freebsd"&&k.platform!=="linux"&&k.platform!=="sunos"||(k.platform="UNIX"),k.platform==="win32"&&(k.platform="DOS");var A=k.comment||this.comment||"";f=l.generateWorker(this,k,A)}catch(D){(f=new u("error")).error(D)}return new T(f,k.type||"string",k.mimeType)},generateAsync:function(_,f){return this.generateInternalStream(_).accumulate(f)},generateNodeStream:function(_,f){return(_=_||{}).type||(_.type="nodebuffer"),this.generateInternalStream(_).toNodejsStream(f)}};a.exports=x},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,a,i){a.exports=r("stream")},{stream:void 0}],17:[function(r,a,i){var n=r("./DataReader");function c(d){n.call(this,d);for(var u=0;u<this.data.length;u++)d[u]=255&d[u]}r("../utils").inherits(c,n),c.prototype.byteAt=function(d){return this.data[this.zero+d]},c.prototype.lastIndexOfSignature=function(d){for(var u=d.charCodeAt(0),T=d.charCodeAt(1),E=d.charCodeAt(2),y=d.charCodeAt(3),o=this.length-4;0<=o;--o)if(this.data[o]===u&&this.data[o+1]===T&&this.data[o+2]===E&&this.data[o+3]===y)return o-this.zero;return-1},c.prototype.readAndCheckSignature=function(d){var u=d.charCodeAt(0),T=d.charCodeAt(1),E=d.charCodeAt(2),y=d.charCodeAt(3),o=this.readData(4);return u===o[0]&&T===o[1]&&E===o[2]&&y===o[3]},c.prototype.readData=function(d){if(this.checkOffset(d),d===0)return[];var u=this.data.slice(this.zero+this.index,this.zero+this.index+d);return this.index+=d,u},a.exports=c},{"../utils":32,"./DataReader":18}],18:[function(r,a,i){var n=r("../utils");function c(d){this.data=d,this.length=d.length,this.index=0,this.zero=0}c.prototype={checkOffset:function(d){this.checkIndex(this.index+d)},checkIndex:function(d){if(this.length<this.zero+d||d<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+d+"). Corrupted zip ?")},setIndex:function(d){this.checkIndex(d),this.index=d},skip:function(d){this.setIndex(this.index+d)},byteAt:function(){},readInt:function(d){var u,T=0;for(this.checkOffset(d),u=this.index+d-1;u>=this.index;u--)T=(T<<8)+this.byteAt(u);return this.index+=d,T},readString:function(d){return n.transformTo("string",this.readData(d))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var d=this.readInt(4);return new Date(Date.UTC(1980+(d>>25&127),(d>>21&15)-1,d>>16&31,d>>11&31,d>>5&63,(31&d)<<1))}},a.exports=c},{"../utils":32}],19:[function(r,a,i){var n=r("./Uint8ArrayReader");function c(d){n.call(this,d)}r("../utils").inherits(c,n),c.prototype.readData=function(d){this.checkOffset(d);var u=this.data.slice(this.zero+this.index,this.zero+this.index+d);return this.index+=d,u},a.exports=c},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,a,i){var n=r("./DataReader");function c(d){n.call(this,d)}r("../utils").inherits(c,n),c.prototype.byteAt=function(d){return this.data.charCodeAt(this.zero+d)},c.prototype.lastIndexOfSignature=function(d){return this.data.lastIndexOf(d)-this.zero},c.prototype.readAndCheckSignature=function(d){return d===this.readData(4)},c.prototype.readData=function(d){this.checkOffset(d);var u=this.data.slice(this.zero+this.index,this.zero+this.index+d);return this.index+=d,u},a.exports=c},{"../utils":32,"./DataReader":18}],21:[function(r,a,i){var n=r("./ArrayReader");function c(d){n.call(this,d)}r("../utils").inherits(c,n),c.prototype.readData=function(d){if(this.checkOffset(d),d===0)return new Uint8Array(0);var u=this.data.subarray(this.zero+this.index,this.zero+this.index+d);return this.index+=d,u},a.exports=c},{"../utils":32,"./ArrayReader":17}],22:[function(r,a,i){var n=r("../utils"),c=r("../support"),d=r("./ArrayReader"),u=r("./StringReader"),T=r("./NodeBufferReader"),E=r("./Uint8ArrayReader");a.exports=function(y){var o=n.getTypeOf(y);return n.checkSupport(o),o!=="string"||c.uint8array?o==="nodebuffer"?new T(y):c.uint8array?new E(n.transformTo("uint8array",y)):new d(n.transformTo("array",y)):new u(y)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,a,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,a,i){var n=r("./GenericWorker"),c=r("../utils");function d(u){n.call(this,"ConvertWorker to "+u),this.destType=u}c.inherits(d,n),d.prototype.processChunk=function(u){this.push({data:c.transformTo(this.destType,u.data),meta:u.meta})},a.exports=d},{"../utils":32,"./GenericWorker":28}],25:[function(r,a,i){var n=r("./GenericWorker"),c=r("../crc32");function d(){n.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(d,n),d.prototype.processChunk=function(u){this.streamInfo.crc32=c(u.data,this.streamInfo.crc32||0),this.push(u)},a.exports=d},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,a,i){var n=r("../utils"),c=r("./GenericWorker");function d(u){c.call(this,"DataLengthProbe for "+u),this.propName=u,this.withStreamInfo(u,0)}n.inherits(d,c),d.prototype.processChunk=function(u){if(u){var T=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=T+u.data.length}c.prototype.processChunk.call(this,u)},a.exports=d},{"../utils":32,"./GenericWorker":28}],27:[function(r,a,i){var n=r("../utils"),c=r("./GenericWorker");function d(u){c.call(this,"DataWorker");var T=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,u.then(function(E){T.dataIsReady=!0,T.data=E,T.max=E&&E.length||0,T.type=n.getTypeOf(E),T.isPaused||T._tickAndRepeat()},function(E){T.error(E)})}n.inherits(d,c),d.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this.data=null},d.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,n.delay(this._tickAndRepeat,[],this)),!0)},d.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(n.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},d.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var u=null,T=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":u=this.data.substring(this.index,T);break;case"uint8array":u=this.data.subarray(this.index,T);break;case"array":case"nodebuffer":u=this.data.slice(this.index,T)}return this.index=T,this.push({data:u,meta:{percent:this.max?this.index/this.max*100:0}})},a.exports=d},{"../utils":32,"./GenericWorker":28}],28:[function(r,a,i){function n(c){this.name=c||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}n.prototype={push:function(c){this.emit("data",c)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(c){this.emit("error",c)}return!0},error:function(c){return!this.isFinished&&(this.isPaused?this.generatedError=c:(this.isFinished=!0,this.emit("error",c),this.previous&&this.previous.error(c),this.cleanUp()),!0)},on:function(c,d){return this._listeners[c].push(d),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(c,d){if(this._listeners[c])for(var u=0;u<this._listeners[c].length;u++)this._listeners[c][u].call(this,d)},pipe:function(c){return c.registerPrevious(this)},registerPrevious:function(c){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=c.streamInfo,this.mergeStreamInfo(),this.previous=c;var d=this;return c.on("data",function(u){d.processChunk(u)}),c.on("end",function(){d.end()}),c.on("error",function(u){d.error(u)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var c=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),c=!0),this.previous&&this.previous.resume(),!c},flush:function(){},processChunk:function(c){this.push(c)},withStreamInfo:function(c,d){return this.extraStreamInfo[c]=d,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var c in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,c)&&(this.streamInfo[c]=this.extraStreamInfo[c])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var c="Worker "+this.name;return this.previous?this.previous+" -> "+c:c}},a.exports=n},{}],29:[function(r,a,i){var n=r("../utils"),c=r("./ConvertWorker"),d=r("./GenericWorker"),u=r("../base64"),T=r("../support"),E=r("../external"),y=null;if(T.nodestream)try{y=r("../nodejs/NodejsStreamOutputAdapter")}catch(b){}function o(b,s){return new E.Promise(function(v,g){var w=[],h=b._internalType,x=b._outputType,_=b._mimeType;b.on("data",function(f,k){w.push(f),s&&s(k)}).on("error",function(f){w=[],g(f)}).on("end",function(){try{var f=function(k,A,D){switch(k){case"blob":return n.newBlob(n.transformTo("arraybuffer",A),D);case"base64":return u.encode(A);default:return n.transformTo(k,A)}}(x,function(k,A){var D,C=0,R=null,I=0;for(D=0;D<A.length;D++)I+=A[D].length;switch(k){case"string":return A.join("");case"array":return Array.prototype.concat.apply([],A);case"uint8array":for(R=new Uint8Array(I),D=0;D<A.length;D++)R.set(A[D],C),C+=A[D].length;return R;case"nodebuffer":return Buffer.concat(A);default:throw new Error("concat : unsupported type '"+k+"'")}}(h,w),_);v(f)}catch(k){g(k)}w=[]}).resume()})}function l(b,s,v){var g=s;switch(s){case"blob":case"arraybuffer":g="uint8array";break;case"base64":g="string"}try{this._internalType=g,this._outputType=s,this._mimeType=v,n.checkSupport(g),this._worker=b.pipe(new c(g)),b.lock()}catch(w){this._worker=new d("error"),this._worker.error(w)}}l.prototype={accumulate:function(b){return o(this,b)},on:function(b,s){var v=this;return b==="data"?this._worker.on(b,function(g){s.call(v,g.data,g.meta)}):this._worker.on(b,function(){n.delay(s,arguments,v)}),this},resume:function(){return n.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(b){if(n.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new y(this,{objectMode:this._outputType!=="nodebuffer"},b)}},a.exports=l},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,a,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined",i.nodebuffer=typeof Buffer!="undefined",i.uint8array=typeof Uint8Array!="undefined",typeof ArrayBuffer=="undefined")i.blob=!1;else{var n=new ArrayBuffer(0);try{i.blob=new Blob([n],{type:"application/zip"}).size===0}catch(d){try{var c=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);c.append(n),i.blob=c.getBlob("application/zip").size===0}catch(u){i.blob=!1}}}try{i.nodestream=!!r("readable-stream").Readable}catch(d){i.nodestream=!1}},{"readable-stream":16}],31:[function(r,a,i){for(var n=r("./utils"),c=r("./support"),d=r("./nodejsUtils"),u=r("./stream/GenericWorker"),T=new Array(256),E=0;E<256;E++)T[E]=252<=E?6:248<=E?5:240<=E?4:224<=E?3:192<=E?2:1;T[254]=T[254]=1;function y(){u.call(this,"utf-8 decode"),this.leftOver=null}function o(){u.call(this,"utf-8 encode")}i.utf8encode=function(l){return c.nodebuffer?d.newBufferFrom(l,"utf-8"):function(b){var s,v,g,w,h,x=b.length,_=0;for(w=0;w<x;w++)(64512&(v=b.charCodeAt(w)))==55296&&w+1<x&&(64512&(g=b.charCodeAt(w+1)))==56320&&(v=65536+(v-55296<<10)+(g-56320),w++),_+=v<128?1:v<2048?2:v<65536?3:4;for(s=c.uint8array?new Uint8Array(_):new Array(_),w=h=0;h<_;w++)(64512&(v=b.charCodeAt(w)))==55296&&w+1<x&&(64512&(g=b.charCodeAt(w+1)))==56320&&(v=65536+(v-55296<<10)+(g-56320),w++),v<128?s[h++]=v:(v<2048?s[h++]=192|v>>>6:(v<65536?s[h++]=224|v>>>12:(s[h++]=240|v>>>18,s[h++]=128|v>>>12&63),s[h++]=128|v>>>6&63),s[h++]=128|63&v);return s}(l)},i.utf8decode=function(l){return c.nodebuffer?n.transformTo("nodebuffer",l).toString("utf-8"):function(b){var s,v,g,w,h=b.length,x=new Array(2*h);for(s=v=0;s<h;)if((g=b[s++])<128)x[v++]=g;else if(4<(w=T[g]))x[v++]=65533,s+=w-1;else{for(g&=w===2?31:w===3?15:7;1<w&&s<h;)g=g<<6|63&b[s++],w--;1<w?x[v++]=65533:g<65536?x[v++]=g:(g-=65536,x[v++]=55296|g>>10&1023,x[v++]=56320|1023&g)}return x.length!==v&&(x.subarray?x=x.subarray(0,v):x.length=v),n.applyFromCharCode(x)}(l=n.transformTo(c.uint8array?"uint8array":"array",l))},n.inherits(y,u),y.prototype.processChunk=function(l){var b=n.transformTo(c.uint8array?"uint8array":"array",l.data);if(this.leftOver&&this.leftOver.length){if(c.uint8array){var s=b;(b=new Uint8Array(s.length+this.leftOver.length)).set(this.leftOver,0),b.set(s,this.leftOver.length)}else b=this.leftOver.concat(b);this.leftOver=null}var v=function(w,h){var x;for((h=h||w.length)>w.length&&(h=w.length),x=h-1;0<=x&&(192&w[x])==128;)x--;return x<0||x===0?h:x+T[w[x]]>h?x:h}(b),g=b;v!==b.length&&(c.uint8array?(g=b.subarray(0,v),this.leftOver=b.subarray(v,b.length)):(g=b.slice(0,v),this.leftOver=b.slice(v,b.length))),this.push({data:i.utf8decode(g),meta:l.meta})},y.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=y,n.inherits(o,u),o.prototype.processChunk=function(l){this.push({data:i.utf8encode(l.data),meta:l.meta})},i.Utf8EncodeWorker=o},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,a,i){var n=r("./support"),c=r("./base64"),d=r("./nodejsUtils"),u=r("./external");function T(s){return s}function E(s,v){for(var g=0;g<s.length;++g)v[g]=255&s.charCodeAt(g);return v}r("setimmediate"),i.newBlob=function(s,v){i.checkSupport("blob");try{return new Blob([s],{type:v})}catch(w){try{var g=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return g.append(s),g.getBlob(v)}catch(h){throw new Error("Bug : can't construct the Blob.")}}};var y={stringifyByChunk:function(s,v,g){var w=[],h=0,x=s.length;if(x<=g)return String.fromCharCode.apply(null,s);for(;h<x;)v==="array"||v==="nodebuffer"?w.push(String.fromCharCode.apply(null,s.slice(h,Math.min(h+g,x)))):w.push(String.fromCharCode.apply(null,s.subarray(h,Math.min(h+g,x)))),h+=g;return w.join("")},stringifyByChar:function(s){for(var v="",g=0;g<s.length;g++)v+=String.fromCharCode(s[g]);return v},applyCanBeUsed:{uint8array:function(){try{return n.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch(s){return!1}}(),nodebuffer:function(){try{return n.nodebuffer&&String.fromCharCode.apply(null,d.allocBuffer(1)).length===1}catch(s){return!1}}()}};function o(s){var v=65536,g=i.getTypeOf(s),w=!0;if(g==="uint8array"?w=y.applyCanBeUsed.uint8array:g==="nodebuffer"&&(w=y.applyCanBeUsed.nodebuffer),w)for(;1<v;)try{return y.stringifyByChunk(s,g,v)}catch(h){v=Math.floor(v/2)}return y.stringifyByChar(s)}function l(s,v){for(var g=0;g<s.length;g++)v[g]=s[g];return v}i.applyFromCharCode=o;var b={};b.string={string:T,array:function(s){return E(s,new Array(s.length))},arraybuffer:function(s){return b.string.uint8array(s).buffer},uint8array:function(s){return E(s,new Uint8Array(s.length))},nodebuffer:function(s){return E(s,d.allocBuffer(s.length))}},b.array={string:o,array:T,arraybuffer:function(s){return new Uint8Array(s).buffer},uint8array:function(s){return new Uint8Array(s)},nodebuffer:function(s){return d.newBufferFrom(s)}},b.arraybuffer={string:function(s){return o(new Uint8Array(s))},array:function(s){return l(new Uint8Array(s),new Array(s.byteLength))},arraybuffer:T,uint8array:function(s){return new Uint8Array(s)},nodebuffer:function(s){return d.newBufferFrom(new Uint8Array(s))}},b.uint8array={string:o,array:function(s){return l(s,new Array(s.length))},arraybuffer:function(s){return s.buffer},uint8array:T,nodebuffer:function(s){return d.newBufferFrom(s)}},b.nodebuffer={string:o,array:function(s){return l(s,new Array(s.length))},arraybuffer:function(s){return b.nodebuffer.uint8array(s).buffer},uint8array:function(s){return l(s,new Uint8Array(s.length))},nodebuffer:T},i.transformTo=function(s,v){if(v=v||"",!s)return v;i.checkSupport(s);var g=i.getTypeOf(v);return b[g][s](v)},i.resolve=function(s){for(var v=s.split("/"),g=[],w=0;w<v.length;w++){var h=v[w];h==="."||h===""&&w!==0&&w!==v.length-1||(h===".."?g.pop():g.push(h))}return g.join("/")},i.getTypeOf=function(s){return typeof s=="string"?"string":Object.prototype.toString.call(s)==="[object Array]"?"array":n.nodebuffer&&d.isBuffer(s)?"nodebuffer":n.uint8array&&s instanceof Uint8Array?"uint8array":n.arraybuffer&&s instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(s){if(!n[s.toLowerCase()])throw new Error(s+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(s){var v,g,w="";for(g=0;g<(s||"").length;g++)w+="\\x"+((v=s.charCodeAt(g))<16?"0":"")+v.toString(16).toUpperCase();return w},i.delay=function(s,v,g){setImmediate(function(){s.apply(g||null,v||[])})},i.inherits=function(s,v){function g(){}g.prototype=v.prototype,s.prototype=new g},i.extend=function(){var s,v,g={};for(s=0;s<arguments.length;s++)for(v in arguments[s])Object.prototype.hasOwnProperty.call(arguments[s],v)&&g[v]===void 0&&(g[v]=arguments[s][v]);return g},i.prepareContent=function(s,v,g,w,h){return u.Promise.resolve(v).then(function(x){return n.blob&&(x instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(x))!==-1)&&typeof FileReader!="undefined"?new u.Promise(function(_,f){var k=new FileReader;k.onload=function(A){_(A.target.result)},k.onerror=function(A){f(A.target.error)},k.readAsArrayBuffer(x)}):x}).then(function(x){var _=i.getTypeOf(x);return _?(_==="arraybuffer"?x=i.transformTo("uint8array",x):_==="string"&&(h?x=c.decode(x):g&&w!==!0&&(x=function(f){return E(f,n.uint8array?new Uint8Array(f.length):new Array(f.length))}(x))),x):u.Promise.reject(new Error("Can't read the data of '"+s+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,a,i){var n=r("./reader/readerFor"),c=r("./utils"),d=r("./signature"),u=r("./zipEntry"),T=r("./support");function E(y){this.files=[],this.loadOptions=y}E.prototype={checkSignature:function(y){if(!this.reader.readAndCheckSignature(y)){this.reader.index-=4;var o=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+c.pretty(o)+", expected "+c.pretty(y)+")")}},isSignature:function(y,o){var l=this.reader.index;this.reader.setIndex(y);var b=this.reader.readString(4)===o;return this.reader.setIndex(l),b},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var y=this.reader.readData(this.zipCommentLength),o=T.uint8array?"uint8array":"array",l=c.transformTo(o,y);this.zipComment=this.loadOptions.decodeFileName(l)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var y,o,l,b=this.zip64EndOfCentralSize-44;0<b;)y=this.reader.readInt(2),o=this.reader.readInt(4),l=this.reader.readData(o),this.zip64ExtensibleData[y]={id:y,length:o,value:l}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var y,o;for(y=0;y<this.files.length;y++)o=this.files[y],this.reader.setIndex(o.localHeaderOffset),this.checkSignature(d.LOCAL_FILE_HEADER),o.readLocalPart(this.reader),o.handleUTF8(),o.processAttributes()},readCentralDir:function(){var y;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(d.CENTRAL_FILE_HEADER);)(y=new u({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(y);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var y=this.reader.lastIndexOfSignature(d.CENTRAL_DIRECTORY_END);if(y<0)throw this.isSignature(0,d.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(y);var o=y;if(this.checkSignature(d.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===c.MAX_VALUE_16BITS||this.diskWithCentralDirStart===c.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===c.MAX_VALUE_16BITS||this.centralDirRecords===c.MAX_VALUE_16BITS||this.centralDirSize===c.MAX_VALUE_32BITS||this.centralDirOffset===c.MAX_VALUE_32BITS){if(this.zip64=!0,(y=this.reader.lastIndexOfSignature(d.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(y),this.checkSignature(d.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,d.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(d.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(d.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var l=this.centralDirOffset+this.centralDirSize;this.zip64&&(l+=20,l+=12+this.zip64EndOfCentralSize);var b=o-l;if(0<b)this.isSignature(o,d.CENTRAL_FILE_HEADER)||(this.reader.zero=b);else if(b<0)throw new Error("Corrupted zip: missing "+Math.abs(b)+" bytes.")},prepareReader:function(y){this.reader=n(y)},load:function(y){this.prepareReader(y),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},a.exports=E},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,a,i){var n=r("./reader/readerFor"),c=r("./utils"),d=r("./compressedObject"),u=r("./crc32"),T=r("./utf8"),E=r("./compressions"),y=r("./support");function o(l,b){this.options=l,this.loadOptions=b}o.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(l){var b,s;if(l.skip(22),this.fileNameLength=l.readInt(2),s=l.readInt(2),this.fileName=l.readData(this.fileNameLength),l.skip(s),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((b=function(v){for(var g in E)if(Object.prototype.hasOwnProperty.call(E,g)&&E[g].magic===v)return E[g];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+c.pretty(this.compressionMethod)+" unknown (inner file : "+c.transformTo("string",this.fileName)+")");this.decompressed=new d(this.compressedSize,this.uncompressedSize,this.crc32,b,l.readData(this.compressedSize))},readCentralPart:function(l){this.versionMadeBy=l.readInt(2),l.skip(2),this.bitFlag=l.readInt(2),this.compressionMethod=l.readString(2),this.date=l.readDate(),this.crc32=l.readInt(4),this.compressedSize=l.readInt(4),this.uncompressedSize=l.readInt(4);var b=l.readInt(2);if(this.extraFieldsLength=l.readInt(2),this.fileCommentLength=l.readInt(2),this.diskNumberStart=l.readInt(2),this.internalFileAttributes=l.readInt(2),this.externalFileAttributes=l.readInt(4),this.localHeaderOffset=l.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");l.skip(b),this.readExtraFields(l),this.parseZIP64ExtraField(l),this.fileComment=l.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var l=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),l==0&&(this.dosPermissions=63&this.externalFileAttributes),l==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var l=n(this.extraFields[1].value);this.uncompressedSize===c.MAX_VALUE_32BITS&&(this.uncompressedSize=l.readInt(8)),this.compressedSize===c.MAX_VALUE_32BITS&&(this.compressedSize=l.readInt(8)),this.localHeaderOffset===c.MAX_VALUE_32BITS&&(this.localHeaderOffset=l.readInt(8)),this.diskNumberStart===c.MAX_VALUE_32BITS&&(this.diskNumberStart=l.readInt(4))}},readExtraFields:function(l){var b,s,v,g=l.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});l.index+4<g;)b=l.readInt(2),s=l.readInt(2),v=l.readData(s),this.extraFields[b]={id:b,length:s,value:v};l.setIndex(g)},handleUTF8:function(){var l=y.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=T.utf8decode(this.fileName),this.fileCommentStr=T.utf8decode(this.fileComment);else{var b=this.findExtraFieldUnicodePath();if(b!==null)this.fileNameStr=b;else{var s=c.transformTo(l,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(s)}var v=this.findExtraFieldUnicodeComment();if(v!==null)this.fileCommentStr=v;else{var g=c.transformTo(l,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(g)}}},findExtraFieldUnicodePath:function(){var l=this.extraFields[28789];if(l){var b=n(l.value);return b.readInt(1)!==1||u(this.fileName)!==b.readInt(4)?null:T.utf8decode(b.readData(l.length-5))}return null},findExtraFieldUnicodeComment:function(){var l=this.extraFields[25461];if(l){var b=n(l.value);return b.readInt(1)!==1||u(this.fileComment)!==b.readInt(4)?null:T.utf8decode(b.readData(l.length-5))}return null}},a.exports=o},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,a,i){function n(b,s,v){this.name=b,this.dir=v.dir,this.date=v.date,this.comment=v.comment,this.unixPermissions=v.unixPermissions,this.dosPermissions=v.dosPermissions,this._data=s,this._dataBinary=v.binary,this.options={compression:v.compression,compressionOptions:v.compressionOptions}}var c=r("./stream/StreamHelper"),d=r("./stream/DataWorker"),u=r("./utf8"),T=r("./compressedObject"),E=r("./stream/GenericWorker");n.prototype={internalStream:function(b){var s=null,v="string";try{if(!b)throw new Error("No output type specified.");var g=(v=b.toLowerCase())==="string"||v==="text";v!=="binarystring"&&v!=="text"||(v="string"),s=this._decompressWorker();var w=!this._dataBinary;w&&!g&&(s=s.pipe(new u.Utf8EncodeWorker)),!w&&g&&(s=s.pipe(new u.Utf8DecodeWorker))}catch(h){(s=new E("error")).error(h)}return new c(s,v,"")},async:function(b,s){return this.internalStream(b).accumulate(s)},nodeStream:function(b,s){return this.internalStream(b||"nodebuffer").toNodejsStream(s)},_compressWorker:function(b,s){if(this._data instanceof T&&this._data.compression.magic===b.magic)return this._data.getCompressedWorker();var v=this._decompressWorker();return this._dataBinary||(v=v.pipe(new u.Utf8EncodeWorker)),T.createWorkerFrom(v,b,s)},_decompressWorker:function(){return this._data instanceof T?this._data.getContentWorker():this._data instanceof E?this._data:new d(this._data)}};for(var y=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],o=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},l=0;l<y.length;l++)n.prototype[y[l]]=o;a.exports=n},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,a,i){(function(n){var c,d,u=n.MutationObserver||n.WebKitMutationObserver;if(u){var T=0,E=new u(b),y=n.document.createTextNode("");E.observe(y,{characterData:!0}),c=function(){y.data=T=++T%2}}else if(n.setImmediate||n.MessageChannel===void 0)c="document"in n&&"onreadystatechange"in n.document.createElement("script")?function(){var s=n.document.createElement("script");s.onreadystatechange=function(){b(),s.onreadystatechange=null,s.parentNode.removeChild(s),s=null},n.document.documentElement.appendChild(s)}:function(){setTimeout(b,0)};else{var o=new n.MessageChannel;o.port1.onmessage=b,c=function(){o.port2.postMessage(0)}}var l=[];function b(){var s,v;d=!0;for(var g=l.length;g;){for(v=l,l=[],s=-1;++s<g;)v[s]();g=l.length}d=!1}a.exports=function(s){l.push(s)!==1||d||c()}}).call(this,typeof Hn!="undefined"?Hn:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],37:[function(r,a,i){var n=r("immediate");function c(){}var d={},u=["REJECTED"],T=["FULFILLED"],E=["PENDING"];function y(g){if(typeof g!="function")throw new TypeError("resolver must be a function");this.state=E,this.queue=[],this.outcome=void 0,g!==c&&s(this,g)}function o(g,w,h){this.promise=g,typeof w=="function"&&(this.onFulfilled=w,this.callFulfilled=this.otherCallFulfilled),typeof h=="function"&&(this.onRejected=h,this.callRejected=this.otherCallRejected)}function l(g,w,h){n(function(){var x;try{x=w(h)}catch(_){return d.reject(g,_)}x===g?d.reject(g,new TypeError("Cannot resolve promise with itself")):d.resolve(g,x)})}function b(g){var w=g&&g.then;if(g&&(typeof g=="object"||typeof g=="function")&&typeof w=="function")return function(){w.apply(g,arguments)}}function s(g,w){var h=!1;function x(k){h||(h=!0,d.reject(g,k))}function _(k){h||(h=!0,d.resolve(g,k))}var f=v(function(){w(_,x)});f.status==="error"&&x(f.value)}function v(g,w){var h={};try{h.value=g(w),h.status="success"}catch(x){h.status="error",h.value=x}return h}(a.exports=y).prototype.finally=function(g){if(typeof g!="function")return this;var w=this.constructor;return this.then(function(h){return w.resolve(g()).then(function(){return h})},function(h){return w.resolve(g()).then(function(){throw h})})},y.prototype.catch=function(g){return this.then(null,g)},y.prototype.then=function(g,w){if(typeof g!="function"&&this.state===T||typeof w!="function"&&this.state===u)return this;var h=new this.constructor(c);return this.state!==E?l(h,this.state===T?g:w,this.outcome):this.queue.push(new o(h,g,w)),h},o.prototype.callFulfilled=function(g){d.resolve(this.promise,g)},o.prototype.otherCallFulfilled=function(g){l(this.promise,this.onFulfilled,g)},o.prototype.callRejected=function(g){d.reject(this.promise,g)},o.prototype.otherCallRejected=function(g){l(this.promise,this.onRejected,g)},d.resolve=function(g,w){var h=v(b,w);if(h.status==="error")return d.reject(g,h.value);var x=h.value;if(x)s(g,x);else{g.state=T,g.outcome=w;for(var _=-1,f=g.queue.length;++_<f;)g.queue[_].callFulfilled(w)}return g},d.reject=function(g,w){g.state=u,g.outcome=w;for(var h=-1,x=g.queue.length;++h<x;)g.queue[h].callRejected(w);return g},y.resolve=function(g){return g instanceof this?g:d.resolve(new this(c),g)},y.reject=function(g){var w=new this(c);return d.reject(w,g)},y.all=function(g){var w=this;if(Object.prototype.toString.call(g)!=="[object Array]")return this.reject(new TypeError("must be an array"));var h=g.length,x=!1;if(!h)return this.resolve([]);for(var _=new Array(h),f=0,k=-1,A=new this(c);++k<h;)D(g[k],k);return A;function D(C,R){w.resolve(C).then(function(I){_[R]=I,++f!==h||x||(x=!0,d.resolve(A,_))},function(I){x||(x=!0,d.reject(A,I))})}},y.race=function(g){var w=this;if(Object.prototype.toString.call(g)!=="[object Array]")return this.reject(new TypeError("must be an array"));var h=g.length,x=!1;if(!h)return this.resolve([]);for(var _=-1,f=new this(c);++_<h;)k=g[_],w.resolve(k).then(function(A){x||(x=!0,d.resolve(f,A))},function(A){x||(x=!0,d.reject(f,A))});var k;return f}},{immediate:36}],38:[function(r,a,i){var n={};(0,r("./lib/utils/common").assign)(n,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),a.exports=n},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,a,i){var n=r("./zlib/deflate"),c=r("./utils/common"),d=r("./utils/strings"),u=r("./zlib/messages"),T=r("./zlib/zstream"),E=Object.prototype.toString,y=0,o=-1,l=0,b=8;function s(g){if(!(this instanceof s))return new s(g);this.options=c.assign({level:o,method:b,chunkSize:16384,windowBits:15,memLevel:8,strategy:l,to:""},g||{});var w=this.options;w.raw&&0<w.windowBits?w.windowBits=-w.windowBits:w.gzip&&0<w.windowBits&&w.windowBits<16&&(w.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new T,this.strm.avail_out=0;var h=n.deflateInit2(this.strm,w.level,w.method,w.windowBits,w.memLevel,w.strategy);if(h!==y)throw new Error(u[h]);if(w.header&&n.deflateSetHeader(this.strm,w.header),w.dictionary){var x;if(x=typeof w.dictionary=="string"?d.string2buf(w.dictionary):E.call(w.dictionary)==="[object ArrayBuffer]"?new Uint8Array(w.dictionary):w.dictionary,(h=n.deflateSetDictionary(this.strm,x))!==y)throw new Error(u[h]);this._dict_set=!0}}function v(g,w){var h=new s(w);if(h.push(g,!0),h.err)throw h.msg||u[h.err];return h.result}s.prototype.push=function(g,w){var h,x,_=this.strm,f=this.options.chunkSize;if(this.ended)return!1;x=w===~~w?w:w===!0?4:0,typeof g=="string"?_.input=d.string2buf(g):E.call(g)==="[object ArrayBuffer]"?_.input=new Uint8Array(g):_.input=g,_.next_in=0,_.avail_in=_.input.length;do{if(_.avail_out===0&&(_.output=new c.Buf8(f),_.next_out=0,_.avail_out=f),(h=n.deflate(_,x))!==1&&h!==y)return this.onEnd(h),!(this.ended=!0);_.avail_out!==0&&(_.avail_in!==0||x!==4&&x!==2)||(this.options.to==="string"?this.onData(d.buf2binstring(c.shrinkBuf(_.output,_.next_out))):this.onData(c.shrinkBuf(_.output,_.next_out)))}while((0<_.avail_in||_.avail_out===0)&&h!==1);return x===4?(h=n.deflateEnd(this.strm),this.onEnd(h),this.ended=!0,h===y):x!==2||(this.onEnd(y),!(_.avail_out=0))},s.prototype.onData=function(g){this.chunks.push(g)},s.prototype.onEnd=function(g){g===y&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=c.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg},i.Deflate=s,i.deflate=v,i.deflateRaw=function(g,w){return(w=w||{}).raw=!0,v(g,w)},i.gzip=function(g,w){return(w=w||{}).gzip=!0,v(g,w)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,a,i){var n=r("./zlib/inflate"),c=r("./utils/common"),d=r("./utils/strings"),u=r("./zlib/constants"),T=r("./zlib/messages"),E=r("./zlib/zstream"),y=r("./zlib/gzheader"),o=Object.prototype.toString;function l(s){if(!(this instanceof l))return new l(s);this.options=c.assign({chunkSize:16384,windowBits:0,to:""},s||{});var v=this.options;v.raw&&0<=v.windowBits&&v.windowBits<16&&(v.windowBits=-v.windowBits,v.windowBits===0&&(v.windowBits=-15)),!(0<=v.windowBits&&v.windowBits<16)||s&&s.windowBits||(v.windowBits+=32),15<v.windowBits&&v.windowBits<48&&!(15&v.windowBits)&&(v.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new E,this.strm.avail_out=0;var g=n.inflateInit2(this.strm,v.windowBits);if(g!==u.Z_OK)throw new Error(T[g]);this.header=new y,n.inflateGetHeader(this.strm,this.header)}function b(s,v){var g=new l(v);if(g.push(s,!0),g.err)throw g.msg||T[g.err];return g.result}l.prototype.push=function(s,v){var g,w,h,x,_,f,k=this.strm,A=this.options.chunkSize,D=this.options.dictionary,C=!1;if(this.ended)return!1;w=v===~~v?v:v===!0?u.Z_FINISH:u.Z_NO_FLUSH,typeof s=="string"?k.input=d.binstring2buf(s):o.call(s)==="[object ArrayBuffer]"?k.input=new Uint8Array(s):k.input=s,k.next_in=0,k.avail_in=k.input.length;do{if(k.avail_out===0&&(k.output=new c.Buf8(A),k.next_out=0,k.avail_out=A),(g=n.inflate(k,u.Z_NO_FLUSH))===u.Z_NEED_DICT&&D&&(f=typeof D=="string"?d.string2buf(D):o.call(D)==="[object ArrayBuffer]"?new Uint8Array(D):D,g=n.inflateSetDictionary(this.strm,f)),g===u.Z_BUF_ERROR&&C===!0&&(g=u.Z_OK,C=!1),g!==u.Z_STREAM_END&&g!==u.Z_OK)return this.onEnd(g),!(this.ended=!0);k.next_out&&(k.avail_out!==0&&g!==u.Z_STREAM_END&&(k.avail_in!==0||w!==u.Z_FINISH&&w!==u.Z_SYNC_FLUSH)||(this.options.to==="string"?(h=d.utf8border(k.output,k.next_out),x=k.next_out-h,_=d.buf2string(k.output,h),k.next_out=x,k.avail_out=A-x,x&&c.arraySet(k.output,k.output,h,x,0),this.onData(_)):this.onData(c.shrinkBuf(k.output,k.next_out)))),k.avail_in===0&&k.avail_out===0&&(C=!0)}while((0<k.avail_in||k.avail_out===0)&&g!==u.Z_STREAM_END);return g===u.Z_STREAM_END&&(w=u.Z_FINISH),w===u.Z_FINISH?(g=n.inflateEnd(this.strm),this.onEnd(g),this.ended=!0,g===u.Z_OK):w!==u.Z_SYNC_FLUSH||(this.onEnd(u.Z_OK),!(k.avail_out=0))},l.prototype.onData=function(s){this.chunks.push(s)},l.prototype.onEnd=function(s){s===u.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=c.flattenChunks(this.chunks)),this.chunks=[],this.err=s,this.msg=this.strm.msg},i.Inflate=l,i.inflate=b,i.inflateRaw=function(s,v){return(v=v||{}).raw=!0,b(s,v)},i.ungzip=b},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,a,i){var n=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Int32Array!="undefined";i.assign=function(u){for(var T=Array.prototype.slice.call(arguments,1);T.length;){var E=T.shift();if(E){if(typeof E!="object")throw new TypeError(E+"must be non-object");for(var y in E)E.hasOwnProperty(y)&&(u[y]=E[y])}}return u},i.shrinkBuf=function(u,T){return u.length===T?u:u.subarray?u.subarray(0,T):(u.length=T,u)};var c={arraySet:function(u,T,E,y,o){if(T.subarray&&u.subarray)u.set(T.subarray(E,E+y),o);else for(var l=0;l<y;l++)u[o+l]=T[E+l]},flattenChunks:function(u){var T,E,y,o,l,b;for(T=y=0,E=u.length;T<E;T++)y+=u[T].length;for(b=new Uint8Array(y),T=o=0,E=u.length;T<E;T++)l=u[T],b.set(l,o),o+=l.length;return b}},d={arraySet:function(u,T,E,y,o){for(var l=0;l<y;l++)u[o+l]=T[E+l]},flattenChunks:function(u){return[].concat.apply([],u)}};i.setTyped=function(u){u?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,c)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,d))},i.setTyped(n)},{}],42:[function(r,a,i){var n=r("./common"),c=!0,d=!0;try{String.fromCharCode.apply(null,[0])}catch(y){c=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(y){d=!1}for(var u=new n.Buf8(256),T=0;T<256;T++)u[T]=252<=T?6:248<=T?5:240<=T?4:224<=T?3:192<=T?2:1;function E(y,o){if(o<65537&&(y.subarray&&d||!y.subarray&&c))return String.fromCharCode.apply(null,n.shrinkBuf(y,o));for(var l="",b=0;b<o;b++)l+=String.fromCharCode(y[b]);return l}u[254]=u[254]=1,i.string2buf=function(y){var o,l,b,s,v,g=y.length,w=0;for(s=0;s<g;s++)(64512&(l=y.charCodeAt(s)))==55296&&s+1<g&&(64512&(b=y.charCodeAt(s+1)))==56320&&(l=65536+(l-55296<<10)+(b-56320),s++),w+=l<128?1:l<2048?2:l<65536?3:4;for(o=new n.Buf8(w),s=v=0;v<w;s++)(64512&(l=y.charCodeAt(s)))==55296&&s+1<g&&(64512&(b=y.charCodeAt(s+1)))==56320&&(l=65536+(l-55296<<10)+(b-56320),s++),l<128?o[v++]=l:(l<2048?o[v++]=192|l>>>6:(l<65536?o[v++]=224|l>>>12:(o[v++]=240|l>>>18,o[v++]=128|l>>>12&63),o[v++]=128|l>>>6&63),o[v++]=128|63&l);return o},i.buf2binstring=function(y){return E(y,y.length)},i.binstring2buf=function(y){for(var o=new n.Buf8(y.length),l=0,b=o.length;l<b;l++)o[l]=y.charCodeAt(l);return o},i.buf2string=function(y,o){var l,b,s,v,g=o||y.length,w=new Array(2*g);for(l=b=0;l<g;)if((s=y[l++])<128)w[b++]=s;else if(4<(v=u[s]))w[b++]=65533,l+=v-1;else{for(s&=v===2?31:v===3?15:7;1<v&&l<g;)s=s<<6|63&y[l++],v--;1<v?w[b++]=65533:s<65536?w[b++]=s:(s-=65536,w[b++]=55296|s>>10&1023,w[b++]=56320|1023&s)}return E(w,b)},i.utf8border=function(y,o){var l;for((o=o||y.length)>y.length&&(o=y.length),l=o-1;0<=l&&(192&y[l])==128;)l--;return l<0||l===0?o:l+u[y[l]]>o?l:o}},{"./common":41}],43:[function(r,a,i){a.exports=function(n,c,d,u){for(var T=65535&n|0,E=n>>>16&65535|0,y=0;d!==0;){for(d-=y=2e3<d?2e3:d;E=E+(T=T+c[u++]|0)|0,--y;);T%=65521,E%=65521}return T|E<<16|0}},{}],44:[function(r,a,i){a.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,a,i){var n=function(){for(var c,d=[],u=0;u<256;u++){c=u;for(var T=0;T<8;T++)c=1&c?3988292384^c>>>1:c>>>1;d[u]=c}return d}();a.exports=function(c,d,u,T){var E=n,y=T+u;c^=-1;for(var o=T;o<y;o++)c=c>>>8^E[255&(c^d[o])];return-1^c}},{}],46:[function(r,a,i){var n,c=r("../utils/common"),d=r("./trees"),u=r("./adler32"),T=r("./crc32"),E=r("./messages"),y=0,o=4,l=0,b=-2,s=-1,v=4,g=2,w=8,h=9,x=286,_=30,f=19,k=2*x+1,A=15,D=3,C=258,R=C+D+1,I=42,B=113,O=1,H=2,tt=3,Y=4;function at(m,U){return m.msg=E[U],U}function rt(m){return(m<<1)-(4<m?9:0)}function ut(m){for(var U=m.length;0<=--U;)m[U]=0}function Z(m){var U=m.state,j=U.pending;j>m.avail_out&&(j=m.avail_out),j!==0&&(c.arraySet(m.output,U.pending_buf,U.pending_out,j,m.next_out),m.next_out+=j,U.pending_out+=j,m.total_out+=j,m.avail_out-=j,U.pending-=j,U.pending===0&&(U.pending_out=0))}function et(m,U){d._tr_flush_block(m,0<=m.block_start?m.block_start:-1,m.strstart-m.block_start,U),m.block_start=m.strstart,Z(m.strm)}function gt(m,U){m.pending_buf[m.pending++]=U}function pt(m,U){m.pending_buf[m.pending++]=U>>>8&255,m.pending_buf[m.pending++]=255&U}function dt(m,U){var j,N,P=m.max_chain_length,W=m.strstart,G=m.prev_length,q=m.nice_match,p=m.strstart>m.w_size-R?m.strstart-(m.w_size-R):0,S=m.window,L=m.w_mask,M=m.prev,X=m.strstart+C,J=S[W+G-1],lt=S[W+G];m.prev_length>=m.good_match&&(P>>=2),q>m.lookahead&&(q=m.lookahead);do if(S[(j=U)+G]===lt&&S[j+G-1]===J&&S[j]===S[W]&&S[++j]===S[W+1]){W+=2,j++;do;while(S[++W]===S[++j]&&S[++W]===S[++j]&&S[++W]===S[++j]&&S[++W]===S[++j]&&S[++W]===S[++j]&&S[++W]===S[++j]&&S[++W]===S[++j]&&S[++W]===S[++j]&&W<X);if(N=C-(X-W),W=X-C,G<N){if(m.match_start=U,q<=(G=N))break;J=S[W+G-1],lt=S[W+G]}}while((U=M[U&L])>p&&--P!=0);return G<=m.lookahead?G:m.lookahead}function Et(m){var U,j,N,P,W,G,q,p,S,L,M=m.w_size;do{if(P=m.window_size-m.lookahead-m.strstart,m.strstart>=M+(M-R)){for(c.arraySet(m.window,m.window,M,M,0),m.match_start-=M,m.strstart-=M,m.block_start-=M,U=j=m.hash_size;N=m.head[--U],m.head[U]=M<=N?N-M:0,--j;);for(U=j=M;N=m.prev[--U],m.prev[U]=M<=N?N-M:0,--j;);P+=M}if(m.strm.avail_in===0)break;if(G=m.strm,q=m.window,p=m.strstart+m.lookahead,S=P,L=void 0,L=G.avail_in,S<L&&(L=S),j=L===0?0:(G.avail_in-=L,c.arraySet(q,G.input,G.next_in,L,p),G.state.wrap===1?G.adler=u(G.adler,q,L,p):G.state.wrap===2&&(G.adler=T(G.adler,q,L,p)),G.next_in+=L,G.total_in+=L,L),m.lookahead+=j,m.lookahead+m.insert>=D)for(W=m.strstart-m.insert,m.ins_h=m.window[W],m.ins_h=(m.ins_h<<m.hash_shift^m.window[W+1])&m.hash_mask;m.insert&&(m.ins_h=(m.ins_h<<m.hash_shift^m.window[W+D-1])&m.hash_mask,m.prev[W&m.w_mask]=m.head[m.ins_h],m.head[m.ins_h]=W,W++,m.insert--,!(m.lookahead+m.insert<D)););}while(m.lookahead<R&&m.strm.avail_in!==0)}function St(m,U){for(var j,N;;){if(m.lookahead<R){if(Et(m),m.lookahead<R&&U===y)return O;if(m.lookahead===0)break}if(j=0,m.lookahead>=D&&(m.ins_h=(m.ins_h<<m.hash_shift^m.window[m.strstart+D-1])&m.hash_mask,j=m.prev[m.strstart&m.w_mask]=m.head[m.ins_h],m.head[m.ins_h]=m.strstart),j!==0&&m.strstart-j<=m.w_size-R&&(m.match_length=dt(m,j)),m.match_length>=D)if(N=d._tr_tally(m,m.strstart-m.match_start,m.match_length-D),m.lookahead-=m.match_length,m.match_length<=m.max_lazy_match&&m.lookahead>=D){for(m.match_length--;m.strstart++,m.ins_h=(m.ins_h<<m.hash_shift^m.window[m.strstart+D-1])&m.hash_mask,j=m.prev[m.strstart&m.w_mask]=m.head[m.ins_h],m.head[m.ins_h]=m.strstart,--m.match_length!=0;);m.strstart++}else m.strstart+=m.match_length,m.match_length=0,m.ins_h=m.window[m.strstart],m.ins_h=(m.ins_h<<m.hash_shift^m.window[m.strstart+1])&m.hash_mask;else N=d._tr_tally(m,0,m.window[m.strstart]),m.lookahead--,m.strstart++;if(N&&(et(m,!1),m.strm.avail_out===0))return O}return m.insert=m.strstart<D-1?m.strstart:D-1,U===o?(et(m,!0),m.strm.avail_out===0?tt:Y):m.last_lit&&(et(m,!1),m.strm.avail_out===0)?O:H}function Ct(m,U){for(var j,N,P;;){if(m.lookahead<R){if(Et(m),m.lookahead<R&&U===y)return O;if(m.lookahead===0)break}if(j=0,m.lookahead>=D&&(m.ins_h=(m.ins_h<<m.hash_shift^m.window[m.strstart+D-1])&m.hash_mask,j=m.prev[m.strstart&m.w_mask]=m.head[m.ins_h],m.head[m.ins_h]=m.strstart),m.prev_length=m.match_length,m.prev_match=m.match_start,m.match_length=D-1,j!==0&&m.prev_length<m.max_lazy_match&&m.strstart-j<=m.w_size-R&&(m.match_length=dt(m,j),m.match_length<=5&&(m.strategy===1||m.match_length===D&&4096<m.strstart-m.match_start)&&(m.match_length=D-1)),m.prev_length>=D&&m.match_length<=m.prev_length){for(P=m.strstart+m.lookahead-D,N=d._tr_tally(m,m.strstart-1-m.prev_match,m.prev_length-D),m.lookahead-=m.prev_length-1,m.prev_length-=2;++m.strstart<=P&&(m.ins_h=(m.ins_h<<m.hash_shift^m.window[m.strstart+D-1])&m.hash_mask,j=m.prev[m.strstart&m.w_mask]=m.head[m.ins_h],m.head[m.ins_h]=m.strstart),--m.prev_length!=0;);if(m.match_available=0,m.match_length=D-1,m.strstart++,N&&(et(m,!1),m.strm.avail_out===0))return O}else if(m.match_available){if((N=d._tr_tally(m,0,m.window[m.strstart-1]))&&et(m,!1),m.strstart++,m.lookahead--,m.strm.avail_out===0)return O}else m.match_available=1,m.strstart++,m.lookahead--}return m.match_available&&(N=d._tr_tally(m,0,m.window[m.strstart-1]),m.match_available=0),m.insert=m.strstart<D-1?m.strstart:D-1,U===o?(et(m,!0),m.strm.avail_out===0?tt:Y):m.last_lit&&(et(m,!1),m.strm.avail_out===0)?O:H}function Rt(m,U,j,N,P){this.good_length=m,this.max_lazy=U,this.nice_length=j,this.max_chain=N,this.func=P}function Dt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=w,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new c.Buf16(2*k),this.dyn_dtree=new c.Buf16(2*(2*_+1)),this.bl_tree=new c.Buf16(2*(2*f+1)),ut(this.dyn_ltree),ut(this.dyn_dtree),ut(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new c.Buf16(A+1),this.heap=new c.Buf16(2*x+1),ut(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new c.Buf16(2*x+1),ut(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Nt(m){var U;return m&&m.state?(m.total_in=m.total_out=0,m.data_type=g,(U=m.state).pending=0,U.pending_out=0,U.wrap<0&&(U.wrap=-U.wrap),U.status=U.wrap?I:B,m.adler=U.wrap===2?0:1,U.last_flush=y,d._tr_init(U),l):at(m,b)}function K(m){var U=Nt(m);return U===l&&function(j){j.window_size=2*j.w_size,ut(j.head),j.max_lazy_match=n[j.level].max_lazy,j.good_match=n[j.level].good_length,j.nice_match=n[j.level].nice_length,j.max_chain_length=n[j.level].max_chain,j.strstart=0,j.block_start=0,j.lookahead=0,j.insert=0,j.match_length=j.prev_length=D-1,j.match_available=0,j.ins_h=0}(m.state),U}function it(m,U,j,N,P,W){if(!m)return b;var G=1;if(U===s&&(U=6),N<0?(G=0,N=-N):15<N&&(G=2,N-=16),P<1||h<P||j!==w||N<8||15<N||U<0||9<U||W<0||v<W)return at(m,b);N===8&&(N=9);var q=new Dt;return(m.state=q).strm=m,q.wrap=G,q.gzhead=null,q.w_bits=N,q.w_size=1<<q.w_bits,q.w_mask=q.w_size-1,q.hash_bits=P+7,q.hash_size=1<<q.hash_bits,q.hash_mask=q.hash_size-1,q.hash_shift=~~((q.hash_bits+D-1)/D),q.window=new c.Buf8(2*q.w_size),q.head=new c.Buf16(q.hash_size),q.prev=new c.Buf16(q.w_size),q.lit_bufsize=1<<P+6,q.pending_buf_size=4*q.lit_bufsize,q.pending_buf=new c.Buf8(q.pending_buf_size),q.d_buf=1*q.lit_bufsize,q.l_buf=3*q.lit_bufsize,q.level=U,q.strategy=W,q.method=j,K(m)}n=[new Rt(0,0,0,0,function(m,U){var j=65535;for(j>m.pending_buf_size-5&&(j=m.pending_buf_size-5);;){if(m.lookahead<=1){if(Et(m),m.lookahead===0&&U===y)return O;if(m.lookahead===0)break}m.strstart+=m.lookahead,m.lookahead=0;var N=m.block_start+j;if((m.strstart===0||m.strstart>=N)&&(m.lookahead=m.strstart-N,m.strstart=N,et(m,!1),m.strm.avail_out===0)||m.strstart-m.block_start>=m.w_size-R&&(et(m,!1),m.strm.avail_out===0))return O}return m.insert=0,U===o?(et(m,!0),m.strm.avail_out===0?tt:Y):(m.strstart>m.block_start&&(et(m,!1),m.strm.avail_out),O)}),new Rt(4,4,8,4,St),new Rt(4,5,16,8,St),new Rt(4,6,32,32,St),new Rt(4,4,16,16,Ct),new Rt(8,16,32,32,Ct),new Rt(8,16,128,128,Ct),new Rt(8,32,128,256,Ct),new Rt(32,128,258,1024,Ct),new Rt(32,258,258,4096,Ct)],i.deflateInit=function(m,U){return it(m,U,w,15,8,0)},i.deflateInit2=it,i.deflateReset=K,i.deflateResetKeep=Nt,i.deflateSetHeader=function(m,U){return m&&m.state?m.state.wrap!==2?b:(m.state.gzhead=U,l):b},i.deflate=function(m,U){var j,N,P,W;if(!m||!m.state||5<U||U<0)return m?at(m,b):b;if(N=m.state,!m.output||!m.input&&m.avail_in!==0||N.status===666&&U!==o)return at(m,m.avail_out===0?-5:b);if(N.strm=m,j=N.last_flush,N.last_flush=U,N.status===I)if(N.wrap===2)m.adler=0,gt(N,31),gt(N,139),gt(N,8),N.gzhead?(gt(N,(N.gzhead.text?1:0)+(N.gzhead.hcrc?2:0)+(N.gzhead.extra?4:0)+(N.gzhead.name?8:0)+(N.gzhead.comment?16:0)),gt(N,255&N.gzhead.time),gt(N,N.gzhead.time>>8&255),gt(N,N.gzhead.time>>16&255),gt(N,N.gzhead.time>>24&255),gt(N,N.level===9?2:2<=N.strategy||N.level<2?4:0),gt(N,255&N.gzhead.os),N.gzhead.extra&&N.gzhead.extra.length&&(gt(N,255&N.gzhead.extra.length),gt(N,N.gzhead.extra.length>>8&255)),N.gzhead.hcrc&&(m.adler=T(m.adler,N.pending_buf,N.pending,0)),N.gzindex=0,N.status=69):(gt(N,0),gt(N,0),gt(N,0),gt(N,0),gt(N,0),gt(N,N.level===9?2:2<=N.strategy||N.level<2?4:0),gt(N,3),N.status=B);else{var G=w+(N.w_bits-8<<4)<<8;G|=(2<=N.strategy||N.level<2?0:N.level<6?1:N.level===6?2:3)<<6,N.strstart!==0&&(G|=32),G+=31-G%31,N.status=B,pt(N,G),N.strstart!==0&&(pt(N,m.adler>>>16),pt(N,65535&m.adler)),m.adler=1}if(N.status===69)if(N.gzhead.extra){for(P=N.pending;N.gzindex<(65535&N.gzhead.extra.length)&&(N.pending!==N.pending_buf_size||(N.gzhead.hcrc&&N.pending>P&&(m.adler=T(m.adler,N.pending_buf,N.pending-P,P)),Z(m),P=N.pending,N.pending!==N.pending_buf_size));)gt(N,255&N.gzhead.extra[N.gzindex]),N.gzindex++;N.gzhead.hcrc&&N.pending>P&&(m.adler=T(m.adler,N.pending_buf,N.pending-P,P)),N.gzindex===N.gzhead.extra.length&&(N.gzindex=0,N.status=73)}else N.status=73;if(N.status===73)if(N.gzhead.name){P=N.pending;do{if(N.pending===N.pending_buf_size&&(N.gzhead.hcrc&&N.pending>P&&(m.adler=T(m.adler,N.pending_buf,N.pending-P,P)),Z(m),P=N.pending,N.pending===N.pending_buf_size)){W=1;break}W=N.gzindex<N.gzhead.name.length?255&N.gzhead.name.charCodeAt(N.gzindex++):0,gt(N,W)}while(W!==0);N.gzhead.hcrc&&N.pending>P&&(m.adler=T(m.adler,N.pending_buf,N.pending-P,P)),W===0&&(N.gzindex=0,N.status=91)}else N.status=91;if(N.status===91)if(N.gzhead.comment){P=N.pending;do{if(N.pending===N.pending_buf_size&&(N.gzhead.hcrc&&N.pending>P&&(m.adler=T(m.adler,N.pending_buf,N.pending-P,P)),Z(m),P=N.pending,N.pending===N.pending_buf_size)){W=1;break}W=N.gzindex<N.gzhead.comment.length?255&N.gzhead.comment.charCodeAt(N.gzindex++):0,gt(N,W)}while(W!==0);N.gzhead.hcrc&&N.pending>P&&(m.adler=T(m.adler,N.pending_buf,N.pending-P,P)),W===0&&(N.status=103)}else N.status=103;if(N.status===103&&(N.gzhead.hcrc?(N.pending+2>N.pending_buf_size&&Z(m),N.pending+2<=N.pending_buf_size&&(gt(N,255&m.adler),gt(N,m.adler>>8&255),m.adler=0,N.status=B)):N.status=B),N.pending!==0){if(Z(m),m.avail_out===0)return N.last_flush=-1,l}else if(m.avail_in===0&&rt(U)<=rt(j)&&U!==o)return at(m,-5);if(N.status===666&&m.avail_in!==0)return at(m,-5);if(m.avail_in!==0||N.lookahead!==0||U!==y&&N.status!==666){var q=N.strategy===2?function(p,S){for(var L;;){if(p.lookahead===0&&(Et(p),p.lookahead===0)){if(S===y)return O;break}if(p.match_length=0,L=d._tr_tally(p,0,p.window[p.strstart]),p.lookahead--,p.strstart++,L&&(et(p,!1),p.strm.avail_out===0))return O}return p.insert=0,S===o?(et(p,!0),p.strm.avail_out===0?tt:Y):p.last_lit&&(et(p,!1),p.strm.avail_out===0)?O:H}(N,U):N.strategy===3?function(p,S){for(var L,M,X,J,lt=p.window;;){if(p.lookahead<=C){if(Et(p),p.lookahead<=C&&S===y)return O;if(p.lookahead===0)break}if(p.match_length=0,p.lookahead>=D&&0<p.strstart&&(M=lt[X=p.strstart-1])===lt[++X]&&M===lt[++X]&&M===lt[++X]){J=p.strstart+C;do;while(M===lt[++X]&&M===lt[++X]&&M===lt[++X]&&M===lt[++X]&&M===lt[++X]&&M===lt[++X]&&M===lt[++X]&&M===lt[++X]&&X<J);p.match_length=C-(J-X),p.match_length>p.lookahead&&(p.match_length=p.lookahead)}if(p.match_length>=D?(L=d._tr_tally(p,1,p.match_length-D),p.lookahead-=p.match_length,p.strstart+=p.match_length,p.match_length=0):(L=d._tr_tally(p,0,p.window[p.strstart]),p.lookahead--,p.strstart++),L&&(et(p,!1),p.strm.avail_out===0))return O}return p.insert=0,S===o?(et(p,!0),p.strm.avail_out===0?tt:Y):p.last_lit&&(et(p,!1),p.strm.avail_out===0)?O:H}(N,U):n[N.level].func(N,U);if(q!==tt&&q!==Y||(N.status=666),q===O||q===tt)return m.avail_out===0&&(N.last_flush=-1),l;if(q===H&&(U===1?d._tr_align(N):U!==5&&(d._tr_stored_block(N,0,0,!1),U===3&&(ut(N.head),N.lookahead===0&&(N.strstart=0,N.block_start=0,N.insert=0))),Z(m),m.avail_out===0))return N.last_flush=-1,l}return U!==o?l:N.wrap<=0?1:(N.wrap===2?(gt(N,255&m.adler),gt(N,m.adler>>8&255),gt(N,m.adler>>16&255),gt(N,m.adler>>24&255),gt(N,255&m.total_in),gt(N,m.total_in>>8&255),gt(N,m.total_in>>16&255),gt(N,m.total_in>>24&255)):(pt(N,m.adler>>>16),pt(N,65535&m.adler)),Z(m),0<N.wrap&&(N.wrap=-N.wrap),N.pending!==0?l:1)},i.deflateEnd=function(m){var U;return m&&m.state?(U=m.state.status)!==I&&U!==69&&U!==73&&U!==91&&U!==103&&U!==B&&U!==666?at(m,b):(m.state=null,U===B?at(m,-3):l):b},i.deflateSetDictionary=function(m,U){var j,N,P,W,G,q,p,S,L=U.length;if(!m||!m.state||(W=(j=m.state).wrap)===2||W===1&&j.status!==I||j.lookahead)return b;for(W===1&&(m.adler=u(m.adler,U,L,0)),j.wrap=0,L>=j.w_size&&(W===0&&(ut(j.head),j.strstart=0,j.block_start=0,j.insert=0),S=new c.Buf8(j.w_size),c.arraySet(S,U,L-j.w_size,j.w_size,0),U=S,L=j.w_size),G=m.avail_in,q=m.next_in,p=m.input,m.avail_in=L,m.next_in=0,m.input=U,Et(j);j.lookahead>=D;){for(N=j.strstart,P=j.lookahead-(D-1);j.ins_h=(j.ins_h<<j.hash_shift^j.window[N+D-1])&j.hash_mask,j.prev[N&j.w_mask]=j.head[j.ins_h],j.head[j.ins_h]=N,N++,--P;);j.strstart=N,j.lookahead=D-1,Et(j)}return j.strstart+=j.lookahead,j.block_start=j.strstart,j.insert=j.lookahead,j.lookahead=0,j.match_length=j.prev_length=D-1,j.match_available=0,m.next_in=q,m.input=p,m.avail_in=G,j.wrap=W,l},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,a,i){a.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,a,i){a.exports=function(n,c){var d,u,T,E,y,o,l,b,s,v,g,w,h,x,_,f,k,A,D,C,R,I,B,O,H;d=n.state,u=n.next_in,O=n.input,T=u+(n.avail_in-5),E=n.next_out,H=n.output,y=E-(c-n.avail_out),o=E+(n.avail_out-257),l=d.dmax,b=d.wsize,s=d.whave,v=d.wnext,g=d.window,w=d.hold,h=d.bits,x=d.lencode,_=d.distcode,f=(1<<d.lenbits)-1,k=(1<<d.distbits)-1;t:do{h<15&&(w+=O[u++]<<h,h+=8,w+=O[u++]<<h,h+=8),A=x[w&f];e:for(;;){if(w>>>=D=A>>>24,h-=D,(D=A>>>16&255)===0)H[E++]=65535&A;else{if(!(16&D)){if(!(64&D)){A=x[(65535&A)+(w&(1<<D)-1)];continue e}if(32&D){d.mode=12;break t}n.msg="invalid literal/length code",d.mode=30;break t}C=65535&A,(D&=15)&&(h<D&&(w+=O[u++]<<h,h+=8),C+=w&(1<<D)-1,w>>>=D,h-=D),h<15&&(w+=O[u++]<<h,h+=8,w+=O[u++]<<h,h+=8),A=_[w&k];r:for(;;){if(w>>>=D=A>>>24,h-=D,!(16&(D=A>>>16&255))){if(!(64&D)){A=_[(65535&A)+(w&(1<<D)-1)];continue r}n.msg="invalid distance code",d.mode=30;break t}if(R=65535&A,h<(D&=15)&&(w+=O[u++]<<h,(h+=8)<D&&(w+=O[u++]<<h,h+=8)),l<(R+=w&(1<<D)-1)){n.msg="invalid distance too far back",d.mode=30;break t}if(w>>>=D,h-=D,(D=E-y)<R){if(s<(D=R-D)&&d.sane){n.msg="invalid distance too far back",d.mode=30;break t}if(B=g,(I=0)===v){if(I+=b-D,D<C){for(C-=D;H[E++]=g[I++],--D;);I=E-R,B=H}}else if(v<D){if(I+=b+v-D,(D-=v)<C){for(C-=D;H[E++]=g[I++],--D;);if(I=0,v<C){for(C-=D=v;H[E++]=g[I++],--D;);I=E-R,B=H}}}else if(I+=v-D,D<C){for(C-=D;H[E++]=g[I++],--D;);I=E-R,B=H}for(;2<C;)H[E++]=B[I++],H[E++]=B[I++],H[E++]=B[I++],C-=3;C&&(H[E++]=B[I++],1<C&&(H[E++]=B[I++]))}else{for(I=E-R;H[E++]=H[I++],H[E++]=H[I++],H[E++]=H[I++],2<(C-=3););C&&(H[E++]=H[I++],1<C&&(H[E++]=H[I++]))}break}}break}}while(u<T&&E<o);u-=C=h>>3,w&=(1<<(h-=C<<3))-1,n.next_in=u,n.next_out=E,n.avail_in=u<T?T-u+5:5-(u-T),n.avail_out=E<o?o-E+257:257-(E-o),d.hold=w,d.bits=h}},{}],49:[function(r,a,i){var n=r("../utils/common"),c=r("./adler32"),d=r("./crc32"),u=r("./inffast"),T=r("./inftrees"),E=1,y=2,o=0,l=-2,b=1,s=852,v=592;function g(I){return(I>>>24&255)+(I>>>8&65280)+((65280&I)<<8)+((255&I)<<24)}function w(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function h(I){var B;return I&&I.state?(B=I.state,I.total_in=I.total_out=B.total=0,I.msg="",B.wrap&&(I.adler=1&B.wrap),B.mode=b,B.last=0,B.havedict=0,B.dmax=32768,B.head=null,B.hold=0,B.bits=0,B.lencode=B.lendyn=new n.Buf32(s),B.distcode=B.distdyn=new n.Buf32(v),B.sane=1,B.back=-1,o):l}function x(I){var B;return I&&I.state?((B=I.state).wsize=0,B.whave=0,B.wnext=0,h(I)):l}function _(I,B){var O,H;return I&&I.state?(H=I.state,B<0?(O=0,B=-B):(O=1+(B>>4),B<48&&(B&=15)),B&&(B<8||15<B)?l:(H.window!==null&&H.wbits!==B&&(H.window=null),H.wrap=O,H.wbits=B,x(I))):l}function f(I,B){var O,H;return I?(H=new w,(I.state=H).window=null,(O=_(I,B))!==o&&(I.state=null),O):l}var k,A,D=!0;function C(I){if(D){var B;for(k=new n.Buf32(512),A=new n.Buf32(32),B=0;B<144;)I.lens[B++]=8;for(;B<256;)I.lens[B++]=9;for(;B<280;)I.lens[B++]=7;for(;B<288;)I.lens[B++]=8;for(T(E,I.lens,0,288,k,0,I.work,{bits:9}),B=0;B<32;)I.lens[B++]=5;T(y,I.lens,0,32,A,0,I.work,{bits:5}),D=!1}I.lencode=k,I.lenbits=9,I.distcode=A,I.distbits=5}function R(I,B,O,H){var tt,Y=I.state;return Y.window===null&&(Y.wsize=1<<Y.wbits,Y.wnext=0,Y.whave=0,Y.window=new n.Buf8(Y.wsize)),H>=Y.wsize?(n.arraySet(Y.window,B,O-Y.wsize,Y.wsize,0),Y.wnext=0,Y.whave=Y.wsize):(H<(tt=Y.wsize-Y.wnext)&&(tt=H),n.arraySet(Y.window,B,O-H,tt,Y.wnext),(H-=tt)?(n.arraySet(Y.window,B,O-H,H,0),Y.wnext=H,Y.whave=Y.wsize):(Y.wnext+=tt,Y.wnext===Y.wsize&&(Y.wnext=0),Y.whave<Y.wsize&&(Y.whave+=tt))),0}i.inflateReset=x,i.inflateReset2=_,i.inflateResetKeep=h,i.inflateInit=function(I){return f(I,15)},i.inflateInit2=f,i.inflate=function(I,B){var O,H,tt,Y,at,rt,ut,Z,et,gt,pt,dt,Et,St,Ct,Rt,Dt,Nt,K,it,m,U,j,N,P=0,W=new n.Buf8(4),G=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!I||!I.state||!I.output||!I.input&&I.avail_in!==0)return l;(O=I.state).mode===12&&(O.mode=13),at=I.next_out,tt=I.output,ut=I.avail_out,Y=I.next_in,H=I.input,rt=I.avail_in,Z=O.hold,et=O.bits,gt=rt,pt=ut,U=o;t:for(;;)switch(O.mode){case b:if(O.wrap===0){O.mode=13;break}for(;et<16;){if(rt===0)break t;rt--,Z+=H[Y++]<<et,et+=8}if(2&O.wrap&&Z===35615){W[O.check=0]=255&Z,W[1]=Z>>>8&255,O.check=d(O.check,W,2,0),et=Z=0,O.mode=2;break}if(O.flags=0,O.head&&(O.head.done=!1),!(1&O.wrap)||(((255&Z)<<8)+(Z>>8))%31){I.msg="incorrect header check",O.mode=30;break}if((15&Z)!=8){I.msg="unknown compression method",O.mode=30;break}if(et-=4,m=8+(15&(Z>>>=4)),O.wbits===0)O.wbits=m;else if(m>O.wbits){I.msg="invalid window size",O.mode=30;break}O.dmax=1<<m,I.adler=O.check=1,O.mode=512&Z?10:12,et=Z=0;break;case 2:for(;et<16;){if(rt===0)break t;rt--,Z+=H[Y++]<<et,et+=8}if(O.flags=Z,(255&O.flags)!=8){I.msg="unknown compression method",O.mode=30;break}if(57344&O.flags){I.msg="unknown header flags set",O.mode=30;break}O.head&&(O.head.text=Z>>8&1),512&O.flags&&(W[0]=255&Z,W[1]=Z>>>8&255,O.check=d(O.check,W,2,0)),et=Z=0,O.mode=3;case 3:for(;et<32;){if(rt===0)break t;rt--,Z+=H[Y++]<<et,et+=8}O.head&&(O.head.time=Z),512&O.flags&&(W[0]=255&Z,W[1]=Z>>>8&255,W[2]=Z>>>16&255,W[3]=Z>>>24&255,O.check=d(O.check,W,4,0)),et=Z=0,O.mode=4;case 4:for(;et<16;){if(rt===0)break t;rt--,Z+=H[Y++]<<et,et+=8}O.head&&(O.head.xflags=255&Z,O.head.os=Z>>8),512&O.flags&&(W[0]=255&Z,W[1]=Z>>>8&255,O.check=d(O.check,W,2,0)),et=Z=0,O.mode=5;case 5:if(1024&O.flags){for(;et<16;){if(rt===0)break t;rt--,Z+=H[Y++]<<et,et+=8}O.length=Z,O.head&&(O.head.extra_len=Z),512&O.flags&&(W[0]=255&Z,W[1]=Z>>>8&255,O.check=d(O.check,W,2,0)),et=Z=0}else O.head&&(O.head.extra=null);O.mode=6;case 6:if(1024&O.flags&&(rt<(dt=O.length)&&(dt=rt),dt&&(O.head&&(m=O.head.extra_len-O.length,O.head.extra||(O.head.extra=new Array(O.head.extra_len)),n.arraySet(O.head.extra,H,Y,dt,m)),512&O.flags&&(O.check=d(O.check,H,dt,Y)),rt-=dt,Y+=dt,O.length-=dt),O.length))break t;O.length=0,O.mode=7;case 7:if(2048&O.flags){if(rt===0)break t;for(dt=0;m=H[Y+dt++],O.head&&m&&O.length<65536&&(O.head.name+=String.fromCharCode(m)),m&&dt<rt;);if(512&O.flags&&(O.check=d(O.check,H,dt,Y)),rt-=dt,Y+=dt,m)break t}else O.head&&(O.head.name=null);O.length=0,O.mode=8;case 8:if(4096&O.flags){if(rt===0)break t;for(dt=0;m=H[Y+dt++],O.head&&m&&O.length<65536&&(O.head.comment+=String.fromCharCode(m)),m&&dt<rt;);if(512&O.flags&&(O.check=d(O.check,H,dt,Y)),rt-=dt,Y+=dt,m)break t}else O.head&&(O.head.comment=null);O.mode=9;case 9:if(512&O.flags){for(;et<16;){if(rt===0)break t;rt--,Z+=H[Y++]<<et,et+=8}if(Z!==(65535&O.check)){I.msg="header crc mismatch",O.mode=30;break}et=Z=0}O.head&&(O.head.hcrc=O.flags>>9&1,O.head.done=!0),I.adler=O.check=0,O.mode=12;break;case 10:for(;et<32;){if(rt===0)break t;rt--,Z+=H[Y++]<<et,et+=8}I.adler=O.check=g(Z),et=Z=0,O.mode=11;case 11:if(O.havedict===0)return I.next_out=at,I.avail_out=ut,I.next_in=Y,I.avail_in=rt,O.hold=Z,O.bits=et,2;I.adler=O.check=1,O.mode=12;case 12:if(B===5||B===6)break t;case 13:if(O.last){Z>>>=7&et,et-=7&et,O.mode=27;break}for(;et<3;){if(rt===0)break t;rt--,Z+=H[Y++]<<et,et+=8}switch(O.last=1&Z,et-=1,3&(Z>>>=1)){case 0:O.mode=14;break;case 1:if(C(O),O.mode=20,B!==6)break;Z>>>=2,et-=2;break t;case 2:O.mode=17;break;case 3:I.msg="invalid block type",O.mode=30}Z>>>=2,et-=2;break;case 14:for(Z>>>=7&et,et-=7&et;et<32;){if(rt===0)break t;rt--,Z+=H[Y++]<<et,et+=8}if((65535&Z)!=(Z>>>16^65535)){I.msg="invalid stored block lengths",O.mode=30;break}if(O.length=65535&Z,et=Z=0,O.mode=15,B===6)break t;case 15:O.mode=16;case 16:if(dt=O.length){if(rt<dt&&(dt=rt),ut<dt&&(dt=ut),dt===0)break t;n.arraySet(tt,H,Y,dt,at),rt-=dt,Y+=dt,ut-=dt,at+=dt,O.length-=dt;break}O.mode=12;break;case 17:for(;et<14;){if(rt===0)break t;rt--,Z+=H[Y++]<<et,et+=8}if(O.nlen=257+(31&Z),Z>>>=5,et-=5,O.ndist=1+(31&Z),Z>>>=5,et-=5,O.ncode=4+(15&Z),Z>>>=4,et-=4,286<O.nlen||30<O.ndist){I.msg="too many length or distance symbols",O.mode=30;break}O.have=0,O.mode=18;case 18:for(;O.have<O.ncode;){for(;et<3;){if(rt===0)break t;rt--,Z+=H[Y++]<<et,et+=8}O.lens[G[O.have++]]=7&Z,Z>>>=3,et-=3}for(;O.have<19;)O.lens[G[O.have++]]=0;if(O.lencode=O.lendyn,O.lenbits=7,j={bits:O.lenbits},U=T(0,O.lens,0,19,O.lencode,0,O.work,j),O.lenbits=j.bits,U){I.msg="invalid code lengths set",O.mode=30;break}O.have=0,O.mode=19;case 19:for(;O.have<O.nlen+O.ndist;){for(;Rt=(P=O.lencode[Z&(1<<O.lenbits)-1])>>>16&255,Dt=65535&P,!((Ct=P>>>24)<=et);){if(rt===0)break t;rt--,Z+=H[Y++]<<et,et+=8}if(Dt<16)Z>>>=Ct,et-=Ct,O.lens[O.have++]=Dt;else{if(Dt===16){for(N=Ct+2;et<N;){if(rt===0)break t;rt--,Z+=H[Y++]<<et,et+=8}if(Z>>>=Ct,et-=Ct,O.have===0){I.msg="invalid bit length repeat",O.mode=30;break}m=O.lens[O.have-1],dt=3+(3&Z),Z>>>=2,et-=2}else if(Dt===17){for(N=Ct+3;et<N;){if(rt===0)break t;rt--,Z+=H[Y++]<<et,et+=8}et-=Ct,m=0,dt=3+(7&(Z>>>=Ct)),Z>>>=3,et-=3}else{for(N=Ct+7;et<N;){if(rt===0)break t;rt--,Z+=H[Y++]<<et,et+=8}et-=Ct,m=0,dt=11+(127&(Z>>>=Ct)),Z>>>=7,et-=7}if(O.have+dt>O.nlen+O.ndist){I.msg="invalid bit length repeat",O.mode=30;break}for(;dt--;)O.lens[O.have++]=m}}if(O.mode===30)break;if(O.lens[256]===0){I.msg="invalid code -- missing end-of-block",O.mode=30;break}if(O.lenbits=9,j={bits:O.lenbits},U=T(E,O.lens,0,O.nlen,O.lencode,0,O.work,j),O.lenbits=j.bits,U){I.msg="invalid literal/lengths set",O.mode=30;break}if(O.distbits=6,O.distcode=O.distdyn,j={bits:O.distbits},U=T(y,O.lens,O.nlen,O.ndist,O.distcode,0,O.work,j),O.distbits=j.bits,U){I.msg="invalid distances set",O.mode=30;break}if(O.mode=20,B===6)break t;case 20:O.mode=21;case 21:if(6<=rt&&258<=ut){I.next_out=at,I.avail_out=ut,I.next_in=Y,I.avail_in=rt,O.hold=Z,O.bits=et,u(I,pt),at=I.next_out,tt=I.output,ut=I.avail_out,Y=I.next_in,H=I.input,rt=I.avail_in,Z=O.hold,et=O.bits,O.mode===12&&(O.back=-1);break}for(O.back=0;Rt=(P=O.lencode[Z&(1<<O.lenbits)-1])>>>16&255,Dt=65535&P,!((Ct=P>>>24)<=et);){if(rt===0)break t;rt--,Z+=H[Y++]<<et,et+=8}if(Rt&&!(240&Rt)){for(Nt=Ct,K=Rt,it=Dt;Rt=(P=O.lencode[it+((Z&(1<<Nt+K)-1)>>Nt)])>>>16&255,Dt=65535&P,!(Nt+(Ct=P>>>24)<=et);){if(rt===0)break t;rt--,Z+=H[Y++]<<et,et+=8}Z>>>=Nt,et-=Nt,O.back+=Nt}if(Z>>>=Ct,et-=Ct,O.back+=Ct,O.length=Dt,Rt===0){O.mode=26;break}if(32&Rt){O.back=-1,O.mode=12;break}if(64&Rt){I.msg="invalid literal/length code",O.mode=30;break}O.extra=15&Rt,O.mode=22;case 22:if(O.extra){for(N=O.extra;et<N;){if(rt===0)break t;rt--,Z+=H[Y++]<<et,et+=8}O.length+=Z&(1<<O.extra)-1,Z>>>=O.extra,et-=O.extra,O.back+=O.extra}O.was=O.length,O.mode=23;case 23:for(;Rt=(P=O.distcode[Z&(1<<O.distbits)-1])>>>16&255,Dt=65535&P,!((Ct=P>>>24)<=et);){if(rt===0)break t;rt--,Z+=H[Y++]<<et,et+=8}if(!(240&Rt)){for(Nt=Ct,K=Rt,it=Dt;Rt=(P=O.distcode[it+((Z&(1<<Nt+K)-1)>>Nt)])>>>16&255,Dt=65535&P,!(Nt+(Ct=P>>>24)<=et);){if(rt===0)break t;rt--,Z+=H[Y++]<<et,et+=8}Z>>>=Nt,et-=Nt,O.back+=Nt}if(Z>>>=Ct,et-=Ct,O.back+=Ct,64&Rt){I.msg="invalid distance code",O.mode=30;break}O.offset=Dt,O.extra=15&Rt,O.mode=24;case 24:if(O.extra){for(N=O.extra;et<N;){if(rt===0)break t;rt--,Z+=H[Y++]<<et,et+=8}O.offset+=Z&(1<<O.extra)-1,Z>>>=O.extra,et-=O.extra,O.back+=O.extra}if(O.offset>O.dmax){I.msg="invalid distance too far back",O.mode=30;break}O.mode=25;case 25:if(ut===0)break t;if(dt=pt-ut,O.offset>dt){if((dt=O.offset-dt)>O.whave&&O.sane){I.msg="invalid distance too far back",O.mode=30;break}Et=dt>O.wnext?(dt-=O.wnext,O.wsize-dt):O.wnext-dt,dt>O.length&&(dt=O.length),St=O.window}else St=tt,Et=at-O.offset,dt=O.length;for(ut<dt&&(dt=ut),ut-=dt,O.length-=dt;tt[at++]=St[Et++],--dt;);O.length===0&&(O.mode=21);break;case 26:if(ut===0)break t;tt[at++]=O.length,ut--,O.mode=21;break;case 27:if(O.wrap){for(;et<32;){if(rt===0)break t;rt--,Z|=H[Y++]<<et,et+=8}if(pt-=ut,I.total_out+=pt,O.total+=pt,pt&&(I.adler=O.check=O.flags?d(O.check,tt,pt,at-pt):c(O.check,tt,pt,at-pt)),pt=ut,(O.flags?Z:g(Z))!==O.check){I.msg="incorrect data check",O.mode=30;break}et=Z=0}O.mode=28;case 28:if(O.wrap&&O.flags){for(;et<32;){if(rt===0)break t;rt--,Z+=H[Y++]<<et,et+=8}if(Z!==(4294967295&O.total)){I.msg="incorrect length check",O.mode=30;break}et=Z=0}O.mode=29;case 29:U=1;break t;case 30:U=-3;break t;case 31:return-4;case 32:default:return l}return I.next_out=at,I.avail_out=ut,I.next_in=Y,I.avail_in=rt,O.hold=Z,O.bits=et,(O.wsize||pt!==I.avail_out&&O.mode<30&&(O.mode<27||B!==4))&&R(I,I.output,I.next_out,pt-I.avail_out)?(O.mode=31,-4):(gt-=I.avail_in,pt-=I.avail_out,I.total_in+=gt,I.total_out+=pt,O.total+=pt,O.wrap&&pt&&(I.adler=O.check=O.flags?d(O.check,tt,pt,I.next_out-pt):c(O.check,tt,pt,I.next_out-pt)),I.data_type=O.bits+(O.last?64:0)+(O.mode===12?128:0)+(O.mode===20||O.mode===15?256:0),(gt==0&&pt===0||B===4)&&U===o&&(U=-5),U)},i.inflateEnd=function(I){if(!I||!I.state)return l;var B=I.state;return B.window&&(B.window=null),I.state=null,o},i.inflateGetHeader=function(I,B){var O;return I&&I.state&&2&(O=I.state).wrap?((O.head=B).done=!1,o):l},i.inflateSetDictionary=function(I,B){var O,H=B.length;return I&&I.state?(O=I.state).wrap!==0&&O.mode!==11?l:O.mode===11&&c(1,B,H,0)!==O.check?-3:R(I,B,H,H)?(O.mode=31,-4):(O.havedict=1,o):l},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,a,i){var n=r("../utils/common"),c=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],d=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],u=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],T=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];a.exports=function(E,y,o,l,b,s,v,g){var w,h,x,_,f,k,A,D,C,R=g.bits,I=0,B=0,O=0,H=0,tt=0,Y=0,at=0,rt=0,ut=0,Z=0,et=null,gt=0,pt=new n.Buf16(16),dt=new n.Buf16(16),Et=null,St=0;for(I=0;I<=15;I++)pt[I]=0;for(B=0;B<l;B++)pt[y[o+B]]++;for(tt=R,H=15;1<=H&&pt[H]===0;H--);if(H<tt&&(tt=H),H===0)return b[s++]=20971520,b[s++]=20971520,g.bits=1,0;for(O=1;O<H&&pt[O]===0;O++);for(tt<O&&(tt=O),I=rt=1;I<=15;I++)if(rt<<=1,(rt-=pt[I])<0)return-1;if(0<rt&&(E===0||H!==1))return-1;for(dt[1]=0,I=1;I<15;I++)dt[I+1]=dt[I]+pt[I];for(B=0;B<l;B++)y[o+B]!==0&&(v[dt[y[o+B]]++]=B);if(k=E===0?(et=Et=v,19):E===1?(et=c,gt-=257,Et=d,St-=257,256):(et=u,Et=T,-1),I=O,f=s,at=B=Z=0,x=-1,_=(ut=1<<(Y=tt))-1,E===1&&852<ut||E===2&&592<ut)return 1;for(;;){for(A=I-at,C=v[B]<k?(D=0,v[B]):v[B]>k?(D=Et[St+v[B]],et[gt+v[B]]):(D=96,0),w=1<<I-at,O=h=1<<Y;b[f+(Z>>at)+(h-=w)]=A<<24|D<<16|C|0,h!==0;);for(w=1<<I-1;Z&w;)w>>=1;if(w!==0?(Z&=w-1,Z+=w):Z=0,B++,--pt[I]==0){if(I===H)break;I=y[o+v[B]]}if(tt<I&&(Z&_)!==x){for(at===0&&(at=tt),f+=O,rt=1<<(Y=I-at);Y+at<H&&!((rt-=pt[Y+at])<=0);)Y++,rt<<=1;if(ut+=1<<Y,E===1&&852<ut||E===2&&592<ut)return 1;b[x=Z&_]=tt<<24|Y<<16|f-s|0}}return Z!==0&&(b[f+Z]=I-at<<24|64<<16|0),g.bits=tt,0}},{"../utils/common":41}],51:[function(r,a,i){a.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,a,i){var n=r("../utils/common"),c=0,d=1;function u(P){for(var W=P.length;0<=--W;)P[W]=0}var T=0,E=29,y=256,o=y+1+E,l=30,b=19,s=2*o+1,v=15,g=16,w=7,h=256,x=16,_=17,f=18,k=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],A=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],D=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],C=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],R=new Array(2*(o+2));u(R);var I=new Array(2*l);u(I);var B=new Array(512);u(B);var O=new Array(256);u(O);var H=new Array(E);u(H);var tt,Y,at,rt=new Array(l);function ut(P,W,G,q,p){this.static_tree=P,this.extra_bits=W,this.extra_base=G,this.elems=q,this.max_length=p,this.has_stree=P&&P.length}function Z(P,W){this.dyn_tree=P,this.max_code=0,this.stat_desc=W}function et(P){return P<256?B[P]:B[256+(P>>>7)]}function gt(P,W){P.pending_buf[P.pending++]=255&W,P.pending_buf[P.pending++]=W>>>8&255}function pt(P,W,G){P.bi_valid>g-G?(P.bi_buf|=W<<P.bi_valid&65535,gt(P,P.bi_buf),P.bi_buf=W>>g-P.bi_valid,P.bi_valid+=G-g):(P.bi_buf|=W<<P.bi_valid&65535,P.bi_valid+=G)}function dt(P,W,G){pt(P,G[2*W],G[2*W+1])}function Et(P,W){for(var G=0;G|=1&P,P>>>=1,G<<=1,0<--W;);return G>>>1}function St(P,W,G){var q,p,S=new Array(v+1),L=0;for(q=1;q<=v;q++)S[q]=L=L+G[q-1]<<1;for(p=0;p<=W;p++){var M=P[2*p+1];M!==0&&(P[2*p]=Et(S[M]++,M))}}function Ct(P){var W;for(W=0;W<o;W++)P.dyn_ltree[2*W]=0;for(W=0;W<l;W++)P.dyn_dtree[2*W]=0;for(W=0;W<b;W++)P.bl_tree[2*W]=0;P.dyn_ltree[2*h]=1,P.opt_len=P.static_len=0,P.last_lit=P.matches=0}function Rt(P){8<P.bi_valid?gt(P,P.bi_buf):0<P.bi_valid&&(P.pending_buf[P.pending++]=P.bi_buf),P.bi_buf=0,P.bi_valid=0}function Dt(P,W,G,q){var p=2*W,S=2*G;return P[p]<P[S]||P[p]===P[S]&&q[W]<=q[G]}function Nt(P,W,G){for(var q=P.heap[G],p=G<<1;p<=P.heap_len&&(p<P.heap_len&&Dt(W,P.heap[p+1],P.heap[p],P.depth)&&p++,!Dt(W,q,P.heap[p],P.depth));)P.heap[G]=P.heap[p],G=p,p<<=1;P.heap[G]=q}function K(P,W,G){var q,p,S,L,M=0;if(P.last_lit!==0)for(;q=P.pending_buf[P.d_buf+2*M]<<8|P.pending_buf[P.d_buf+2*M+1],p=P.pending_buf[P.l_buf+M],M++,q===0?dt(P,p,W):(dt(P,(S=O[p])+y+1,W),(L=k[S])!==0&&pt(P,p-=H[S],L),dt(P,S=et(--q),G),(L=A[S])!==0&&pt(P,q-=rt[S],L)),M<P.last_lit;);dt(P,h,W)}function it(P,W){var G,q,p,S=W.dyn_tree,L=W.stat_desc.static_tree,M=W.stat_desc.has_stree,X=W.stat_desc.elems,J=-1;for(P.heap_len=0,P.heap_max=s,G=0;G<X;G++)S[2*G]!==0?(P.heap[++P.heap_len]=J=G,P.depth[G]=0):S[2*G+1]=0;for(;P.heap_len<2;)S[2*(p=P.heap[++P.heap_len]=J<2?++J:0)]=1,P.depth[p]=0,P.opt_len--,M&&(P.static_len-=L[2*p+1]);for(W.max_code=J,G=P.heap_len>>1;1<=G;G--)Nt(P,S,G);for(p=X;G=P.heap[1],P.heap[1]=P.heap[P.heap_len--],Nt(P,S,1),q=P.heap[1],P.heap[--P.heap_max]=G,P.heap[--P.heap_max]=q,S[2*p]=S[2*G]+S[2*q],P.depth[p]=(P.depth[G]>=P.depth[q]?P.depth[G]:P.depth[q])+1,S[2*G+1]=S[2*q+1]=p,P.heap[1]=p++,Nt(P,S,1),2<=P.heap_len;);P.heap[--P.heap_max]=P.heap[1],function(lt,vt){var Tt,At,Lt,It,Ut,zt,z=vt.dyn_tree,$=vt.max_code,nt=vt.stat_desc.static_tree,ft=vt.stat_desc.has_stree,xt=vt.stat_desc.extra_bits,Wt=vt.stat_desc.extra_base,Jt=vt.stat_desc.max_length,se=0;for(It=0;It<=v;It++)lt.bl_count[It]=0;for(z[2*lt.heap[lt.heap_max]+1]=0,Tt=lt.heap_max+1;Tt<s;Tt++)Jt<(It=z[2*z[2*(At=lt.heap[Tt])+1]+1]+1)&&(It=Jt,se++),z[2*At+1]=It,$<At||(lt.bl_count[It]++,Ut=0,Wt<=At&&(Ut=xt[At-Wt]),zt=z[2*At],lt.opt_len+=zt*(It+Ut),ft&&(lt.static_len+=zt*(nt[2*At+1]+Ut)));if(se!==0){do{for(It=Jt-1;lt.bl_count[It]===0;)It--;lt.bl_count[It]--,lt.bl_count[It+1]+=2,lt.bl_count[Jt]--,se-=2}while(0<se);for(It=Jt;It!==0;It--)for(At=lt.bl_count[It];At!==0;)$<(Lt=lt.heap[--Tt])||(z[2*Lt+1]!==It&&(lt.opt_len+=(It-z[2*Lt+1])*z[2*Lt],z[2*Lt+1]=It),At--)}}(P,W),St(S,J,P.bl_count)}function m(P,W,G){var q,p,S=-1,L=W[1],M=0,X=7,J=4;for(L===0&&(X=138,J=3),W[2*(G+1)+1]=65535,q=0;q<=G;q++)p=L,L=W[2*(q+1)+1],++M<X&&p===L||(M<J?P.bl_tree[2*p]+=M:p!==0?(p!==S&&P.bl_tree[2*p]++,P.bl_tree[2*x]++):M<=10?P.bl_tree[2*_]++:P.bl_tree[2*f]++,S=p,J=(M=0)===L?(X=138,3):p===L?(X=6,3):(X=7,4))}function U(P,W,G){var q,p,S=-1,L=W[1],M=0,X=7,J=4;for(L===0&&(X=138,J=3),q=0;q<=G;q++)if(p=L,L=W[2*(q+1)+1],!(++M<X&&p===L)){if(M<J)for(;dt(P,p,P.bl_tree),--M!=0;);else p!==0?(p!==S&&(dt(P,p,P.bl_tree),M--),dt(P,x,P.bl_tree),pt(P,M-3,2)):M<=10?(dt(P,_,P.bl_tree),pt(P,M-3,3)):(dt(P,f,P.bl_tree),pt(P,M-11,7));S=p,J=(M=0)===L?(X=138,3):p===L?(X=6,3):(X=7,4)}}u(rt);var j=!1;function N(P,W,G,q){pt(P,(T<<1)+(q?1:0),3),function(p,S,L,M){Rt(p),gt(p,L),gt(p,~L),n.arraySet(p.pending_buf,p.window,S,L,p.pending),p.pending+=L}(P,W,G)}i._tr_init=function(P){j||(function(){var W,G,q,p,S,L=new Array(v+1);for(p=q=0;p<E-1;p++)for(H[p]=q,W=0;W<1<<k[p];W++)O[q++]=p;for(O[q-1]=p,p=S=0;p<16;p++)for(rt[p]=S,W=0;W<1<<A[p];W++)B[S++]=p;for(S>>=7;p<l;p++)for(rt[p]=S<<7,W=0;W<1<<A[p]-7;W++)B[256+S++]=p;for(G=0;G<=v;G++)L[G]=0;for(W=0;W<=143;)R[2*W+1]=8,W++,L[8]++;for(;W<=255;)R[2*W+1]=9,W++,L[9]++;for(;W<=279;)R[2*W+1]=7,W++,L[7]++;for(;W<=287;)R[2*W+1]=8,W++,L[8]++;for(St(R,o+1,L),W=0;W<l;W++)I[2*W+1]=5,I[2*W]=Et(W,5);tt=new ut(R,k,y+1,o,v),Y=new ut(I,A,0,l,v),at=new ut(new Array(0),D,0,b,w)}(),j=!0),P.l_desc=new Z(P.dyn_ltree,tt),P.d_desc=new Z(P.dyn_dtree,Y),P.bl_desc=new Z(P.bl_tree,at),P.bi_buf=0,P.bi_valid=0,Ct(P)},i._tr_stored_block=N,i._tr_flush_block=function(P,W,G,q){var p,S,L=0;0<P.level?(P.strm.data_type===2&&(P.strm.data_type=function(M){var X,J=4093624447;for(X=0;X<=31;X++,J>>>=1)if(1&J&&M.dyn_ltree[2*X]!==0)return c;if(M.dyn_ltree[18]!==0||M.dyn_ltree[20]!==0||M.dyn_ltree[26]!==0)return d;for(X=32;X<y;X++)if(M.dyn_ltree[2*X]!==0)return d;return c}(P)),it(P,P.l_desc),it(P,P.d_desc),L=function(M){var X;for(m(M,M.dyn_ltree,M.l_desc.max_code),m(M,M.dyn_dtree,M.d_desc.max_code),it(M,M.bl_desc),X=b-1;3<=X&&M.bl_tree[2*C[X]+1]===0;X--);return M.opt_len+=3*(X+1)+5+5+4,X}(P),p=P.opt_len+3+7>>>3,(S=P.static_len+3+7>>>3)<=p&&(p=S)):p=S=G+5,G+4<=p&&W!==-1?N(P,W,G,q):P.strategy===4||S===p?(pt(P,2+(q?1:0),3),K(P,R,I)):(pt(P,4+(q?1:0),3),function(M,X,J,lt){var vt;for(pt(M,X-257,5),pt(M,J-1,5),pt(M,lt-4,4),vt=0;vt<lt;vt++)pt(M,M.bl_tree[2*C[vt]+1],3);U(M,M.dyn_ltree,X-1),U(M,M.dyn_dtree,J-1)}(P,P.l_desc.max_code+1,P.d_desc.max_code+1,L+1),K(P,P.dyn_ltree,P.dyn_dtree)),Ct(P),q&&Rt(P)},i._tr_tally=function(P,W,G){return P.pending_buf[P.d_buf+2*P.last_lit]=W>>>8&255,P.pending_buf[P.d_buf+2*P.last_lit+1]=255&W,P.pending_buf[P.l_buf+P.last_lit]=255&G,P.last_lit++,W===0?P.dyn_ltree[2*G]++:(P.matches++,W--,P.dyn_ltree[2*(O[G]+y+1)]++,P.dyn_dtree[2*et(W)]++),P.last_lit===P.lit_bufsize-1},i._tr_align=function(P){pt(P,2,3),dt(P,h,R),function(W){W.bi_valid===16?(gt(W,W.bi_buf),W.bi_buf=0,W.bi_valid=0):8<=W.bi_valid&&(W.pending_buf[W.pending++]=255&W.bi_buf,W.bi_buf>>=8,W.bi_valid-=8)}(P)}},{"../utils/common":41}],53:[function(r,a,i){a.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,a,i){(function(n){(function(c,d){if(!c.setImmediate){var u,T,E,y,o=1,l={},b=!1,s=c.document,v=Object.getPrototypeOf&&Object.getPrototypeOf(c);v=v&&v.setTimeout?v:c,u={}.toString.call(c.process)==="[object process]"?function(x){process.nextTick(function(){w(x)})}:function(){if(c.postMessage&&!c.importScripts){var x=!0,_=c.onmessage;return c.onmessage=function(){x=!1},c.postMessage("","*"),c.onmessage=_,x}}()?(y="setImmediate$"+Math.random()+"$",c.addEventListener?c.addEventListener("message",h,!1):c.attachEvent("onmessage",h),function(x){c.postMessage(y+x,"*")}):c.MessageChannel?((E=new MessageChannel).port1.onmessage=function(x){w(x.data)},function(x){E.port2.postMessage(x)}):s&&"onreadystatechange"in s.createElement("script")?(T=s.documentElement,function(x){var _=s.createElement("script");_.onreadystatechange=function(){w(x),_.onreadystatechange=null,T.removeChild(_),_=null},T.appendChild(_)}):function(x){setTimeout(w,0,x)},v.setImmediate=function(x){typeof x!="function"&&(x=new Function(""+x));for(var _=new Array(arguments.length-1),f=0;f<_.length;f++)_[f]=arguments[f+1];var k={callback:x,args:_};return l[o]=k,u(o),o++},v.clearImmediate=g}function g(x){delete l[x]}function w(x){if(b)setTimeout(w,0,x);else{var _=l[x];if(_){b=!0;try{(function(f){var k=f.callback,A=f.args;switch(A.length){case 0:k();break;case 1:k(A[0]);break;case 2:k(A[0],A[1]);break;case 3:k(A[0],A[1],A[2]);break;default:k.apply(d,A)}})(_)}finally{g(x),b=!1}}}}function h(x){x.source===c&&typeof x.data=="string"&&x.data.indexOf(y)===0&&w(+x.data.slice(y.length))}})(typeof self=="undefined"?n===void 0?this:n:self)}).call(this,typeof Hn!="undefined"?Hn:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}]},{},[10])(10)})})(ua);var Zi=ua.exports;const Rd=te({__proto__:null,default:ha(Zi)},[Zi]);var da={exports:{}};(function(t,e){(function(a,i){t.exports=i(Zi)})(window,function(r){return function(a){var i={};function n(c){if(i[c])return i[c].exports;var d=i[c]={i:c,l:!1,exports:{}};return a[c].call(d.exports,d,d.exports,n),d.l=!0,d.exports}return n.m=a,n.c=i,n.d=function(c,d,u){n.o(c,d)||Object.defineProperty(c,d,{enumerable:!0,get:u})},n.r=function(c){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(c,"__esModule",{value:!0})},n.t=function(c,d){if(d&1&&(c=n(c)),d&8||d&4&&typeof c=="object"&&c&&c.__esModule)return c;var u=Object.create(null);if(n.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:c}),d&2&&typeof c!="string")for(var T in c)n.d(u,T,function(E){return c[E]}.bind(null,T));return u},n.n=function(c){var d=c&&c.__esModule?function(){return c.default}:function(){return c};return n.d(d,"a",d),d},n.o=function(c,d){return Object.prototype.hasOwnProperty.call(c,d)},n.p="/dist/",n(n.s=30)}([function(a,i,n){n.r(i),n.d(i,"requestAnimationFrame",function(){return d}),n.d(i,"uuid",function(){return y}),n.d(i,"documentHeight",function(){return o}),n.d(i,"isElement",function(){return l}),n.d(i,"isNumber",function(){return b}),n.d(i,"isFloat",function(){return s}),n.d(i,"prefixed",function(){return v}),n.d(i,"defaults",function(){return g}),n.d(i,"extend",function(){return w}),n.d(i,"insert",function(){return h}),n.d(i,"locationOf",function(){return x}),n.d(i,"indexOfSorted",function(){return _}),n.d(i,"bounds",function(){return f}),n.d(i,"borders",function(){return k}),n.d(i,"nodeBounds",function(){return A}),n.d(i,"windowBounds",function(){return D}),n.d(i,"indexOfNode",function(){return C}),n.d(i,"indexOfTextNode",function(){return R}),n.d(i,"indexOfElementNode",function(){return I}),n.d(i,"isXml",function(){return B}),n.d(i,"createBlob",function(){return O}),n.d(i,"createBlobUrl",function(){return H}),n.d(i,"revokeBlobUrl",function(){return tt}),n.d(i,"createBase64Url",function(){return Y}),n.d(i,"type",function(){return at}),n.d(i,"parse",function(){return rt}),n.d(i,"qs",function(){return ut}),n.d(i,"qsa",function(){return Z}),n.d(i,"qsp",function(){return et}),n.d(i,"sprint",function(){return gt}),n.d(i,"treeWalker",function(){return pt}),n.d(i,"walk",function(){return dt}),n.d(i,"blob2base64",function(){return Et}),n.d(i,"defer",function(){return St}),n.d(i,"querySelectorByType",function(){return Ct}),n.d(i,"findChildren",function(){return Rt}),n.d(i,"parents",function(){return Dt}),n.d(i,"filterChildren",function(){return Nt}),n.d(i,"getParentByTagName",function(){return K}),n.d(i,"RangeObject",function(){return it});var c=n(15);const d=typeof window!="undefined"?window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame:!1,u=1,T=3,E=typeof URL!="undefined"?URL:typeof window!="undefined"?window.URL||window.webkitURL||window.mozURL:void 0;function y(){var m=new Date().getTime(),U="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(j){var N=(m+Math.random()*16)%16|0;return m=Math.floor(m/16),(j=="x"?N:N&7|8).toString(16)});return U}function o(){return Math.max(document.documentElement.clientHeight,document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight)}function l(m){return!!(m&&m.nodeType==1)}function b(m){return!isNaN(parseFloat(m))&&isFinite(m)}function s(m){let U=parseFloat(m);return b(m)===!1?!1:typeof m=="string"&&m.indexOf(".")>-1?!0:Math.floor(U)!==U}function v(m){var U=["Webkit","webkit","Moz","O","ms"],j=["-webkit-","-webkit-","-moz-","-o-","-ms-"],N=m.toLowerCase(),P=U.length;if(typeof document=="undefined"||typeof document.body.style[N]!="undefined")return m;for(var W=0;W<P;W++)if(typeof document.body.style[j[W]+N]!="undefined")return j[W]+N;return m}function g(m){for(var U=1,j=arguments.length;U<j;U++){var N=arguments[U];for(var P in N)m[P]===void 0&&(m[P]=N[P])}return m}function w(m){var U=[].slice.call(arguments,1);return U.forEach(function(j){j&&Object.getOwnPropertyNames(j).forEach(function(N){Object.defineProperty(m,N,Object.getOwnPropertyDescriptor(j,N))})}),m}function h(m,U,j){var N=x(m,U,j);return U.splice(N,0,m),N}function x(m,U,j,N,P){var W=N||0,G=P||U.length,q=parseInt(W+(G-W)/2),p;return j||(j=function(S,L){if(S>L)return 1;if(S<L)return-1;if(S==L)return 0}),G-W<=0?q:(p=j(U[q],m),G-W===1?p>=0?q:q+1:p===0?q:p===-1?x(m,U,j,q,G):x(m,U,j,W,q))}function _(m,U,j,N,P){var W=N||0,G=P||U.length,q=parseInt(W+(G-W)/2),p;return j||(j=function(S,L){if(S>L)return 1;if(S<L)return-1;if(S==L)return 0}),G-W<=0?-1:(p=j(U[q],m),G-W===1?p===0?q:-1:p===0?q:p===-1?_(m,U,j,q,G):_(m,U,j,W,q))}function f(m){var U=window.getComputedStyle(m),j=["width","paddingRight","paddingLeft","marginRight","marginLeft","borderRightWidth","borderLeftWidth"],N=["height","paddingTop","paddingBottom","marginTop","marginBottom","borderTopWidth","borderBottomWidth"],P=0,W=0;return j.forEach(function(G){P+=parseFloat(U[G])||0}),N.forEach(function(G){W+=parseFloat(U[G])||0}),{height:W,width:P}}function k(m){var U=window.getComputedStyle(m),j=["paddingRight","paddingLeft","marginRight","marginLeft","borderRightWidth","borderLeftWidth"],N=["paddingTop","paddingBottom","marginTop","marginBottom","borderTopWidth","borderBottomWidth"],P=0,W=0;return j.forEach(function(G){P+=parseFloat(U[G])||0}),N.forEach(function(G){W+=parseFloat(U[G])||0}),{height:W,width:P}}function A(m){let U,j=m.ownerDocument;if(m.nodeType==Node.TEXT_NODE){let N=j.createRange();N.selectNodeContents(m),U=N.getBoundingClientRect()}else U=m.getBoundingClientRect();return U}function D(){var m=window.innerWidth,U=window.innerHeight;return{top:0,left:0,right:m,bottom:U,width:m,height:U}}function C(m,U){for(var j=m.parentNode,N=j.childNodes,P,W=-1,G=0;G<N.length&&(P=N[G],P.nodeType===U&&W++,P!=m);G++);return W}function R(m){return C(m,T)}function I(m){return C(m,u)}function B(m){return["xml","opf","ncx"].indexOf(m)>-1}function O(m,U){return new Blob([m],{type:U})}function H(m,U){var j,N=O(m,U);return j=E.createObjectURL(N),j}function tt(m){return E.revokeObjectURL(m)}function Y(m,U){var j,N;if(typeof m=="string")return j=btoa(m),N="data:"+U+";base64,"+j,N}function at(m){return Object.prototype.toString.call(m).slice(8,-1)}function rt(m,U,j){var N,P;return typeof DOMParser=="undefined"||j?P=c.DOMParser:P=DOMParser,m.charCodeAt(0)===65279&&(m=m.slice(1)),N=new P().parseFromString(m,U),N}function ut(m,U){var j;if(!m)throw new Error("No Element Provided");if(typeof m.querySelector!="undefined")return m.querySelector(U);if(j=m.getElementsByTagName(U),j.length)return j[0]}function Z(m,U){return typeof m.querySelector!="undefined"?m.querySelectorAll(U):m.getElementsByTagName(U)}function et(m,U,j){var N,P;if(typeof m.querySelector!="undefined"){U+="[";for(var W in j)U+=W+"~='"+j[W]+"'";return U+="]",m.querySelector(U)}else if(N=m.getElementsByTagName(U),P=Array.prototype.slice.call(N,0).filter(function(G){for(var q in j)if(G.getAttribute(q)===j[q])return!0;return!1}),P)return P[0]}function gt(m,U){var j=m.ownerDocument||m;typeof j.createTreeWalker!="undefined"?pt(m,U,NodeFilter.SHOW_TEXT):dt(m,function(N){N&&N.nodeType===3&&U(N)})}function pt(m,U,j){var N=document.createTreeWalker(m,j,null,!1);let P;for(;P=N.nextNode();)U(P)}function dt(m,U){if(U(m))return!0;if(m=m.firstChild,m)do{if(dt(m,U))return!0;m=m.nextSibling}while(m)}function Et(m){return new Promise(function(U,j){var N=new FileReader;N.readAsDataURL(m),N.onloadend=function(){U(N.result)}})}function St(){this.resolve=null,this.reject=null,this.id=y(),this.promise=new Promise((m,U)=>{this.resolve=m,this.reject=U}),Object.freeze(this)}function Ct(m,U,j){var N;if(typeof m.querySelector!="undefined"&&(N=m.querySelector(`${U}[*|type="${j}"]`)),!N||N.length===0){N=Z(m,U);for(var P=0;P<N.length;P++)if(N[P].getAttributeNS("http://www.idpf.org/2007/ops","type")===j||N[P].getAttribute("epub:type")===j)return N[P]}else return N}function Rt(m){for(var U=[],j=m.childNodes,N=0;N<j.length;N++){let P=j[N];P.nodeType===1&&U.push(P)}return U}function Dt(m){for(var U=[m];m;m=m.parentNode)U.unshift(m);return U}function Nt(m,U,j){for(var N=[],P=m.childNodes,W=0;W<P.length;W++){let G=P[W];if(G.nodeType===1&&G.nodeName.toLowerCase()===U){if(j)return G;N.push(G)}}if(!j)return N}function K(m,U){let j;if(!(m===null||U===""))for(j=m.parentNode;j.nodeType===1;){if(j.tagName.toLowerCase()===U)return j;j=j.parentNode}}class it{constructor(){this.collapsed=!1,this.commonAncestorContainer=void 0,this.endContainer=void 0,this.endOffset=void 0,this.startContainer=void 0,this.startOffset=void 0}setStart(U,j){this.startContainer=U,this.startOffset=j,this.endContainer?this.commonAncestorContainer=this._commonAncestorContainer():this.collapse(!0),this._checkCollapsed()}setEnd(U,j){this.endContainer=U,this.endOffset=j,this.startContainer?(this.collapsed=!1,this.commonAncestorContainer=this._commonAncestorContainer()):this.collapse(!1),this._checkCollapsed()}collapse(U){this.collapsed=!0,U?(this.endContainer=this.startContainer,this.endOffset=this.startOffset,this.commonAncestorContainer=this.startContainer.parentNode):(this.startContainer=this.endContainer,this.startOffset=this.endOffset,this.commonAncestorContainer=this.endOffset.parentNode)}selectNode(U){let j=U.parentNode,N=Array.prototype.indexOf.call(j.childNodes,U);this.setStart(j,N),this.setEnd(j,N+1)}selectNodeContents(U){U.childNodes[U.childNodes-1];let j=U.nodeType===3?U.textContent.length:parent.childNodes.length;this.setStart(U,0),this.setEnd(U,j)}_commonAncestorContainer(U,j){var N=Dt(U||this.startContainer),P=Dt(j||this.endContainer);if(N[0]==P[0]){for(var W=0;W<N.length;W++)if(N[W]!=P[W])return N[W-1]}}_checkCollapsed(){this.startContainer===this.endContainer&&this.startOffset===this.endOffset?this.collapsed=!0:this.collapsed=!1}toString(){}}},function(a,i,n){n.d(i,"b",function(){return c}),n.d(i,"a",function(){return d}),n.d(i,"c",function(){return u});const c="0.3",d=["keydown","keyup","keypressed","mouseup","mousedown","mousemove","click","touchend","touchstart","touchmove"],u={BOOK:{OPEN_FAILED:"openFailed"},CONTENTS:{EXPAND:"expand",RESIZE:"resize",SELECTED:"selected",SELECTED_RANGE:"selectedRange",LINK_CLICKED:"linkClicked"},LOCATIONS:{CHANGED:"changed"},MANAGERS:{RESIZE:"resize",RESIZED:"resized",ORIENTATION_CHANGE:"orientationchange",ADDED:"added",SCROLL:"scroll",SCROLLED:"scrolled",REMOVED:"removed"},VIEWS:{AXIS:"axis",WRITING_MODE:"writingMode",LOAD_ERROR:"loaderror",RENDERED:"rendered",RESIZED:"resized",DISPLAYED:"displayed",SHOWN:"shown",HIDDEN:"hidden",MARK_CLICKED:"markClicked"},RENDITION:{STARTED:"started",ATTACHED:"attached",DISPLAYED:"displayed",DISPLAY_ERROR:"displayerror",RENDERED:"rendered",REMOVED:"removed",RESIZED:"resized",ORIENTATION_CHANGE:"orientationchange",LOCATION_CHANGED:"locationChanged",RELOCATED:"relocated",MARK_CLICKED:"markClicked",SELECTED:"selected",LAYOUT:"layout"},LAYOUT:{UPDATED:"updated"},ANNOTATION:{ATTACH:"attach",DETACH:"detach"}}},function(a,i,n){var c=n(0);const d=1,u=3,T=9;class E{constructor(o,l,b){var s;if(this.str="",this.base={},this.spinePos=0,this.range=!1,this.path={},this.start=null,this.end=null,!(this instanceof E))return new E(o,l,b);if(typeof l=="string"?this.base=this.parseComponent(l):typeof l=="object"&&l.steps&&(this.base=l),s=this.checkType(o),s==="string")return this.str=o,Object(c.extend)(this,this.parse(o));if(s==="range")return Object(c.extend)(this,this.fromRange(o,this.base,b));if(s==="node")return Object(c.extend)(this,this.fromNode(o,this.base,b));if(s==="EpubCFI"&&o.path)return o;if(o)throw new TypeError("not a valid argument for EpubCFI");return this}checkType(o){return this.isCfiString(o)?"string":o&&typeof o=="object"&&(Object(c.type)(o)==="Range"||typeof o.startContainer!="undefined")?"range":o&&typeof o=="object"&&typeof o.nodeType!="undefined"?"node":o&&typeof o=="object"&&o instanceof E?"EpubCFI":!1}parse(o){var l={spinePos:-1,range:!1,base:{},path:{},start:null,end:null},b,s,v;return typeof o!="string"?{spinePos:-1}:(o.indexOf("epubcfi(")===0&&o[o.length-1]===")"&&(o=o.slice(8,o.length-1)),b=this.getChapterComponent(o),b?(l.base=this.parseComponent(b),s=this.getPathComponent(o),l.path=this.parseComponent(s),v=this.getRange(o),v&&(l.range=!0,l.start=this.parseComponent(v[0]),l.end=this.parseComponent(v[1])),l.spinePos=l.base.steps[1].index,l):{spinePos:-1})}parseComponent(o){var l={steps:[],terminal:{offset:null,assertion:null}},b=o.split(":"),s=b[0].split("/"),v;return b.length>1&&(v=b[1],l.terminal=this.parseTerminal(v)),s[0]===""&&s.shift(),l.steps=s.map(function(g){return this.parseStep(g)}.bind(this)),l}parseStep(o){var l,b,s,v,g;if(v=o.match(/\[(.*)\]/),v&&v[1]&&(g=v[1]),b=parseInt(o),!isNaN(b))return b%2===0?(l="element",s=b/2-1):(l="text",s=(b-1)/2),{type:l,index:s,id:g||null}}parseTerminal(o){var l,b,s=o.match(/\[(.*)\]/);return s&&s[1]?(l=parseInt(o.split("[")[0]),b=s[1]):l=parseInt(o),Object(c.isNumber)(l)||(l=null),{offset:l,assertion:b}}getChapterComponent(o){var l=o.split("!");return l[0]}getPathComponent(o){var l=o.split("!");if(l[1])return l[1].split(",")[0]}getRange(o){var l=o.split(",");return l.length===3?[l[1],l[2]]:!1}getCharecterOffsetComponent(o){var l=o.split(":");return l[1]||""}joinSteps(o){return o?o.map(function(l){var b="";return l.type==="element"&&(b+=(l.index+1)*2),l.type==="text"&&(b+=1+2*l.index),l.id&&(b+="["+l.id+"]"),b}).join("/"):""}segmentString(o){var l="/";return l+=this.joinSteps(o.steps),o.terminal&&o.terminal.offset!=null&&(l+=":"+o.terminal.offset),o.terminal&&o.terminal.assertion!=null&&(l+="["+o.terminal.assertion+"]"),l}toString(){var o="epubcfi(";return o+=this.segmentString(this.base),o+="!",o+=this.segmentString(this.path),this.range&&this.start&&(o+=",",o+=this.segmentString(this.start)),this.range&&this.end&&(o+=",",o+=this.segmentString(this.end)),o+=")",o}compare(o,l){var b,s,v,g;if(typeof o=="string"&&(o=new E(o)),typeof l=="string"&&(l=new E(l)),o.spinePos>l.spinePos)return 1;if(o.spinePos<l.spinePos)return-1;o.range?(b=o.path.steps.concat(o.start.steps),v=o.start.terminal):(b=o.path.steps,v=o.path.terminal),l.range?(s=l.path.steps.concat(l.start.steps),g=l.start.terminal):(s=l.path.steps,g=l.path.terminal);for(var w=0;w<b.length;w++){if(!b[w])return-1;if(!s[w]||b[w].index>s[w].index)return 1;if(b[w].index<s[w].index)return-1}return b.length<s.length?-1:v.offset>g.offset?1:v.offset<g.offset?-1:0}step(o){var l=o.nodeType===u?"text":"element";return{id:o.id,tagName:o.tagName,type:l,index:this.position(o)}}filteredStep(o,l){var b=this.filter(o,l),s;if(b)return s=b.nodeType===u?"text":"element",{id:b.id,tagName:b.tagName,type:s,index:this.filteredPosition(b,l)}}pathTo(o,l,b){for(var s={steps:[],terminal:{offset:null,assertion:null}},v=o,g;v&&v.parentNode&&v.parentNode.nodeType!=T;)b?g=this.filteredStep(v,b):g=this.step(v),g&&s.steps.unshift(g),v=v.parentNode;return l!=null&&l>=0&&(s.terminal.offset=l,s.steps[s.steps.length-1].type!="text"&&s.steps.push({type:"text",index:0})),s}equalStep(o,l){return!o||!l?!1:o.index===l.index&&o.id===l.id&&o.type===l.type}fromRange(o,l,b){var s={range:!1,base:{},path:{},start:null,end:null},v=o.startContainer,g=o.endContainer,w=o.startOffset,h=o.endOffset,x=!1;if(b&&(x=v.ownerDocument.querySelector("."+b)!=null),typeof l=="string"?(s.base=this.parseComponent(l),s.spinePos=s.base.steps[1].index):typeof l=="object"&&(s.base=l),o.collapsed)x&&(w=this.patchOffset(v,w,b)),s.path=this.pathTo(v,w,b);else{s.range=!0,x&&(w=this.patchOffset(v,w,b)),s.start=this.pathTo(v,w,b),x&&(h=this.patchOffset(g,h,b)),s.end=this.pathTo(g,h,b),s.path={steps:[],terminal:null};var _=s.start.steps.length,f;for(f=0;f<_&&this.equalStep(s.start.steps[f],s.end.steps[f]);f++)f===_-1?s.start.terminal===s.end.terminal&&(s.path.steps.push(s.start.steps[f]),s.range=!1):s.path.steps.push(s.start.steps[f]);s.start.steps=s.start.steps.slice(s.path.steps.length),s.end.steps=s.end.steps.slice(s.path.steps.length)}return s}fromNode(o,l,b){var s={range:!1,base:{},path:{},start:null,end:null};return typeof l=="string"?(s.base=this.parseComponent(l),s.spinePos=s.base.steps[1].index):typeof l=="object"&&(s.base=l),s.path=this.pathTo(o,null,b),s}filter(o,l){var b,s,v,g,w,h=!1;return o.nodeType===u?(h=!0,v=o.parentNode,b=o.parentNode.classList.contains(l)):(h=!1,b=o.classList.contains(l)),b&&h?(g=v.previousSibling,w=v.nextSibling,g&&g.nodeType===u?s=g:w&&w.nodeType===u&&(s=w),s||o):b&&!h?!1:o}patchOffset(o,l,b){if(o.nodeType!=u)throw new Error("Anchor must be a text node");var s=o,v=l;for(o.parentNode.classList.contains(b)&&(s=o.parentNode);s.previousSibling;){if(s.previousSibling.nodeType===d)if(s.previousSibling.classList.contains(b))v+=s.previousSibling.textContent.length;else break;else v+=s.previousSibling.textContent.length;s=s.previousSibling}return v}normalizedMap(o,l,b){var s={},v=-1,g,w=o.length,h,x;for(g=0;g<w;g++)h=o[g].nodeType,h===d&&o[g].classList.contains(b)&&(h=u),g>0&&h===u&&x===u?s[g]=v:l===h&&(v=v+1,s[g]=v),x=h;return s}position(o){var l,b;return o.nodeType===d?(l=o.parentNode.children,l||(l=Object(c.findChildren)(o.parentNode)),b=Array.prototype.indexOf.call(l,o)):(l=this.textNodes(o.parentNode),b=l.indexOf(o)),b}filteredPosition(o,l){var b,s,v;return o.nodeType===d?(b=o.parentNode.children,v=this.normalizedMap(b,d,l)):(b=o.parentNode.childNodes,o.parentNode.classList.contains(l)&&(o=o.parentNode,b=o.parentNode.childNodes),v=this.normalizedMap(b,u,l)),s=Array.prototype.indexOf.call(b,o),v[s]}stepsToXpath(o){var l=[".","*"];return o.forEach(function(b){var s=b.index+1;b.id?l.push("*[position()="+s+" and @id='"+b.id+"']"):b.type==="text"?l.push("text()["+s+"]"):l.push("*["+s+"]")}),l.join("/")}stepsToQuerySelector(o){var l=["html"];return o.forEach(function(b){var s=b.index+1;b.id?l.push("#"+b.id):b.type==="text"||l.push("*:nth-child("+s+")")}),l.join(">")}textNodes(o,l){return Array.prototype.slice.call(o.childNodes).filter(function(b){return b.nodeType===u?!0:!!(l&&b.classList.contains(l))})}walkToNode(o,l,b){var s=l||document,v=s.documentElement,g,w,h=o.length,x;for(x=0;x<h&&(w=o[x],w.type==="element"?w.id?v=s.getElementById(w.id):(g=v.children||Object(c.findChildren)(v),v=g[w.index]):w.type==="text"&&(v=this.textNodes(v,b)[w.index]),!!v);x++);return v}findNode(o,l,b){var s=l||document,v,g;return!b&&typeof s.evaluate!="undefined"?(g=this.stepsToXpath(o),v=s.evaluate(g,s,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue):b?v=this.walkToNode(o,s,b):v=this.walkToNode(o,s),v}fixMiss(o,l,b,s){var v=this.findNode(o.slice(0,-1),b,s),g=v.childNodes,w=this.normalizedMap(g,u,s),h,x,_=o[o.length-1].index;for(let f in w){if(!w.hasOwnProperty(f))return;if(w[f]===_)if(h=g[f],x=h.textContent.length,l>x)l=l-x;else{h.nodeType===d?v=h.childNodes[0]:v=h;break}}return{container:v,offset:l}}toRange(o,l){var b=o||document,s,v,g,w,h,x=this,_,f,k=l?b.querySelector("."+l)!=null:!1,A;if(typeof b.createRange!="undefined"?s=b.createRange():s=new c.RangeObject,x.range?(v=x.start,_=x.path.steps.concat(v.steps),w=this.findNode(_,b,k?l:null),g=x.end,f=x.path.steps.concat(g.steps),h=this.findNode(f,b,k?l:null)):(v=x.path,_=x.path.steps,w=this.findNode(x.path.steps,b,k?l:null)),w)try{v.terminal.offset!=null?s.setStart(w,v.terminal.offset):s.setStart(w,0)}catch(D){A=this.fixMiss(_,v.terminal.offset,b,k?l:null),s.setStart(A.container,A.offset)}else return console.log("No startContainer found for",this.toString()),null;if(h)try{g.terminal.offset!=null?s.setEnd(h,g.terminal.offset):s.setEnd(h,0)}catch(D){A=this.fixMiss(f,x.end.terminal.offset,b,k?l:null),s.setEnd(A.container,A.offset)}return s}isCfiString(o){return typeof o=="string"&&o.indexOf("epubcfi(")===0&&o[o.length-1]===")"}generateChapterComponent(o,l,b){var s=parseInt(l),v=(o+1)*2,g="/"+v+"/";return g+=(s+1)*2,b&&(g+="["+b+"]"),g}collapse(o){this.range&&(this.range=!1,o?(this.path.steps=this.path.steps.concat(this.start.steps),this.path.terminal=this.start.terminal):(this.path.steps=this.path.steps.concat(this.end.steps),this.path.terminal=this.end.terminal))}}i.a=E},function(a,i,n){var c=n(31),d=n(45),u=Function.prototype.apply,T=Function.prototype.call,E=Object.create,y=Object.defineProperty,o=Object.defineProperties,l=Object.prototype.hasOwnProperty,b={configurable:!0,enumerable:!1,writable:!0},s,v,g,w,h,x,_;s=function(f,k){var A;return d(k),l.call(this,"__ee__")?A=this.__ee__:(A=b.value=E(null),y(this,"__ee__",b),b.value=null),A[f]?typeof A[f]=="object"?A[f].push(k):A[f]=[A[f],k]:A[f]=k,this},v=function(f,k){var A,D;return d(k),D=this,s.call(this,f,A=function(){g.call(D,f,A),u.call(k,this,arguments)}),A.__eeOnceListener__=k,this},g=function(f,k){var A,D,C,R;if(d(k),!l.call(this,"__ee__"))return this;if(A=this.__ee__,!A[f])return this;if(D=A[f],typeof D=="object")for(R=0;C=D[R];++R)(C===k||C.__eeOnceListener__===k)&&(D.length===2?A[f]=D[R?0:1]:D.splice(R,1));else(D===k||D.__eeOnceListener__===k)&&delete A[f];return this},w=function(f){var k,A,D,C,R;if(l.call(this,"__ee__")&&(C=this.__ee__[f],!!C))if(typeof C=="object"){for(A=arguments.length,R=new Array(A-1),k=1;k<A;++k)R[k-1]=arguments[k];for(C=C.slice(),k=0;D=C[k];++k)u.call(D,this,R)}else switch(arguments.length){case 1:T.call(C,this);break;case 2:T.call(C,this,arguments[1]);break;case 3:T.call(C,this,arguments[1],arguments[2]);break;default:for(A=arguments.length,R=new Array(A-1),k=1;k<A;++k)R[k-1]=arguments[k];u.call(C,this,R)}},h={on:s,once:v,off:g,emit:w},x={on:c(s),once:c(v),off:c(g),emit:c(w)},_=o({},x),a.exports=i=function(f){return f==null?E(_):o(Object(f),x)},i.methods=h},function(a,i,n){var c=n(7),d=n.n(c);class u{constructor(E){var y,o;y=E.indexOf("://"),y>-1&&(E=new URL(E).pathname),o=this.parse(E),this.path=E,this.isDirectory(E)?this.directory=E:this.directory=o.dir+"/",this.filename=o.base,this.extension=o.ext.slice(1)}parse(E){return d.a.parse(E)}isAbsolute(E){return d.a.isAbsolute(E||this.path)}isDirectory(E){return E.charAt(E.length-1)==="/"}resolve(E){return d.a.resolve(this.directory,E)}relative(E){var y=E&&E.indexOf("://")>-1;return y?E:d.a.relative(this.directory,E)}splitPath(E){return this.splitPathRe.exec(E).slice(1)}toString(){return this.path}}i.a=u},function(a,i,n){var c=n(4),d=n(7),u=n.n(d);class T{constructor(y,o){var l=y.indexOf("://")>-1,b=y,s;if(this.Url=void 0,this.href=y,this.protocol="",this.origin="",this.hash="",this.hash="",this.search="",this.base=o,!l&&o!==!1&&typeof o!="string"&&window&&window.location&&(this.base=window.location.href),l||this.base)try{this.base?this.Url=new URL(y,this.base):this.Url=new URL(y),this.href=this.Url.href,this.protocol=this.Url.protocol,this.origin=this.Url.origin,this.hash=this.Url.hash,this.search=this.Url.search,b=this.Url.pathname+(this.Url.search?this.Url.search:"")}catch(v){this.Url=void 0,this.base&&(s=new c.a(this.base),b=s.resolve(b))}this.Path=new c.a(b),this.directory=this.Path.directory,this.filename=this.Path.filename,this.extension=this.Path.extension}path(){return this.Path}resolve(y){var o=y.indexOf("://")>-1,l;return o?y:(l=u.a.resolve(this.directory,y),this.origin+l)}relative(y){return u.a.relative(y,this.directory)}toString(){return this.href}}i.a=T},function(a,i,n){class c{constructor(u){this.context=u||this,this.hooks=[]}register(){for(var u=0;u<arguments.length;++u)if(typeof arguments[u]=="function")this.hooks.push(arguments[u]);else for(var T=0;T<arguments[u].length;++T)this.hooks.push(arguments[u][T])}deregister(u){let T;for(let E=0;E<this.hooks.length;E++)if(T=this.hooks[E],T===u){this.hooks.splice(E,1);break}}trigger(){var u=arguments,T=this.context,E=[];return this.hooks.forEach(function(y){try{var o=y.apply(T,u)}catch(l){console.log(l)}o&&typeof o.then=="function"&&E.push(o)}),Promise.all(E)}list(){return this.hooks}clear(){return this.hooks=[]}}i.a=c},function(a,i,n){if(!c)var c={cwd:function(){return"/"}};function d(y){if(typeof y!="string")throw new TypeError("Path must be a string. Received "+y)}function u(y,o){for(var l="",b=-1,s=0,v,g=0;g<=y.length;++g){if(g<y.length)v=y.charCodeAt(g);else{if(v===47)break;v=47}if(v===47){if(!(b===g-1||s===1))if(b!==g-1&&s===2){if(l.length<2||l.charCodeAt(l.length-1)!==46||l.charCodeAt(l.length-2)!==46){if(l.length>2){for(var w=l.length-1,h=w;h>=0&&l.charCodeAt(h)!==47;--h);if(h!==w){h===-1?l="":l=l.slice(0,h),b=g,s=0;continue}}else if(l.length===2||l.length===1){l="",b=g,s=0;continue}}o&&(l.length>0?l+="/..":l="..")}else l.length>0?l+="/"+y.slice(b+1,g):l=y.slice(b+1,g);b=g,s=0}else v===46&&s!==-1?++s:s=-1}return l}function T(y,o){var l=o.dir||o.root,b=o.base||(o.name||"")+(o.ext||"");return l?l===o.root?l+b:l+y+b:b}var E={resolve:function(){for(var o="",l=!1,b,s=arguments.length-1;s>=-1&&!l;s--){var v;s>=0?v=arguments[s]:(b===void 0&&(b=c.cwd()),v=b),d(v),v.length!==0&&(o=v+"/"+o,l=v.charCodeAt(0)===47)}return o=u(o,!l),l?o.length>0?"/"+o:"/":o.length>0?o:"."},normalize:function(o){if(d(o),o.length===0)return".";var l=o.charCodeAt(0)===47,b=o.charCodeAt(o.length-1)===47;return o=u(o,!l),o.length===0&&!l&&(o="."),o.length>0&&b&&(o+="/"),l?"/"+o:o},isAbsolute:function(o){return d(o),o.length>0&&o.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var o,l=0;l<arguments.length;++l){var b=arguments[l];d(b),b.length>0&&(o===void 0?o=b:o+="/"+b)}return o===void 0?".":E.normalize(o)},relative:function(o,l){if(d(o),d(l),o===l||(o=E.resolve(o),l=E.resolve(l),o===l))return"";for(var b=1;b<o.length&&o.charCodeAt(b)===47;++b);for(var s=o.length,v=s-b,g=1;g<l.length&&l.charCodeAt(g)===47;++g);for(var w=l.length,h=w-g,x=v<h?v:h,_=-1,f=0;f<=x;++f){if(f===x){if(h>x){if(l.charCodeAt(g+f)===47)return l.slice(g+f+1);if(f===0)return l.slice(g+f)}else v>x&&(o.charCodeAt(b+f)===47?_=f:f===0&&(_=0));break}var k=o.charCodeAt(b+f),A=l.charCodeAt(g+f);if(k!==A)break;k===47&&(_=f)}var D="";for(f=b+_+1;f<=s;++f)(f===s||o.charCodeAt(f)===47)&&(D.length===0?D+="..":D+="/..");return D.length>0?D+l.slice(g+_):(g+=_,l.charCodeAt(g)===47&&++g,l.slice(g))},_makeLong:function(o){return o},dirname:function(o){if(d(o),o.length===0)return".";for(var l=o.charCodeAt(0),b=l===47,s=-1,v=!0,g=o.length-1;g>=1;--g)if(l=o.charCodeAt(g),l===47){if(!v){s=g;break}}else v=!1;return s===-1?b?"/":".":b&&s===1?"//":o.slice(0,s)},basename:function(o,l){if(l!==void 0&&typeof l!="string")throw new TypeError('"ext" argument must be a string');d(o);var b=0,s=-1,v=!0,g;if(l!==void 0&&l.length>0&&l.length<=o.length){if(l.length===o.length&&l===o)return"";var w=l.length-1,h=-1;for(g=o.length-1;g>=0;--g){var x=o.charCodeAt(g);if(x===47){if(!v){b=g+1;break}}else h===-1&&(v=!1,h=g+1),w>=0&&(x===l.charCodeAt(w)?--w===-1&&(s=g):(w=-1,s=h))}return b===s?s=h:s===-1&&(s=o.length),o.slice(b,s)}else{for(g=o.length-1;g>=0;--g)if(o.charCodeAt(g)===47){if(!v){b=g+1;break}}else s===-1&&(v=!1,s=g+1);return s===-1?"":o.slice(b,s)}},extname:function(o){d(o);for(var l=-1,b=0,s=-1,v=!0,g=0,w=o.length-1;w>=0;--w){var h=o.charCodeAt(w);if(h===47){if(!v){b=w+1;break}continue}s===-1&&(v=!1,s=w+1),h===46?l===-1?l=w:g!==1&&(g=1):l!==-1&&(g=-1)}return l===-1||s===-1||g===0||g===1&&l===s-1&&l===b+1?"":o.slice(l,s)},format:function(o){if(o===null||typeof o!="object")throw new TypeError('Parameter "pathObject" must be an object, not '+typeof o);return T("/",o)},parse:function(o){d(o);var l={root:"",dir:"",base:"",ext:"",name:""};if(o.length===0)return l;var b=o.charCodeAt(0),s=b===47,v;s?(l.root="/",v=1):v=0;for(var g=-1,w=0,h=-1,x=!0,_=o.length-1,f=0;_>=v;--_){if(b=o.charCodeAt(_),b===47){if(!x){w=_+1;break}continue}h===-1&&(x=!1,h=_+1),b===46?g===-1?g=_:f!==1&&(f=1):g!==-1&&(f=-1)}return g===-1||h===-1||f===0||f===1&&g===h-1&&g===w+1?h!==-1&&(w===0&&s?l.base=l.name=o.slice(1,h):l.base=l.name=o.slice(w,h)):(w===0&&s?(l.name=o.slice(1,g),l.base=o.slice(1,h)):(l.name=o.slice(w,g),l.base=o.slice(w,h)),l.ext=o.slice(g,h)),w>0?l.dir=o.slice(0,w-1):s&&(l.dir="/"),l},sep:"/",delimiter:":",posix:null};a.exports=E},function(a,i,n){n.d(i,"a",function(){return u}),n.d(i,"b",function(){return T}),n.d(i,"d",function(){return E}),n.d(i,"c",function(){return y}),n.d(i,"e",function(){return o});var c=n(0),d=n(5);n(4);function u(l,b){var s,v,g=b.url,w=g.indexOf("://")>-1;l&&(v=Object(c.qs)(l,"head"),s=Object(c.qs)(v,"base"),s||(s=l.createElement("base"),v.insertBefore(s,v.firstChild)),!w&&window&&window.location&&(g=window.location.origin+g),s.setAttribute("href",g))}function T(l,b){var s,v,g=b.canonical;l&&(s=Object(c.qs)(l,"head"),v=Object(c.qs)(s,"link[rel='canonical']"),v?v.setAttribute("href",g):(v=l.createElement("link"),v.setAttribute("rel","canonical"),v.setAttribute("href",g),s.appendChild(v)))}function E(l,b){var s,v,g=b.idref;l&&(s=Object(c.qs)(l,"head"),v=Object(c.qs)(s,"link[property='dc.identifier']"),v?v.setAttribute("content",g):(v=l.createElement("meta"),v.setAttribute("name","dc.identifier"),v.setAttribute("content",g),s.appendChild(v)))}function y(l,b){var s=l.querySelectorAll("a[href]");if(s.length)for(var v=Object(c.qs)(l.ownerDocument,"base"),g=v?v.getAttribute("href"):void 0,w=function(x){var _=x.getAttribute("href");if(_.indexOf("mailto:")!==0){var f=_.indexOf("://")>-1;if(f)x.setAttribute("target","_blank");else{var k;try{k=new d.a(_,g)}catch(A){}x.onclick=function(){return k&&k.hash?b(k.Path.path+k.hash):b(k?k.Path.path:_),!1}}}}.bind(this),h=0;h<s.length;h++)w(s[h])}function o(l,b,s){return b.forEach(function(v,g){v&&s[g]&&(v=v.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),l=l.replace(new RegExp(v,"g"),s[g]))}),l}},function(a,i,n){var c=n(0);class d{constructor(T){this._q=[],this.context=T,this.tick=c.requestAnimationFrame,this.running=!1,this.paused=!1}enqueue(){var T,E,y,o=[].shift.call(arguments),l=arguments;if(!o)throw new Error("No Task Provided");return typeof o=="function"?(T=new c.defer,E=T.promise,y={task:o,args:l,deferred:T,promise:E}):y={promise:o},this._q.push(y),this.paused==!1&&!this.running&&this.run(),y.promise}dequeue(){var T,E,y;if(this._q.length&&!this.paused){if(T=this._q.shift(),E=T.task,E)return y=E.apply(this.context,T.args),y&&typeof y.then=="function"?y.then(function(){T.deferred.resolve.apply(this.context,arguments)}.bind(this),function(){T.deferred.reject.apply(this.context,arguments)}.bind(this)):(T.deferred.resolve.apply(this.context,y),T.promise);if(T.promise)return T.promise}else return T=new c.defer,T.deferred.resolve(),T.promise}dump(){for(;this._q.length;)this.dequeue()}run(){return this.running||(this.running=!0,this.defered=new c.defer),this.tick.call(window,()=>{this._q.length?this.dequeue().then(function(){this.run()}.bind(this)):(this.defered.resolve(),this.running=void 0)}),this.paused==!0&&(this.paused=!1),this.defered.promise}flush(){if(this.running)return this.running;if(this._q.length)return this.running=this.dequeue().then(function(){return this.running=void 0,this.flush()}.bind(this)),this.running}clear(){this._q=[]}length(){return this._q.length}pause(){this.paused=!0}stop(){this._q=[],this.running=!1,this.paused=!0}}i.a=d},function(a,i,n){var c=n(3),d=n.n(c),u=n(0);function T(){var _="reverse",f=E();return document.body.appendChild(f),f.scrollLeft>0?_="default":typeof Element!="undefined"&&Element.prototype.scrollIntoView?(f.children[0].children[1].scrollIntoView(),f.scrollLeft<0&&(_="negative")):(f.scrollLeft=1,f.scrollLeft===0&&(_="negative")),document.body.removeChild(f),_}function E(){var _=document.createElement("div");_.dir="rtl",_.style.position="fixed",_.style.width="1px",_.style.height="1px",_.style.top="0px",_.style.left="0px",_.style.overflow="hidden";var f=document.createElement("div");f.style.width="2px";var k=document.createElement("span");k.style.width="1px",k.style.display="inline-block";var A=document.createElement("span");return A.style.width="1px",A.style.display="inline-block",f.appendChild(k),f.appendChild(A),_.appendChild(f),_}var y=n(11),o=n(9),l=n(28),b=n.n(l);class s{constructor(f){this.settings=f||{},this.id="epubjs-container-"+Object(u.uuid)(),this.container=this.create(this.settings),this.settings.hidden&&(this.wrapper=this.wrap(this.container))}create(f){let k=f.height,A=f.width,D=f.overflow||!1,C=f.axis||"vertical",R=f.direction;Object(u.extend)(this.settings,f),f.height&&Object(u.isNumber)(f.height)&&(k=f.height+"px"),f.width&&Object(u.isNumber)(f.width)&&(A=f.width+"px");let I=document.createElement("div");return I.id=this.id,I.classList.add("epub-container"),I.style.wordSpacing="0",I.style.lineHeight="0",I.style.verticalAlign="top",I.style.position="relative",C==="horizontal"&&(I.style.display="flex",I.style.flexDirection="row",I.style.flexWrap="nowrap"),A&&(I.style.width=A),k&&(I.style.height=k),D&&(D==="scroll"&&C==="vertical"?(I.style["overflow-y"]=D,I.style["overflow-x"]="hidden"):D==="scroll"&&C==="horizontal"?(I.style["overflow-y"]="hidden",I.style["overflow-x"]=D):I.style.overflow=D),R&&(I.dir=R,I.style.direction=R),R&&this.settings.fullsize&&(document.body.style.direction=R),I}wrap(f){var k=document.createElement("div");return k.style.visibility="hidden",k.style.overflow="hidden",k.style.width="0",k.style.height="0",k.appendChild(f),k}getElement(f){var k;if(Object(u.isElement)(f)?k=f:typeof f=="string"&&(k=document.getElementById(f)),!k)throw new Error("Not an Element");return k}attachTo(f){var k=this.getElement(f),A;if(k)return this.settings.hidden?A=this.wrapper:A=this.container,k.appendChild(A),this.element=k,k}getContainer(){return this.container}onResize(f){(!Object(u.isNumber)(this.settings.width)||!Object(u.isNumber)(this.settings.height))&&(this.resizeFunc=b()(f,50),window.addEventListener("resize",this.resizeFunc,!1))}onOrientationChange(f){this.orientationChangeFunc=f,window.addEventListener("orientationchange",this.orientationChangeFunc,!1)}size(f,k){var A;let D=f||this.settings.width,C=k||this.settings.height;f===null?(A=this.element.getBoundingClientRect(),A.width&&(f=Math.floor(A.width),this.container.style.width=f+"px")):Object(u.isNumber)(f)?this.container.style.width=f+"px":this.container.style.width=f,k===null?(A=A||this.element.getBoundingClientRect(),A.height&&(k=A.height,this.container.style.height=k+"px")):Object(u.isNumber)(k)?this.container.style.height=k+"px":this.container.style.height=k,Object(u.isNumber)(f)||(f=this.container.clientWidth),Object(u.isNumber)(k)||(k=this.container.clientHeight),this.containerStyles=window.getComputedStyle(this.container),this.containerPadding={left:parseFloat(this.containerStyles["padding-left"])||0,right:parseFloat(this.containerStyles["padding-right"])||0,top:parseFloat(this.containerStyles["padding-top"])||0,bottom:parseFloat(this.containerStyles["padding-bottom"])||0};let R=Object(u.windowBounds)(),I=window.getComputedStyle(document.body),B={left:parseFloat(I["padding-left"])||0,right:parseFloat(I["padding-right"])||0,top:parseFloat(I["padding-top"])||0,bottom:parseFloat(I["padding-bottom"])||0};return D||(f=R.width-B.left-B.right),(this.settings.fullsize&&!C||!C)&&(k=R.height-B.top-B.bottom),{width:f-this.containerPadding.left-this.containerPadding.right,height:k-this.containerPadding.top-this.containerPadding.bottom}}bounds(){let f;return this.container.style.overflow!=="visible"&&(f=this.container&&this.container.getBoundingClientRect()),!f||!f.width||!f.height?Object(u.windowBounds)():f}getSheet(){var f=document.createElement("style");return f.appendChild(document.createTextNode("")),document.head.appendChild(f),f.sheet}addStyleRules(f,k){var A="#"+this.id+" ",D="";this.sheet||(this.sheet=this.getSheet()),k.forEach(function(C){for(var R in C)C.hasOwnProperty(R)&&(D+=R+":"+C[R]+";")}),this.sheet.insertRule(A+f+" {"+D+"}",0)}axis(f){f==="horizontal"?(this.container.style.display="flex",this.container.style.flexDirection="row",this.container.style.flexWrap="nowrap"):this.container.style.display="block",this.settings.axis=f}direction(f){this.container&&(this.container.dir=f,this.container.style.direction=f),this.settings.fullsize&&(document.body.style.direction=f),this.settings.dir=f}overflow(f){this.container&&(f==="scroll"&&this.settings.axis==="vertical"?(this.container.style["overflow-y"]=f,this.container.style["overflow-x"]="hidden"):f==="scroll"&&this.settings.axis==="horizontal"?(this.container.style["overflow-y"]="hidden",this.container.style["overflow-x"]=f):this.container.style.overflow=f),this.settings.overflow=f}destroy(){this.element&&(this.settings.hidden?this.wrapper:this.container,this.element.contains(this.container)&&this.element.removeChild(this.container),window.removeEventListener("resize",this.resizeFunc),window.removeEventListener("orientationChange",this.orientationChangeFunc))}}var v=s;class g{constructor(f){this.container=f,this._views=[],this.length=0,this.hidden=!1}all(){return this._views}first(){return this._views[0]}last(){return this._views[this._views.length-1]}indexOf(f){return this._views.indexOf(f)}slice(){return this._views.slice.apply(this._views,arguments)}get(f){return this._views[f]}append(f){return this._views.push(f),this.container&&this.container.appendChild(f.element),this.length++,f}prepend(f){return this._views.unshift(f),this.container&&this.container.insertBefore(f.element,this.container.firstChild),this.length++,f}insert(f,k){return this._views.splice(k,0,f),this.container&&(k<this.container.children.length?this.container.insertBefore(f.element,this.container.children[k]):this.container.appendChild(f.element)),this.length++,f}remove(f){var k=this._views.indexOf(f);k>-1&&this._views.splice(k,1),this.destroy(f),this.length--}destroy(f){f.displayed&&f.destroy(),this.container&&this.container.removeChild(f.element),f=null}forEach(){return this._views.forEach.apply(this._views,arguments)}clear(){var f,k=this.length;if(this.length){for(var A=0;A<k;A++)f=this._views[A],this.destroy(f);this._views=[],this.length=0}}find(f){for(var k,A=this.length,D=0;D<A;D++)if(k=this._views[D],k.displayed&&k.section.index==f.index)return k}displayed(){for(var f=[],k,A=this.length,D=0;D<A;D++)k=this._views[D],k.displayed&&f.push(k);return f}show(){for(var f,k=this.length,A=0;A<k;A++)f=this._views[A],f.displayed&&f.show();this.hidden=!1}hide(){for(var f,k=this.length,A=0;A<k;A++)f=this._views[A],f.displayed&&f.hide();this.hidden=!0}}var w=g,h=n(1);class x{constructor(f){this.name="default",this.optsSettings=f.settings,this.View=f.view,this.request=f.request,this.renditionQueue=f.queue,this.q=new o.a(this),this.settings=Object(u.extend)(this.settings||{},{infinite:!0,hidden:!1,width:void 0,height:void 0,axis:void 0,writingMode:void 0,flow:"scrolled",ignoreClass:"",fullsize:void 0,allowScriptedContent:!1,allowPopups:!1}),Object(u.extend)(this.settings,f.settings||{}),this.viewSettings={ignoreClass:this.settings.ignoreClass,axis:this.settings.axis,flow:this.settings.flow,layout:this.layout,method:this.settings.method,width:0,height:0,forceEvenPages:!0,allowScriptedContent:this.settings.allowScriptedContent,allowPopups:this.settings.allowPopups},this.rendered=!1}render(f,k){let A=f.tagName;typeof this.settings.fullsize=="undefined"&&A&&(A.toLowerCase()=="body"||A.toLowerCase()=="html")&&(this.settings.fullsize=!0),this.settings.fullsize&&(this.settings.overflow="visible",this.overflow=this.settings.overflow),this.settings.size=k,this.settings.rtlScrollType=T(),this.stage=new v({width:k.width,height:k.height,overflow:this.overflow,hidden:this.settings.hidden,axis:this.settings.axis,fullsize:this.settings.fullsize,direction:this.settings.direction}),this.stage.attachTo(f),this.container=this.stage.getContainer(),this.views=new w(this.container),this._bounds=this.bounds(),this._stageSize=this.stage.size(),this.viewSettings.width=this._stageSize.width,this.viewSettings.height=this._stageSize.height,this.stage.onResize(this.onResized.bind(this)),this.stage.onOrientationChange(this.onOrientationChange.bind(this)),this.addEventListeners(),this.layout&&this.updateLayout(),this.rendered=!0}addEventListeners(){var f;window.addEventListener("unload",function(k){this.destroy()}.bind(this)),this.settings.fullsize?f=window:f=this.container,this._onScroll=this.onScroll.bind(this),f.addEventListener("scroll",this._onScroll)}removeEventListeners(){var f;this.settings.fullsize?f=window:f=this.container,f.removeEventListener("scroll",this._onScroll),this._onScroll=void 0}destroy(){clearTimeout(this.orientationTimeout),clearTimeout(this.resizeTimeout),clearTimeout(this.afterScrolled),this.clear(),this.removeEventListeners(),this.stage.destroy(),this.rendered=!1}onOrientationChange(f){let{orientation:k}=window;this.optsSettings.resizeOnOrientationChange&&this.resize(),clearTimeout(this.orientationTimeout),this.orientationTimeout=setTimeout(function(){this.orientationTimeout=void 0,this.optsSettings.resizeOnOrientationChange&&this.resize(),this.emit(h.c.MANAGERS.ORIENTATION_CHANGE,k)}.bind(this),500)}onResized(f){this.resize()}resize(f,k,A){let D=this.stage.size(f,k);if(this.winBounds=Object(u.windowBounds)(),this.orientationTimeout&&this.winBounds.width===this.winBounds.height){this._stageSize=void 0;return}this._stageSize&&this._stageSize.width===D.width&&this._stageSize.height===D.height||(this._stageSize=D,this._bounds=this.bounds(),this.clear(),this.viewSettings.width=this._stageSize.width,this.viewSettings.height=this._stageSize.height,this.updateLayout(),this.emit(h.c.MANAGERS.RESIZED,{width:this._stageSize.width,height:this._stageSize.height},A))}createView(f,k){return new this.View(f,Object(u.extend)(this.viewSettings,{forceRight:k}))}handleNextPrePaginated(f,k,A){let D;if(this.layout.name==="pre-paginated"&&this.layout.divisor>1){if(f||k.index===0)return;if(D=k.next(),D&&!D.properties.includes("page-spread-left"))return A.call(this,D)}}display(f,k){var A=new u.defer,D=A.promise;(k===f.href||Object(u.isNumber)(k))&&(k=void 0);var C=this.views.find(f);if(C&&f&&this.layout.name!=="pre-paginated"){let I=C.offset();if(this.settings.direction==="ltr")this.scrollTo(I.left,I.top,!0);else{let B=C.width();this.scrollTo(I.left+B,I.top,!0)}if(k){let B=C.locationOf(k),O=C.width();this.moveTo(B,O)}return A.resolve(),D}this.clear();let R=!1;return this.layout.name==="pre-paginated"&&this.layout.divisor===2&&f.properties.includes("page-spread-right")&&(R=!0),this.add(f,R).then(function(I){if(k){let B=I.locationOf(k),O=I.width();this.moveTo(B,O)}}.bind(this),I=>{A.reject(I)}).then(function(){return this.handleNextPrePaginated(R,f,this.add)}.bind(this)).then(function(){this.views.show(),A.resolve()}.bind(this)),D}afterDisplayed(f){this.emit(h.c.MANAGERS.ADDED,f)}afterResized(f){this.emit(h.c.MANAGERS.RESIZE,f.section)}moveTo(f,k){var A=0,D=0;this.isPaginated?(A=Math.floor(f.left/this.layout.delta)*this.layout.delta,A+this.layout.delta>this.container.scrollWidth&&(A=this.container.scrollWidth-this.layout.delta),D=Math.floor(f.top/this.layout.delta)*this.layout.delta,D+this.layout.delta>this.container.scrollHeight&&(D=this.container.scrollHeight-this.layout.delta)):D=f.top,this.settings.direction==="rtl"&&(A=A+this.layout.delta,A=A-k),this.scrollTo(A,D,!0)}add(f,k){var A=this.createView(f,k);return this.views.append(A),A.onDisplayed=this.afterDisplayed.bind(this),A.onResize=this.afterResized.bind(this),A.on(h.c.VIEWS.AXIS,D=>{this.updateAxis(D)}),A.on(h.c.VIEWS.WRITING_MODE,D=>{this.updateWritingMode(D)}),A.display(this.request)}append(f,k){var A=this.createView(f,k);return this.views.append(A),A.onDisplayed=this.afterDisplayed.bind(this),A.onResize=this.afterResized.bind(this),A.on(h.c.VIEWS.AXIS,D=>{this.updateAxis(D)}),A.on(h.c.VIEWS.WRITING_MODE,D=>{this.updateWritingMode(D)}),A.display(this.request)}prepend(f,k){var A=this.createView(f,k);return A.on(h.c.VIEWS.RESIZED,D=>{this.counter(D)}),this.views.prepend(A),A.onDisplayed=this.afterDisplayed.bind(this),A.onResize=this.afterResized.bind(this),A.on(h.c.VIEWS.AXIS,D=>{this.updateAxis(D)}),A.on(h.c.VIEWS.WRITING_MODE,D=>{this.updateWritingMode(D)}),A.display(this.request)}counter(f){this.settings.axis==="vertical"?this.scrollBy(0,f.heightDelta,!0):this.scrollBy(f.widthDelta,0,!0)}next(){var f,k;let A=this.settings.direction;if(this.views.length&&(this.isPaginated&&this.settings.axis==="horizontal"&&(!A||A==="ltr")?(this.scrollLeft=this.container.scrollLeft,k=this.container.scrollLeft+this.container.offsetWidth+this.layout.delta,k<=this.container.scrollWidth?this.scrollBy(this.layout.delta,0,!0):f=this.views.last().section.next()):this.isPaginated&&this.settings.axis==="horizontal"&&A==="rtl"?(this.scrollLeft=this.container.scrollLeft,this.settings.rtlScrollType==="default"?(k=this.container.scrollLeft,k>0?this.scrollBy(this.layout.delta,0,!0):f=this.views.last().section.next()):(k=this.container.scrollLeft+this.layout.delta*-1,k>this.container.scrollWidth*-1?this.scrollBy(this.layout.delta,0,!0):f=this.views.last().section.next())):this.isPaginated&&this.settings.axis==="vertical"?(this.scrollTop=this.container.scrollTop,this.container.scrollTop+this.container.offsetHeight<this.container.scrollHeight?this.scrollBy(0,this.layout.height,!0):f=this.views.last().section.next()):f=this.views.last().section.next(),f)){this.clear(),this.updateLayout();let D=!1;return this.layout.name==="pre-paginated"&&this.layout.divisor===2&&f.properties.includes("page-spread-right")&&(D=!0),this.append(f,D).then(function(){return this.handleNextPrePaginated(D,f,this.append)}.bind(this),C=>C).then(function(){!this.isPaginated&&this.settings.axis==="horizontal"&&this.settings.direction==="rtl"&&this.settings.rtlScrollType==="default"&&this.scrollTo(this.container.scrollWidth,0,!0),this.views.show()}.bind(this))}}prev(){var f,k;let A=this.settings.direction;if(this.views.length&&(this.isPaginated&&this.settings.axis==="horizontal"&&(!A||A==="ltr")?(this.scrollLeft=this.container.scrollLeft,k=this.container.scrollLeft,k>0?this.scrollBy(-this.layout.delta,0,!0):f=this.views.first().section.prev()):this.isPaginated&&this.settings.axis==="horizontal"&&A==="rtl"?(this.scrollLeft=this.container.scrollLeft,this.settings.rtlScrollType==="default"?(k=this.container.scrollLeft+this.container.offsetWidth,k<this.container.scrollWidth?this.scrollBy(-this.layout.delta,0,!0):f=this.views.first().section.prev()):(k=this.container.scrollLeft,k<0?this.scrollBy(-this.layout.delta,0,!0):f=this.views.first().section.prev())):this.isPaginated&&this.settings.axis==="vertical"?(this.scrollTop=this.container.scrollTop,this.container.scrollTop>0?this.scrollBy(0,-this.layout.height,!0):f=this.views.first().section.prev()):f=this.views.first().section.prev(),f)){this.clear(),this.updateLayout();let D=!1;return this.layout.name==="pre-paginated"&&this.layout.divisor===2&&typeof f.prev()!="object"&&(D=!0),this.prepend(f,D).then(function(){var C;if(this.layout.name==="pre-paginated"&&this.layout.divisor>1&&(C=f.prev(),C))return this.prepend(C)}.bind(this),C=>C).then(function(){this.isPaginated&&this.settings.axis==="horizontal"&&(this.settings.direction==="rtl"?this.settings.rtlScrollType==="default"?this.scrollTo(0,0,!0):this.scrollTo(this.container.scrollWidth*-1+this.layout.delta,0,!0):this.scrollTo(this.container.scrollWidth-this.layout.delta,0,!0)),this.views.show()}.bind(this))}}current(){var f=this.visible();return f.length?f[f.length-1]:null}clear(){this.views&&(this.views.hide(),this.scrollTo(0,0,!0),this.views.clear())}currentLocation(){return this.updateLayout(),this.isPaginated&&this.settings.axis==="horizontal"?this.location=this.paginatedLocation():this.location=this.scrolledLocation(),this.location}scrolledLocation(){let f=this.visible(),k=this.container.getBoundingClientRect(),A=k.height<window.innerHeight?k.height:window.innerHeight,D=k.width<window.innerWidth?k.width:window.innerWidth,C=this.settings.axis==="vertical";this.settings.direction;let R=0,I=0;return this.settings.fullsize&&(R=C?window.scrollY:window.scrollX),f.map(O=>{let{index:H,href:tt}=O.section,Y=O.position(),at=O.width(),rt=O.height(),ut,Z,et,gt;C?(ut=R+k.top-Y.top+I,Z=ut+A-I,gt=this.layout.count(rt,A).pages,et=A):(ut=R+k.left-Y.left+I,Z=ut+D-I,gt=this.layout.count(at,D).pages,et=D);let pt=Math.ceil(ut/et),dt=[],Et=Math.ceil(Z/et);if(this.settings.direction==="rtl"&&!C){let Rt=pt;pt=gt-Et,Et=gt-Rt}dt=[];for(var St=pt;St<=Et;St++){let Rt=St+1;dt.push(Rt)}let Ct=this.mapping.page(O.contents,O.section.cfiBase,ut,Z);return{index:H,href:tt,pages:dt,totalPages:gt,mapping:Ct}})}paginatedLocation(){let f=this.visible(),k=this.container.getBoundingClientRect(),A=0,D=0;return this.settings.fullsize&&(A=window.scrollX),f.map(R=>{let{index:I,href:B}=R.section,O,H=R.position(),tt=R.width(),Y,at,rt;this.settings.direction==="rtl"?(O=k.right-A,rt=Math.min(Math.abs(O-H.left),this.layout.width)-D,at=H.width-(H.right-O)-D,Y=at-rt):(O=k.left+A,rt=Math.min(H.right-O,this.layout.width)-D,Y=O-H.left+D,at=Y+rt),D+=rt;let ut=this.mapping.page(R.contents,R.section.cfiBase,Y,at),Z=this.layout.count(tt).pages,et=Math.floor(Y/this.layout.pageWidth),gt=[],pt=Math.floor(at/this.layout.pageWidth);if(et<0&&(et=0,pt=pt+1),this.settings.direction==="rtl"){let Et=et;et=Z-pt,pt=Z-Et}for(var dt=et+1;dt<=pt;dt++){let Et=dt;gt.push(Et)}return{index:I,href:B,pages:gt,totalPages:Z,mapping:ut}})}isVisible(f,k,A,D){var C=f.position(),R=D||this.bounds();return this.settings.axis==="horizontal"&&C.right>R.left-k&&C.left<R.right+A?!0:this.settings.axis==="vertical"&&C.bottom>R.top-k&&C.top<R.bottom+A}visible(){for(var f=this.bounds(),k=this.views.displayed(),A=k.length,D=[],C,R,I=0;I<A;I++)R=k[I],C=this.isVisible(R,0,0,f),C===!0&&D.push(R);return D}scrollBy(f,k,A){let D=this.settings.direction==="rtl"?-1:1;A&&(this.ignore=!0),this.settings.fullsize?window.scrollBy(f*D,k*D):(f&&(this.container.scrollLeft+=f*D),k&&(this.container.scrollTop+=k)),this.scrolled=!0}scrollTo(f,k,A){A&&(this.ignore=!0),this.settings.fullsize?window.scrollTo(f,k):(this.container.scrollLeft=f,this.container.scrollTop=k),this.scrolled=!0}onScroll(){let f,k;this.settings.fullsize?(f=window.scrollY,k=window.scrollX):(f=this.container.scrollTop,k=this.container.scrollLeft),this.scrollTop=f,this.scrollLeft=k,this.ignore?this.ignore=!1:(this.emit(h.c.MANAGERS.SCROLL,{top:f,left:k}),clearTimeout(this.afterScrolled),this.afterScrolled=setTimeout(function(){this.emit(h.c.MANAGERS.SCROLLED,{top:this.scrollTop,left:this.scrollLeft})}.bind(this),20))}bounds(){var f;return f=this.stage.bounds(),f}applyLayout(f){this.layout=f,this.updateLayout(),this.views&&this.views.length>0&&this.layout.name==="pre-paginated"&&this.display(this.views.first().section)}updateLayout(){this.stage&&(this._stageSize=this.stage.size(),this.isPaginated?(this.layout.calculate(this._stageSize.width,this._stageSize.height,this.settings.gap),this.settings.offset=this.layout.delta/this.layout.divisor):this.layout.calculate(this._stageSize.width,this._stageSize.height),this.viewSettings.width=this.layout.width,this.viewSettings.height=this.layout.height,this.setLayout(this.layout))}setLayout(f){this.viewSettings.layout=f,this.mapping=new y.a(f.props,this.settings.direction,this.settings.axis),this.views&&this.views.forEach(function(k){k&&k.setLayout(f)})}updateWritingMode(f){this.writingMode=f}updateAxis(f,k){!k&&f===this.settings.axis||(this.settings.axis=f,this.stage&&this.stage.axis(f),this.viewSettings.axis=f,this.mapping&&(this.mapping=new y.a(this.layout.props,this.settings.direction,this.settings.axis)),this.layout&&(f==="vertical"?this.layout.spread("none"):this.layout.spread(this.layout.settings.spread)))}updateFlow(f,k="auto"){let A=f==="paginated"||f==="auto";this.isPaginated=A,f==="scrolled-doc"||f==="scrolled-continuous"||f==="scrolled"?this.updateAxis("vertical"):this.updateAxis("horizontal"),this.viewSettings.flow=f,this.settings.overflow?this.overflow=this.settings.overflow:this.overflow=A?"hidden":k,this.stage&&this.stage.overflow(this.overflow),this.updateLayout()}getContents(){var f=[];return this.views&&this.views.forEach(function(k){const A=k&&k.contents;A&&f.push(A)}),f}direction(f="ltr"){this.settings.direction=f,this.stage&&this.stage.direction(f),this.viewSettings.direction=f,this.updateLayout()}isRendered(){return this.rendered}}d()(x.prototype),i.a=x},function(a,i,n){var c=n(2),d=n(0);class u{constructor(E,y,o,l=!1){this.layout=E,this.horizontal=o==="horizontal",this.direction=y||"ltr",this._dev=l}section(E){var y=this.findRanges(E),o=this.rangeListToCfiList(E.section.cfiBase,y);return o}page(E,y,o,l){var b=E&&E.document?E.document.body:!1,s;if(b){if(s=this.rangePairToCfiPair(y,{start:this.findStart(b,o,l),end:this.findEnd(b,o,l)}),this._dev===!0){let v=E.document,g=new c.a(s.start).toRange(v),w=new c.a(s.end).toRange(v),h=v.defaultView.getSelection(),x=v.createRange();h.removeAllRanges(),x.setStart(g.startContainer,g.startOffset),x.setEnd(w.endContainer,w.endOffset),h.addRange(x)}return s}}walk(E,y){if(!(E&&E.nodeType===Node.TEXT_NODE)){var o={acceptNode:function(g){return g.data.trim().length>0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}},l=o.acceptNode;l.acceptNode=o.acceptNode;for(var b=document.createTreeWalker(E,NodeFilter.SHOW_TEXT,l,!1),s,v;(s=b.nextNode())&&(v=y(s),!v););return v}}findRanges(E){for(var y=[],o=E.contents.scrollWidth(),l=Math.ceil(o/this.layout.spreadWidth),b=l*this.layout.divisor,s=this.layout.columnWidth,v=this.layout.gap,g,w,h=0;h<b.pages;h++)g=(s+v)*h,w=s*(h+1)+v*h,y.push({start:this.findStart(E.document.body,g,w),end:this.findEnd(E.document.body,g,w)});return y}findStart(E,y,o){for(var l=[E],b,s,v=E;l.length;)if(b=l.shift(),s=this.walk(b,g=>{var w,h,x,_,f;if(f=Object(d.nodeBounds)(g),this.horizontal&&this.direction==="ltr"){if(w=this.horizontal?f.left:f.top,h=this.horizontal?f.right:f.bottom,w>=y&&w<=o)return g;if(h>y)return g;v=g,l.push(g)}else if(this.horizontal&&this.direction==="rtl"){if(w=f.left,h=f.right,h<=o&&h>=y)return g;if(w<o)return g;v=g,l.push(g)}else{if(x=f.top,_=f.bottom,x>=y&&x<=o)return g;if(_>y)return g;v=g,l.push(g)}}),s)return this.findTextStartRange(s,y,o);return this.findTextStartRange(v,y,o)}findEnd(E,y,o){for(var l=[E],b,s=E,v;l.length;)if(b=l.shift(),v=this.walk(b,g=>{var w,h,x,_,f;if(f=Object(d.nodeBounds)(g),this.horizontal&&this.direction==="ltr"){if(w=Math.round(f.left),h=Math.round(f.right),w>o&&s)return s;if(h>o)return g;s=g,l.push(g)}else if(this.horizontal&&this.direction==="rtl"){if(w=Math.round(this.horizontal?f.left:f.top),h=Math.round(this.horizontal?f.right:f.bottom),h<y&&s)return s;if(w<y)return g;s=g,l.push(g)}else{if(x=Math.round(f.top),_=Math.round(f.bottom),x>o&&s)return s;if(_>o)return g;s=g,l.push(g)}}),v)return this.findTextEndRange(v,y,o);return this.findTextEndRange(s,y,o)}findTextStartRange(E,y,o){for(var l=this.splitTextNodeIntoRanges(E),b,s,v,g,w,h=0;h<l.length;h++)if(b=l[h],s=b.getBoundingClientRect(),this.horizontal&&this.direction==="ltr"){if(v=s.left,v>=y)return b}else if(this.horizontal&&this.direction==="rtl"){if(w=s.right,w<=o)return b}else if(g=s.top,g>=y)return b;return l[0]}findTextEndRange(E,y,o){for(var l=this.splitTextNodeIntoRanges(E),b,s,v,g,w,h,x,_=0;_<l.length;_++){if(s=l[_],v=s.getBoundingClientRect(),this.horizontal&&this.direction==="ltr"){if(g=v.left,w=v.right,g>o&&b)return b;if(w>o)return s}else if(this.horizontal&&this.direction==="rtl"){if(g=v.left,w=v.right,w<y&&b)return b;if(g<y)return s}else{if(h=v.top,x=v.bottom,h>o&&b)return b;if(x>o)return s}b=s}return l[l.length-1]}splitTextNodeIntoRanges(E,y){var o=[],l=E.textContent||"",b=l.trim(),s,v=E.ownerDocument,g=y||" ",w=b.indexOf(g);if(w===-1||E.nodeType!=Node.TEXT_NODE)return s=v.createRange(),s.selectNodeContents(E),[s];for(s=v.createRange(),s.setStart(E,0),s.setEnd(E,w),o.push(s),s=!1;w!=-1;)w=b.indexOf(g,w+1),w>0&&(s&&(s.setEnd(E,w),o.push(s)),s=v.createRange(),s.setStart(E,w+1));return s&&(s.setEnd(E,b.length),o.push(s)),o}rangePairToCfiPair(E,y){var o=y.start,l=y.end;o.collapse(!0),l.collapse(!1);let b=new c.a(o,E).toString(),s=new c.a(l,E).toString();return{start:b,end:s}}rangeListToCfiList(E,y){for(var o=[],l,b=0;b<y.length;b++)l=this.rangePairToCfiPair(E,y[b]),o.push(l);return o}axis(E){return E&&(this.horizontal=E==="horizontal"),this.horizontal}}i.a=u},function(a,i,n){var c=n(3),d=n.n(c),u=n(0),T=n(2),E=n(11),y=n(8),o=n(1);const l=typeof navigator!="undefined",b=l&&/Chrome/.test(navigator.userAgent),s=l&&!b&&/AppleWebKit/.test(navigator.userAgent),v=1;class g{constructor(h,x,_,f){this.epubcfi=new T.a,this.document=h,this.documentElement=this.document.documentElement,this.content=x||this.document.body,this.window=this.document.defaultView,this._size={width:0,height:0},this.sectionIndex=f||0,this.cfiBase=_||"",this.epubReadingSystem("epub.js",o.b),this.called=0,this.active=!0,this.listeners()}static get listenedEvents(){return o.a}width(h){var x=this.content;return h&&Object(u.isNumber)(h)&&(h=h+"px"),h&&(x.style.width=h),parseInt(this.window.getComputedStyle(x).width)}height(h){var x=this.content;return h&&Object(u.isNumber)(h)&&(h=h+"px"),h&&(x.style.height=h),parseInt(this.window.getComputedStyle(x).height)}contentWidth(h){var x=this.content||this.document.body;return h&&Object(u.isNumber)(h)&&(h=h+"px"),h&&(x.style.width=h),parseInt(this.window.getComputedStyle(x).width)}contentHeight(h){var x=this.content||this.document.body;return h&&Object(u.isNumber)(h)&&(h=h+"px"),h&&(x.style.height=h),parseInt(this.window.getComputedStyle(x).height)}textWidth(){let h,x,_=this.document.createRange(),f=this.content||this.document.body,k=Object(u.borders)(f);return _.selectNodeContents(f),h=_.getBoundingClientRect(),x=h.width,k&&k.width&&(x+=k.width),Math.round(x)}textHeight(){let h,x,_=this.document.createRange(),f=this.content||this.document.body;return _.selectNodeContents(f),h=_.getBoundingClientRect(),x=h.bottom,Math.round(x)}scrollWidth(){var h=this.documentElement.scrollWidth;return h}scrollHeight(){var h=this.documentElement.scrollHeight;return h}overflow(h){return h&&(this.documentElement.style.overflow=h),this.window.getComputedStyle(this.documentElement).overflow}overflowX(h){return h&&(this.documentElement.style.overflowX=h),this.window.getComputedStyle(this.documentElement).overflowX}overflowY(h){return h&&(this.documentElement.style.overflowY=h),this.window.getComputedStyle(this.documentElement).overflowY}css(h,x,_){var f=this.content||this.document.body;return x?f.style.setProperty(h,x,_?"important":""):f.style.removeProperty(h),this.window.getComputedStyle(f)[h]}viewport(h){var x=this.document.querySelector("meta[name='viewport']"),_={width:void 0,height:void 0,scale:void 0,minimum:void 0,maximum:void 0,scalable:void 0},f=[],k={};if(x&&x.hasAttribute("content")){let A=x.getAttribute("content"),D=A.match(/width\s*=\s*([^,]*)/),C=A.match(/height\s*=\s*([^,]*)/),R=A.match(/initial-scale\s*=\s*([^,]*)/),I=A.match(/minimum-scale\s*=\s*([^,]*)/),B=A.match(/maximum-scale\s*=\s*([^,]*)/),O=A.match(/user-scalable\s*=\s*([^,]*)/);D&&D.length&&typeof D[1]!="undefined"&&(_.width=D[1]),C&&C.length&&typeof C[1]!="undefined"&&(_.height=C[1]),R&&R.length&&typeof R[1]!="undefined"&&(_.scale=R[1]),I&&I.length&&typeof I[1]!="undefined"&&(_.minimum=I[1]),B&&B.length&&typeof B[1]!="undefined"&&(_.maximum=B[1]),O&&O.length&&typeof O[1]!="undefined"&&(_.scalable=O[1])}return k=Object(u.defaults)(h||{},_),h&&(k.width&&f.push("width="+k.width),k.height&&f.push("height="+k.height),k.scale&&f.push("initial-scale="+k.scale),k.scalable==="no"?(f.push("minimum-scale="+k.scale),f.push("maximum-scale="+k.scale),f.push("user-scalable="+k.scalable)):(k.scalable&&f.push("user-scalable="+k.scalable),k.minimum&&f.push("minimum-scale="+k.minimum),k.maximum&&f.push("minimum-scale="+k.maximum)),x||(x=this.document.createElement("meta"),x.setAttribute("name","viewport"),this.document.querySelector("head").appendChild(x)),x.setAttribute("content",f.join(", ")),this.window.scrollTo(0,0)),k}expand(){this.emit(o.c.CONTENTS.EXPAND)}listeners(){this.imageLoadListeners(),this.mediaQueryListeners(),this.addEventListeners(),this.addSelectionListeners(),typeof ResizeObserver=="undefined"?(this.resizeListeners(),this.visibilityListeners()):this.resizeObservers(),this.linksHandler()}removeListeners(){this.removeEventListeners(),this.removeSelectionListeners(),this.observer&&this.observer.disconnect(),clearTimeout(this.expanding)}resizeCheck(){let h=this.textWidth(),x=this.textHeight();(h!=this._size.width||x!=this._size.height)&&(this._size={width:h,height:x},this.onResize&&this.onResize(this._size),this.emit(o.c.CONTENTS.RESIZE,this._size))}resizeListeners(){clearTimeout(this.expanding),requestAnimationFrame(this.resizeCheck.bind(this)),this.expanding=setTimeout(this.resizeListeners.bind(this),350)}visibilityListeners(){document.addEventListener("visibilitychange",()=>{document.visibilityState==="visible"&&this.active===!1?(this.active=!0,this.resizeListeners()):(this.active=!1,clearTimeout(this.expanding))})}transitionListeners(){let h=this.content;h.style.transitionProperty="font, font-size, font-size-adjust, font-stretch, font-variation-settings, font-weight, width, height",h.style.transitionDuration="0.001ms",h.style.transitionTimingFunction="linear",h.style.transitionDelay="0",this._resizeCheck=this.resizeCheck.bind(this),this.document.addEventListener("transitionend",this._resizeCheck)}mediaQueryListeners(){for(var h=this.document.styleSheets,x=function(D){D.matches&&!this._expanding&&setTimeout(this.expand.bind(this),1)}.bind(this),_=0;_<h.length;_+=1){var f;try{f=h[_].cssRules}catch(D){return}if(!f)return;for(var k=0;k<f.length;k+=1)if(f[k].media){var A=this.window.matchMedia(f[k].media.mediaText);A.addListener(x)}}}resizeObservers(){this.observer=new ResizeObserver(h=>{requestAnimationFrame(this.resizeCheck.bind(this))}),this.observer.observe(this.document.documentElement)}mutationObservers(){this.observer=new MutationObserver(x=>{this.resizeCheck()});let h={attributes:!0,childList:!0,characterData:!0,subtree:!0};this.observer.observe(this.document,h)}imageLoadListeners(){for(var h=this.document.querySelectorAll("img"),x,_=0;_<h.length;_++)x=h[_],typeof x.naturalWidth!="undefined"&&x.naturalWidth===0&&(x.onload=this.expand.bind(this))}fontLoadListeners(){!this.document||!this.document.fonts||this.document.fonts.ready.then(function(){this.resizeCheck()}.bind(this))}root(){return this.document?this.document.documentElement:null}locationOf(h,x){var _,f={left:0,top:0};if(!this.document)return f;if(this.epubcfi.isCfiString(h)){let k=new T.a(h).toRange(this.document,x);if(k){try{if(!k.endContainer||k.startContainer==k.endContainer&&k.startOffset==k.endOffset){let A=k.startContainer.textContent.indexOf(" ",k.startOffset);A==-1&&(A=k.startContainer.textContent.length),k.setEnd(k.startContainer,A)}}catch(A){console.error("setting end offset to start container length failed",A)}if(k.startContainer.nodeType===Node.ELEMENT_NODE)_=k.startContainer.getBoundingClientRect(),f.left=_.left,f.top=_.top;else if(s){let A=k.startContainer,D=new Range;try{A.nodeType===v?_=A.getBoundingClientRect():k.startOffset+2<A.length?(D.setStart(A,k.startOffset),D.setEnd(A,k.startOffset+2),_=D.getBoundingClientRect()):k.startOffset-2>0?(D.setStart(A,k.startOffset-2),D.setEnd(A,k.startOffset),_=D.getBoundingClientRect()):_=A.parentNode.getBoundingClientRect()}catch(C){console.error(C,C.stack)}}else _=k.getBoundingClientRect()}}else if(typeof h=="string"&&h.indexOf("#")>-1){let k=h.substring(h.indexOf("#")+1),A=this.document.getElementById(k);if(A)if(s){let D=new Range;D.selectNode(A),_=D.getBoundingClientRect()}else _=A.getBoundingClientRect()}return _&&(f.left=_.left,f.top=_.top),f}addStylesheet(h){return new Promise(function(x,_){var f,k=!1;if(!this.document){x(!1);return}if(f=this.document.querySelector("link[href='"+h+"']"),f){x(!0);return}f=this.document.createElement("link"),f.type="text/css",f.rel="stylesheet",f.href=h,f.onload=f.onreadystatechange=function(){!k&&(!this.readyState||this.readyState=="complete")&&(k=!0,setTimeout(()=>{x(!0)},1))},this.document.head.appendChild(f)}.bind(this))}_getStylesheetNode(h){var x;return h="epubjs-inserted-css-"+(h||""),this.document?(x=this.document.getElementById(h),x||(x=this.document.createElement("style"),x.id=h,this.document.head.appendChild(x)),x):!1}addStylesheetCss(h,x){if(!this.document||!h)return!1;var _;return _=this._getStylesheetNode(x),_.innerHTML=h,!0}addStylesheetRules(h,x){var _;if(!(!this.document||!h||h.length===0))if(_=this._getStylesheetNode(x).sheet,Object.prototype.toString.call(h)==="[object Array]")for(var f=0,k=h.length;f<k;f++){var A=1,D=h[f],C=h[f][0],R="";Object.prototype.toString.call(D[1][0])==="[object Array]"&&(D=D[1],A=0);for(var I=D.length;A<I;A++){var B=D[A];R+=B[0]+":"+B[1]+(B[2]?" !important":"")+`;
`}_.insertRule(C+"{"+R+"}",_.cssRules.length)}else Object.keys(h).forEach(H=>{const tt=h[H];if(Array.isArray(tt))tt.forEach(Y=>{const rt=Object.keys(Y).map(ut=>`${ut}:${Y[ut]}`).join(";");_.insertRule(`${H}{${rt}}`,_.cssRules.length)});else{const at=Object.keys(tt).map(rt=>`${rt}:${tt[rt]}`).join(";");_.insertRule(`${H}{${at}}`,_.cssRules.length)}})}addScript(h){return new Promise(function(x,_){var f,k=!1;if(!this.document){x(!1);return}f=this.document.createElement("script"),f.type="text/javascript",f.async=!0,f.src=h,f.onload=f.onreadystatechange=function(){!k&&(!this.readyState||this.readyState=="complete")&&(k=!0,setTimeout(function(){x(!0)},1))},this.document.head.appendChild(f)}.bind(this))}addClass(h){var x;this.document&&(x=this.content||this.document.body,x&&x.classList.add(h))}removeClass(h){var x;this.document&&(x=this.content||this.document.body,x&&x.classList.remove(h))}addEventListeners(){this.document&&(this._triggerEvent=this.triggerEvent.bind(this),o.a.forEach(function(h){this.document.addEventListener(h,this._triggerEvent,{passive:!0})},this))}removeEventListeners(){this.document&&(o.a.forEach(function(h){this.document.removeEventListener(h,this._triggerEvent,{passive:!0})},this),this._triggerEvent=void 0)}triggerEvent(h){this.emit(h.type,h)}addSelectionListeners(){this.document&&(this._onSelectionChange=this.onSelectionChange.bind(this),this.document.addEventListener("selectionchange",this._onSelectionChange,{passive:!0}))}removeSelectionListeners(){this.document&&(this.document.removeEventListener("selectionchange",this._onSelectionChange,{passive:!0}),this._onSelectionChange=void 0)}onSelectionChange(h){this.selectionEndTimeout&&clearTimeout(this.selectionEndTimeout),this.selectionEndTimeout=setTimeout(function(){var x=this.window.getSelection();this.triggerSelectedEvent(x)}.bind(this),250)}triggerSelectedEvent(h){var x,_;h&&h.rangeCount>0&&(x=h.getRangeAt(0),x.collapsed||(_=new T.a(x,this.cfiBase).toString(),this.emit(o.c.CONTENTS.SELECTED,_),this.emit(o.c.CONTENTS.SELECTED_RANGE,x)))}range(h,x){var _=new T.a(h);return _.toRange(this.document,x)}cfiFromRange(h,x){return new T.a(h,this.cfiBase,x).toString()}cfiFromNode(h,x){return new T.a(h,this.cfiBase,x).toString()}map(h){var x=new E.a(h);return x.section()}size(h,x){var _={scale:1,scalable:"no"};this.layoutStyle("scrolling"),h>=0&&(this.width(h),_.width=h,this.css("padding","0 "+h/12+"px")),x>=0&&(this.height(x),_.height=x),this.css("margin","0"),this.css("box-sizing","border-box"),this.viewport(_)}columns(h,x,_,f,k){let A=Object(u.prefixed)("column-axis"),D=Object(u.prefixed)("column-gap"),C=Object(u.prefixed)("column-width"),R=Object(u.prefixed)("column-fill"),B=this.writingMode().indexOf("vertical")===0?"vertical":"horizontal";this.layoutStyle("paginated"),k==="rtl"&&B==="horizontal"&&this.direction(k),this.width(h),this.height(x),this.viewport({width:h,height:x,scale:1,scalable:"no"}),this.css("overflow-y","hidden"),this.css("margin","0",!0),B==="vertical"?(this.css("padding-top",f/2+"px",!0),this.css("padding-bottom",f/2+"px",!0),this.css("padding-left","20px"),this.css("padding-right","20px"),this.css(A,"vertical")):(this.css("padding-top","20px"),this.css("padding-bottom","20px"),this.css("padding-left",f/2+"px",!0),this.css("padding-right",f/2+"px",!0),this.css(A,"horizontal")),this.css("box-sizing","border-box"),this.css("max-width","inherit"),this.css(R,"auto"),this.css(D,f+"px"),this.css(C,_+"px"),this.css("-webkit-line-box-contain","block glyphs replaced")}scaler(h,x,_){var f="scale("+h+")",k="";this.css("transform-origin","top left"),(x>=0||_>=0)&&(k=" translate("+(x||0)+"px, "+(_||0)+"px )"),this.css("transform",f+k)}fit(h,x,_){var f=this.viewport(),k=parseInt(f.width),A=parseInt(f.height),D=h/k,C=x/A,R=D<C?D:C;if(this.layoutStyle("paginated"),this.width(k),this.height(A),this.overflow("hidden"),this.scaler(R,0,0),this.css("background-size",k*R+"px "+A*R+"px"),this.css("background-color","transparent"),_&&_.properties.includes("page-spread-left")){var I=h-k*R;this.css("margin-left",I+"px")}}direction(h){this.documentElement&&(this.documentElement.style.direction=h)}mapPage(h,x,_,f,k){var A=new E.a(x,k);return A.page(this,h,_,f)}linksHandler(){Object(y.c)(this.content,h=>{this.emit(o.c.CONTENTS.LINK_CLICKED,h)})}writingMode(h){let x=Object(u.prefixed)("writing-mode");return h&&this.documentElement&&(this.documentElement.style[x]=h),this.window.getComputedStyle(this.documentElement)[x]||""}layoutStyle(h){return h&&(this._layoutStyle=h,navigator.epubReadingSystem.layoutStyle=this._layoutStyle),this._layoutStyle||"paginated"}epubReadingSystem(h,x){return navigator.epubReadingSystem={name:h,version:x,layoutStyle:this.layoutStyle(),hasFeature:function(_){switch(_){case"dom-manipulation":return!0;case"layout-changes":return!0;case"touch-events":return!0;case"mouse-events":return!0;case"keyboard-events":return!0;case"spine-scripting":return!1;default:return!1}}},navigator.epubReadingSystem}destroy(){this.removeListeners()}}d()(g.prototype),i.a=g},function(a,i,n){Object.defineProperty(i,"__esModule",{value:!0}),i.Underline=i.Highlight=i.Mark=i.Pane=void 0;var c=function _(f,k,A){f===null&&(f=Function.prototype);var D=Object.getOwnPropertyDescriptor(f,k);if(D===void 0){var C=Object.getPrototypeOf(f);return C===null?void 0:_(C,k,A)}else{if("value"in D)return D.value;var R=D.get;return R===void 0?void 0:R.call(A)}},d=function(){function _(f,k){for(var A=0;A<k.length;A++){var D=k[A];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(f,D.key,D)}}return function(f,k,A){return k&&_(f.prototype,k),A&&_(f,A),f}}(),u=n(49),T=o(u),E=n(50),y=o(E);function o(_){return _&&_.__esModule?_:{default:_}}function l(_,f){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:_}function b(_,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);_.prototype=Object.create(f&&f.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(_,f):_.__proto__=f)}function s(_,f){if(!(_ instanceof f))throw new TypeError("Cannot call a class as a function")}i.Pane=function(){function _(f){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document.body;s(this,_),this.target=f,this.element=T.default.createElement("svg"),this.marks=[],this.element.style.position="absolute",this.element.setAttribute("pointer-events","none"),y.default.proxyMouse(this.target,this.marks),this.container=k,this.container.appendChild(this.element),this.render()}return d(_,[{key:"addMark",value:function(k){var A=T.default.createElement("g");return this.element.appendChild(A),k.bind(A,this.container),this.marks.push(k),k.render(),k}},{key:"removeMark",value:function(k){var A=this.marks.indexOf(k);if(A!==-1){var D=k.unbind();this.element.removeChild(D),this.marks.splice(A,1)}}},{key:"render",value:function(){h(this.element,w(this.target,this.container));var k=!0,A=!1,D=void 0;try{for(var C=this.marks[Symbol.iterator](),R;!(k=(R=C.next()).done);k=!0){var I=R.value;I.render()}}catch(B){A=!0,D=B}finally{try{!k&&C.return&&C.return()}finally{if(A)throw D}}}}]),_}();var v=i.Mark=function(){function _(){s(this,_),this.element=null}return d(_,[{key:"bind",value:function(k,A){this.element=k,this.container=A}},{key:"unbind",value:function(){var k=this.element;return this.element=null,k}},{key:"render",value:function(){}},{key:"dispatchEvent",value:function(k){this.element&&this.element.dispatchEvent(k)}},{key:"getBoundingClientRect",value:function(){return this.element.getBoundingClientRect()}},{key:"getClientRects",value:function(){for(var k=[],A=this.element.firstChild;A;)k.push(A.getBoundingClientRect()),A=A.nextSibling;return k}},{key:"filteredRanges",value:function(){var k=Array.from(this.range.getClientRects());return k.filter(function(A){for(var D=0;D<k.length;D++){if(k[D]===A)return!0;var C=x(k[D],A);if(C)return!1}return!0})}}]),_}(),g=i.Highlight=function(_){b(f,_);function f(k,A,D,C){s(this,f);var R=l(this,(f.__proto__||Object.getPrototypeOf(f)).call(this));return R.range=k,R.className=A,R.data=D||{},R.attributes=C||{},R}return d(f,[{key:"bind",value:function(A,D){c(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"bind",this).call(this,A,D);for(var C in this.data)this.data.hasOwnProperty(C)&&(this.element.dataset[C]=this.data[C]);for(var C in this.attributes)this.attributes.hasOwnProperty(C)&&this.element.setAttribute(C,this.attributes[C]);this.className&&this.element.classList.add(this.className)}},{key:"render",value:function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(var A=this.element.ownerDocument.createDocumentFragment(),D=this.filteredRanges(),C=this.element.getBoundingClientRect(),R=this.container.getBoundingClientRect(),I=0,B=D.length;I<B;I++){var O=D[I],H=T.default.createElement("rect");H.setAttribute("x",O.left-C.left+R.left),H.setAttribute("y",O.top-C.top+R.top),H.setAttribute("height",O.height),H.setAttribute("width",O.width),A.appendChild(H)}this.element.appendChild(A)}}]),f}(v);i.Underline=function(_){b(f,_);function f(k,A,D,C){return s(this,f),l(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,k,A,D,C))}return d(f,[{key:"render",value:function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(var A=this.element.ownerDocument.createDocumentFragment(),D=this.filteredRanges(),C=this.element.getBoundingClientRect(),R=this.container.getBoundingClientRect(),I=0,B=D.length;I<B;I++){var O=D[I],H=T.default.createElement("rect");H.setAttribute("x",O.left-C.left+R.left),H.setAttribute("y",O.top-C.top+R.top),H.setAttribute("height",O.height),H.setAttribute("width",O.width),H.setAttribute("fill","none");var tt=T.default.createElement("line");tt.setAttribute("x1",O.left-C.left+R.left),tt.setAttribute("x2",O.left-C.left+R.left+O.width),tt.setAttribute("y1",O.top-C.top+R.top+O.height-1),tt.setAttribute("y2",O.top-C.top+R.top+O.height-1),tt.setAttribute("stroke-width",1),tt.setAttribute("stroke","black"),tt.setAttribute("stroke-linecap","square"),A.appendChild(H),A.appendChild(tt)}this.element.appendChild(A)}}]),f}(g);function w(_,f){var k=f.getBoundingClientRect(),A=_.getBoundingClientRect();return{top:A.top-k.top,left:A.left-k.left,height:_.scrollHeight,width:_.scrollWidth}}function h(_,f){_.style.setProperty("top",f.top+"px","important"),_.style.setProperty("left",f.left+"px","important"),_.style.setProperty("height",f.height+"px","important"),_.style.setProperty("width",f.width+"px","important")}function x(_,f){return f.right<=_.right&&f.left>=_.left&&f.top>=_.top&&f.bottom<=_.bottom}},function(a,i,n){function c(T,E){return E===void 0&&(E=Object),E&&typeof E.freeze=="function"?E.freeze(T):T}var d=c({HTML:"text/html",isHTML:function(T){return T===d.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),u=c({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(T){return T===u.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});i.freeze=c,i.MIME_TYPE=d,i.NAMESPACE=u},function(a,i,n){var c=n(25);i.DOMImplementation=c.DOMImplementation,i.XMLSerializer=c.XMLSerializer,i.DOMParser=n(46).DOMParser},function(a,i,n){var c=n(3),d=n.n(c),u=n(0),T=n(6),E=n(2),y=n(9),o=n(1);class l{constructor(C){this.settings=C,this.name=C.layout||"reflowable",this._spread=C.spread!=="none",this._minSpreadWidth=C.minSpreadWidth||800,this._evenSpreads=C.evenSpreads||!1,C.flow==="scrolled"||C.flow==="scrolled-continuous"||C.flow==="scrolled-doc"?this._flow="scrolled":this._flow="paginated",this.width=0,this.height=0,this.spreadWidth=0,this.delta=0,this.columnWidth=0,this.gap=0,this.divisor=1,this.props={name:this.name,spread:this._spread,flow:this._flow,width:0,height:0,spreadWidth:0,delta:0,columnWidth:0,gap:0,divisor:1}}flow(C){return typeof C!="undefined"&&(C==="scrolled"||C==="scrolled-continuous"||C==="scrolled-doc"?this._flow="scrolled":this._flow="paginated",this.update({flow:this._flow})),this._flow}spread(C,R){return C&&(this._spread=C!=="none",this.update({spread:this._spread})),R>=0&&(this._minSpreadWidth=R),this._spread}calculate(C,R,I){var B=1,O=I||0,H=C,tt=R,Y=Math.floor(H/12),at,rt,ut,Z;this._spread&&H>=this._minSpreadWidth?B=2:B=1,this.name==="reflowable"&&this._flow==="paginated"&&!(I>=0)&&(O=Y%2===0?Y:Y-1),this.name==="pre-paginated"&&(O=0),B>1?(at=H/B-O,ut=at+O):(at=H,ut=H),this.name==="pre-paginated"&&B>1&&(H=at),rt=at*B+O,Z=H,this.width=H,this.height=tt,this.spreadWidth=rt,this.pageWidth=ut,this.delta=Z,this.columnWidth=at,this.gap=O,this.divisor=B,this.update({width:H,height:tt,spreadWidth:rt,pageWidth:ut,delta:Z,columnWidth:at,gap:O,divisor:B})}format(C,R,I){var B;return this.name==="pre-paginated"?B=C.fit(this.columnWidth,this.height,R):this._flow==="paginated"?B=C.columns(this.width,this.height,this.columnWidth,this.gap,this.settings.direction):I&&I==="horizontal"?B=C.size(null,this.height):B=C.size(this.width,null),B}count(C,R){let I,B;return this.name==="pre-paginated"?(I=1,B=1):this._flow==="paginated"?(R=R||this.delta,I=Math.ceil(C/R),B=I*this.divisor):(R=R||this.height,I=Math.ceil(C/R),B=I),{spreads:I,pages:B}}update(C){if(Object.keys(C).forEach(R=>{this.props[R]===C[R]&&delete C[R]}),Object.keys(C).length>0){let R=Object(u.extend)(this.props,C);this.emit(o.c.LAYOUT.UPDATED,R,C)}}}d()(l.prototype);var b=l,s=n(5);class v{constructor(C){this.rendition=C,this._themes={default:{rules:{},url:"",serialized:""}},this._overrides={},this._current="default",this._injected=[],this.rendition.hooks.content.register(this.inject.bind(this)),this.rendition.hooks.content.register(this.overrides.bind(this))}register(){if(arguments.length!==0){if(arguments.length===1&&typeof arguments[0]=="object")return this.registerThemes(arguments[0]);if(arguments.length===1&&typeof arguments[0]=="string")return this.default(arguments[0]);if(arguments.length===2&&typeof arguments[1]=="string")return this.registerUrl(arguments[0],arguments[1]);if(arguments.length===2&&typeof arguments[1]=="object")return this.registerRules(arguments[0],arguments[1])}}default(C){if(C){if(typeof C=="string")return this.registerUrl("default",C);if(typeof C=="object")return this.registerRules("default",C)}}registerThemes(C){for(var R in C)C.hasOwnProperty(R)&&(typeof C[R]=="string"?this.registerUrl(R,C[R]):this.registerRules(R,C[R]))}registerCss(C,R){this._themes[C]={serialized:R},(this._injected[C]||C=="default")&&this.update(C)}registerUrl(C,R){var I=new s.a(R);this._themes[C]={url:I.toString()},(this._injected[C]||C=="default")&&this.update(C)}registerRules(C,R){this._themes[C]={rules:R},(this._injected[C]||C=="default")&&this.update(C)}select(C){var R=this._current,I;this._current=C,this.update(C),I=this.rendition.getContents(),I.forEach(B=>{B.removeClass(R),B.addClass(C)})}update(C){var R=this.rendition.getContents();R.forEach(I=>{this.add(C,I)})}inject(C){var R=[],I=this._themes,B;for(var O in I)I.hasOwnProperty(O)&&(O===this._current||O==="default")&&(B=I[O],(B.rules&&Object.keys(B.rules).length>0||B.url&&R.indexOf(B.url)===-1)&&this.add(O,C),this._injected.push(O));this._current!="default"&&C.addClass(this._current)}add(C,R){var I=this._themes[C];!I||!R||(I.url?R.addStylesheet(I.url):I.serialized?(R.addStylesheetCss(I.serialized,C),I.injected=!0):I.rules&&(R.addStylesheetRules(I.rules,C),I.injected=!0))}override(C,R,I){var B=this.rendition.getContents();this._overrides[C]={value:R,priority:I===!0},B.forEach(O=>{O.css(C,this._overrides[C].value,this._overrides[C].priority)})}removeOverride(C){var R=this.rendition.getContents();delete this._overrides[C],R.forEach(I=>{I.css(C)})}overrides(C){var R=this._overrides;for(var I in R)R.hasOwnProperty(I)&&C.css(I,R[I].value,R[I].priority)}fontSize(C){this.override("font-size",C)}font(C){this.override("font-family",C,!0)}destroy(){this.rendition=void 0,this._themes=void 0,this._overrides=void 0,this._current=void 0,this._injected=void 0}}var g=v;n(12);class w{constructor(C){this.rendition=C,this.highlights=[],this.underlines=[],this.marks=[],this._annotations={},this._annotationsBySectionIndex={},this.rendition.hooks.render.register(this.inject.bind(this)),this.rendition.hooks.unloaded.register(this.clear.bind(this))}add(C,R,I,B,O,H){let tt=encodeURI(R+C),at=new E.a(R).spinePos,rt=new h({type:C,cfiRange:R,data:I,sectionIndex:at,cb:B,className:O,styles:H});return this._annotations[tt]=rt,at in this._annotationsBySectionIndex?this._annotationsBySectionIndex[at].push(tt):this._annotationsBySectionIndex[at]=[tt],this.rendition.views().forEach(Z=>{rt.sectionIndex===Z.index&&rt.attach(Z)}),rt}remove(C,R){let I=encodeURI(C+R);if(I in this._annotations){let B=this._annotations[I];if(R&&B.type!==R)return;this.rendition.views().forEach(H=>{this._removeFromAnnotationBySectionIndex(B.sectionIndex,I),B.sectionIndex===H.index&&B.detach(H)}),delete this._annotations[I]}}_removeFromAnnotationBySectionIndex(C,R){this._annotationsBySectionIndex[C]=this._annotationsAt(C).filter(I=>I!==R)}_annotationsAt(C){return this._annotationsBySectionIndex[C]}highlight(C,R,I,B,O){return this.add("highlight",C,R,I,B,O)}underline(C,R,I,B,O){return this.add("underline",C,R,I,B,O)}mark(C,R,I){return this.add("mark",C,R,I)}each(){return this._annotations.forEach.apply(this._annotations,arguments)}inject(C){let R=C.index;R in this._annotationsBySectionIndex&&this._annotationsBySectionIndex[R].forEach(B=>{this._annotations[B].attach(C)})}clear(C){let R=C.index;R in this._annotationsBySectionIndex&&this._annotationsBySectionIndex[R].forEach(B=>{this._annotations[B].detach(C)})}show(){}hide(){}}class h{constructor({type:C,cfiRange:R,data:I,sectionIndex:B,cb:O,className:H,styles:tt}){this.type=C,this.cfiRange=R,this.data=I,this.sectionIndex=B,this.mark=void 0,this.cb=O,this.className=H,this.styles=tt}update(C){this.data=C}attach(C){let{cfiRange:R,data:I,type:B,mark:O,cb:H,className:tt,styles:Y}=this,at;return B==="highlight"?at=C.highlight(R,I,H,tt,Y):B==="underline"?at=C.underline(R,I,H,tt,Y):B==="mark"&&(at=C.mark(R,I,H)),this.mark=at,this.emit(o.c.ANNOTATION.ATTACH,at),at}detach(C){let{cfiRange:R,type:I}=this,B;return C&&(I==="highlight"?B=C.unhighlight(R):I==="underline"?B=C.ununderline(R):I==="mark"&&(B=C.unmark(R))),this.mark=void 0,this.emit(o.c.ANNOTATION.DETACH,B),B}text(){}}d()(h.prototype);var x=w,_=n(20),f=n(10),k=n(22);class A{constructor(C,R){this.settings=Object(u.extend)(this.settings||{},{width:null,height:null,ignoreClass:"",manager:"default",view:"iframe",flow:null,layout:null,spread:null,minSpreadWidth:800,stylesheet:null,resizeOnOrientationChange:!0,script:null,snap:!1,defaultDirection:"ltr",allowScriptedContent:!1,allowPopups:!1}),Object(u.extend)(this.settings,R),typeof this.settings.manager=="object"&&(this.manager=this.settings.manager),this.book=C,this.hooks={},this.hooks.display=new T.a(this),this.hooks.serialize=new T.a(this),this.hooks.content=new T.a(this),this.hooks.unloaded=new T.a(this),this.hooks.layout=new T.a(this),this.hooks.render=new T.a(this),this.hooks.show=new T.a(this),this.hooks.content.register(this.handleLinks.bind(this)),this.hooks.content.register(this.passEvents.bind(this)),this.hooks.content.register(this.adjustImages.bind(this)),this.book.spine.hooks.content.register(this.injectIdentifier.bind(this)),this.settings.stylesheet&&this.book.spine.hooks.content.register(this.injectStylesheet.bind(this)),this.settings.script&&this.book.spine.hooks.content.register(this.injectScript.bind(this)),this.themes=new g(this),this.annotations=new x(this),this.epubcfi=new E.a,this.q=new y.a(this),this.location=void 0,this.q.enqueue(this.book.opened),this.starting=new u.defer,this.started=this.starting.promise,this.q.enqueue(this.start)}setManager(C){this.manager=C}requireManager(C){var R;return typeof C=="string"&&C==="default"?R=f.a:typeof C=="string"&&C==="continuous"?R=k.a:R=C,R}requireView(C){var R;return typeof C=="string"&&C==="iframe"?R=_.a:R=C,R}start(){switch(!this.settings.layout&&(this.book.package.metadata.layout==="pre-paginated"||this.book.displayOptions.fixedLayout==="true")&&(this.settings.layout="pre-paginated"),this.book.package.metadata.spread){case"none":this.settings.spread="none";break;case"both":this.settings.spread=!0;break}this.manager||(this.ViewManager=this.requireManager(this.settings.manager),this.View=this.requireView(this.settings.view),this.manager=new this.ViewManager({view:this.View,queue:this.q,request:this.book.load.bind(this.book),settings:this.settings})),this.direction(this.book.package.metadata.direction||this.settings.defaultDirection),this.settings.globalLayoutProperties=this.determineLayoutProperties(this.book.package.metadata),this.flow(this.settings.globalLayoutProperties.flow),this.layout(this.settings.globalLayoutProperties),this.manager.on(o.c.MANAGERS.ADDED,this.afterDisplayed.bind(this)),this.manager.on(o.c.MANAGERS.REMOVED,this.afterRemoved.bind(this)),this.manager.on(o.c.MANAGERS.RESIZED,this.onResized.bind(this)),this.manager.on(o.c.MANAGERS.ORIENTATION_CHANGE,this.onOrientationChange.bind(this)),this.manager.on(o.c.MANAGERS.SCROLLED,this.reportLocation.bind(this)),this.emit(o.c.RENDITION.STARTED),this.starting.resolve()}attachTo(C){return this.q.enqueue(function(){this.manager.render(C,{width:this.settings.width,height:this.settings.height}),this.emit(o.c.RENDITION.ATTACHED)}.bind(this))}display(C){return this.displaying&&this.displaying.resolve(),this.q.enqueue(this._display,C)}_display(C){if(this.book){this.epubcfi.isCfiString(C);var R=new u.defer,I=R.promise,B;return this.displaying=R,this.book.locations.length()&&Object(u.isFloat)(C)&&(C=this.book.locations.cfiFromPercentage(parseFloat(C))),B=this.book.spine.get(C),B?(this.manager.display(B,C).then(()=>{R.resolve(B),this.displaying=void 0,this.emit(o.c.RENDITION.DISPLAYED,B),this.reportLocation()},O=>{this.emit(o.c.RENDITION.DISPLAY_ERROR,O)}),I):(R.reject(new Error("No Section Found")),I)}}afterDisplayed(C){C.on(o.c.VIEWS.MARK_CLICKED,(R,I)=>this.triggerMarkEvent(R,I,C.contents)),this.hooks.render.trigger(C,this).then(()=>{C.contents?this.hooks.content.trigger(C.contents,this).then(()=>{this.emit(o.c.RENDITION.RENDERED,C.section,C)}):this.emit(o.c.RENDITION.RENDERED,C.section,C)})}afterRemoved(C){this.hooks.unloaded.trigger(C,this).then(()=>{this.emit(o.c.RENDITION.REMOVED,C.section,C)})}onResized(C,R){this.emit(o.c.RENDITION.RESIZED,{width:C.width,height:C.height},R),this.location&&this.location.start&&this.display(R||this.location.start.cfi)}onOrientationChange(C){this.emit(o.c.RENDITION.ORIENTATION_CHANGE,C)}moveTo(C){this.manager.moveTo(C)}resize(C,R,I){C&&(this.settings.width=C),R&&(this.settings.height=R),this.manager.resize(C,R,I)}clear(){this.manager.clear()}next(){return this.q.enqueue(this.manager.next.bind(this.manager)).then(this.reportLocation.bind(this))}prev(){return this.q.enqueue(this.manager.prev.bind(this.manager)).then(this.reportLocation.bind(this))}determineLayoutProperties(C){var R,I=this.settings.layout||C.layout||"reflowable",B=this.settings.spread||C.spread||"auto",O=this.settings.orientation||C.orientation||"auto",H=this.settings.flow||C.flow||"auto",tt=C.viewport||"",Y=this.settings.minSpreadWidth||C.minSpreadWidth||800,at=this.settings.direction||C.direction||"ltr";return(this.settings.width===0||this.settings.width>0)&&(this.settings.height===0||this.settings.height>0),R={layout:I,spread:B,orientation:O,flow:H,viewport:tt,minSpreadWidth:Y,direction:at},R}flow(C){var R=C;(C==="scrolled"||C==="scrolled-doc"||C==="scrolled-continuous")&&(R="scrolled"),(C==="auto"||C==="paginated")&&(R="paginated"),this.settings.flow=C,this._layout&&this._layout.flow(R),this.manager&&this._layout&&this.manager.applyLayout(this._layout),this.manager&&this.manager.updateFlow(R),this.manager&&this.manager.isRendered()&&this.location&&(this.manager.clear(),this.display(this.location.start.cfi))}layout(C){return C&&(this._layout=new b(C),this._layout.spread(C.spread,this.settings.minSpreadWidth),this._layout.on(o.c.LAYOUT.UPDATED,(R,I)=>{this.emit(o.c.RENDITION.LAYOUT,R,I)})),this.manager&&this._layout&&this.manager.applyLayout(this._layout),this._layout}spread(C,R){this.settings.spread=C,R&&(this.settings.minSpreadWidth=R),this._layout&&this._layout.spread(C,R),this.manager&&this.manager.isRendered()&&this.manager.updateLayout()}direction(C){this.settings.direction=C||"ltr",this.manager&&this.manager.direction(this.settings.direction),this.manager&&this.manager.isRendered()&&this.location&&(this.manager.clear(),this.display(this.location.start.cfi))}reportLocation(){return this.q.enqueue(function(){requestAnimationFrame(function(){var I=this.manager.currentLocation();if(I&&I.then&&typeof I.then=="function")I.then(function(B){let O=this.located(B);!O||!O.start||!O.end||(this.location=O,this.emit(o.c.RENDITION.LOCATION_CHANGED,{index:this.location.start.index,href:this.location.start.href,start:this.location.start.cfi,end:this.location.end.cfi,percentage:this.location.start.percentage}),this.emit(o.c.RENDITION.RELOCATED,this.location))}.bind(this));else if(I){let B=this.located(I);if(!B||!B.start||!B.end)return;this.location=B,this.emit(o.c.RENDITION.LOCATION_CHANGED,{index:this.location.start.index,href:this.location.start.href,start:this.location.start.cfi,end:this.location.end.cfi,percentage:this.location.start.percentage}),this.emit(o.c.RENDITION.RELOCATED,this.location)}}.bind(this))}.bind(this))}currentLocation(){var C=this.manager.currentLocation();if(C&&C.then&&typeof C.then=="function")C.then(function(R){return this.located(R)}.bind(this));else if(C)return this.located(C)}located(C){if(!C.length)return{};let R=C[0],I=C[C.length-1],B={start:{index:R.index,href:R.href,cfi:R.mapping.start,displayed:{page:R.pages[0]||1,total:R.totalPages}},end:{index:I.index,href:I.href,cfi:I.mapping.end,displayed:{page:I.pages[I.pages.length-1]||1,total:I.totalPages}}},O=this.book.locations.locationFromCfi(R.mapping.start),H=this.book.locations.locationFromCfi(I.mapping.end);O!=null&&(B.start.location=O,B.start.percentage=this.book.locations.percentageFromLocation(O)),H!=null&&(B.end.location=H,B.end.percentage=this.book.locations.percentageFromLocation(H));let tt=this.book.pageList.pageFromCfi(R.mapping.start),Y=this.book.pageList.pageFromCfi(I.mapping.end);return tt!=-1&&(B.start.page=tt),Y!=-1&&(B.end.page=Y),I.index===this.book.spine.last().index&&B.end.displayed.page>=B.end.displayed.total&&(B.atEnd=!0),R.index===this.book.spine.first().index&&B.start.displayed.page===1&&(B.atStart=!0),B}destroy(){this.manager&&this.manager.destroy(),this.book=void 0}passEvents(C){o.a.forEach(R=>{C.on(R,I=>this.triggerViewEvent(I,C))}),C.on(o.c.CONTENTS.SELECTED,R=>this.triggerSelectedEvent(R,C))}triggerViewEvent(C,R){this.emit(C.type,C,R)}triggerSelectedEvent(C,R){this.emit(o.c.RENDITION.SELECTED,C,R)}triggerMarkEvent(C,R,I){this.emit(o.c.RENDITION.MARK_CLICKED,C,R,I)}getRange(C,R){var I=new E.a(C),B=this.manager.visible().filter(function(O){if(I.spinePos===O.index)return!0});if(B.length)return B[0].contents.range(I,R)}adjustImages(C){if(this._layout.name==="pre-paginated")return new Promise(function(O){O()});let R=C.window.getComputedStyle(C.content,null),I=(C.content.offsetHeight-(parseFloat(R.paddingTop)+parseFloat(R.paddingBottom)))*.95,B=parseFloat(R.paddingLeft)+parseFloat(R.paddingRight);return C.addStylesheetRules({img:{"max-width":(this._layout.columnWidth?this._layout.columnWidth-B+"px":"100%")+"!important","max-height":I+"px!important","object-fit":"contain","page-break-inside":"avoid","break-inside":"avoid","box-sizing":"border-box"},svg:{"max-width":(this._layout.columnWidth?this._layout.columnWidth-B+"px":"100%")+"!important","max-height":I+"px!important","page-break-inside":"avoid","break-inside":"avoid"}}),new Promise(function(O,H){setTimeout(function(){O()},1)})}getContents(){return this.manager?this.manager.getContents():[]}views(){return(this.manager?this.manager.views:void 0)||[]}handleLinks(C){C&&C.on(o.c.CONTENTS.LINK_CLICKED,R=>{let I=this.book.path.relative(R);this.display(I)})}injectStylesheet(C,R){let I=C.createElement("link");I.setAttribute("type","text/css"),I.setAttribute("rel","stylesheet"),I.setAttribute("href",this.settings.stylesheet),C.getElementsByTagName("head")[0].appendChild(I)}injectScript(C,R){let I=C.createElement("script");I.setAttribute("type","text/javascript"),I.setAttribute("src",this.settings.script),I.textContent=" ",C.getElementsByTagName("head")[0].appendChild(I)}injectIdentifier(C,R){let I=this.book.packaging.metadata.identifier,B=C.createElement("meta");B.setAttribute("name","dc.relation.ispartof"),I&&B.setAttribute("content",I),C.getElementsByTagName("head")[0].appendChild(B)}}d()(A.prototype),i.a=A},function(a,i){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(c){typeof window=="object"&&(n=window)}a.exports=n},function(a,i,n){var c=n(38)();a.exports=function(d){return d!==c&&d!==null}},function(a,i){function n(c){var d=typeof c;return c!=null&&(d=="object"||d=="function")}a.exports=n},function(a,i,n){var c=n(3),d=n.n(c),u=n(0),T=n(2),E=n(12),y=n(1),o=n(13);class l{constructor(s,v){this.settings=Object(u.extend)({ignoreClass:"",axis:void 0,direction:void 0,width:0,height:0,layout:void 0,globalLayoutProperties:{},method:void 0,forceRight:!1,allowScriptedContent:!1,allowPopups:!1},v||{}),this.id="epubjs-view-"+Object(u.uuid)(),this.section=s,this.index=s.index,this.element=this.container(this.settings.axis),this.added=!1,this.displayed=!1,this.rendered=!1,this.fixedWidth=0,this.fixedHeight=0,this.epubcfi=new T.a,this.layout=this.settings.layout,this.pane=void 0,this.highlights={},this.underlines={},this.marks={}}container(s){var v=document.createElement("div");return v.classList.add("epub-view"),v.style.height="0px",v.style.width="0px",v.style.overflow="hidden",v.style.position="relative",v.style.display="block",s&&s=="horizontal"?v.style.flex="none":v.style.flex="initial",v}create(){return this.iframe?this.iframe:(this.element||(this.element=this.createContainer()),this.iframe=document.createElement("iframe"),this.iframe.id=this.id,this.iframe.scrolling="no",this.iframe.style.overflow="hidden",this.iframe.seamless="seamless",this.iframe.style.border="none",this.iframe.sandbox="allow-same-origin",this.settings.allowScriptedContent&&(this.iframe.sandbox+=" allow-scripts"),this.settings.allowPopups&&(this.iframe.sandbox+=" allow-popups"),this.iframe.setAttribute("enable-annotation","true"),this.resizing=!0,this.element.style.visibility="hidden",this.iframe.style.visibility="hidden",this.iframe.style.width="0",this.iframe.style.height="0",this._width=0,this._height=0,this.element.setAttribute("ref",this.index),this.added=!0,this.elementBounds=Object(u.bounds)(this.element),"srcdoc"in this.iframe?this.supportsSrcdoc=!0:this.supportsSrcdoc=!1,this.settings.method||(this.settings.method=this.supportsSrcdoc?"srcdoc":"write"),this.iframe)}render(s,v){return this.create(),this.size(),this.sectionRender||(this.sectionRender=this.section.render(s)),this.sectionRender.then(function(g){return this.load(g)}.bind(this)).then(function(){let g=this.contents.writingMode(),w;return this.settings.flow==="scrolled"?w=g.indexOf("vertical")===0?"horizontal":"vertical":w=g.indexOf("vertical")===0?"vertical":"horizontal",g.indexOf("vertical")===0&&this.settings.flow==="paginated"&&(this.layout.delta=this.layout.height),this.setAxis(w),this.emit(y.c.VIEWS.AXIS,w),this.setWritingMode(g),this.emit(y.c.VIEWS.WRITING_MODE,g),this.layout.format(this.contents,this.section,this.axis),this.addListeners(),new Promise((h,x)=>{this.expand(),this.settings.forceRight&&(this.element.style.marginLeft=this.width()+"px"),h()})}.bind(this),function(g){return this.emit(y.c.VIEWS.LOAD_ERROR,g),new Promise((w,h)=>{h(g)})}.bind(this)).then(function(){this.emit(y.c.VIEWS.RENDERED,this.section)}.bind(this))}reset(){this.iframe&&(this.iframe.style.width="0",this.iframe.style.height="0",this._width=0,this._height=0,this._textWidth=void 0,this._contentWidth=void 0,this._textHeight=void 0,this._contentHeight=void 0),this._needsReframe=!0}size(s,v){var g=s||this.settings.width,w=v||this.settings.height;this.layout.name==="pre-paginated"?this.lock("both",g,w):this.settings.axis==="horizontal"?this.lock("height",g,w):this.lock("width",g,w),this.settings.width=g,this.settings.height=w}lock(s,v,g){var w=Object(u.borders)(this.element),h;this.iframe?h=Object(u.borders)(this.iframe):h={width:0,height:0},s=="width"&&Object(u.isNumber)(v)&&(this.lockedWidth=v-w.width-h.width),s=="height"&&Object(u.isNumber)(g)&&(this.lockedHeight=g-w.height-h.height),s==="both"&&Object(u.isNumber)(v)&&Object(u.isNumber)(g)&&(this.lockedWidth=v-w.width-h.width,this.lockedHeight=g-w.height-h.height),this.displayed&&this.iframe&&this.expand()}expand(s){var v=this.lockedWidth,g=this.lockedHeight,w;!this.iframe||this._expanding||(this._expanding=!0,this.layout.name==="pre-paginated"?(v=this.layout.columnWidth,g=this.layout.height):this.settings.axis==="horizontal"?(v=this.contents.textWidth(),v%this.layout.pageWidth>0&&(v=Math.ceil(v/this.layout.pageWidth)*this.layout.pageWidth),this.settings.forceEvenPages&&(w=v/this.layout.pageWidth,this.layout.divisor>1&&this.layout.name==="reflowable"&&w%2>0&&(v+=this.layout.pageWidth))):this.settings.axis==="vertical"&&(g=this.contents.textHeight(),this.settings.flow==="paginated"&&g%this.layout.height>0&&(g=Math.ceil(g/this.layout.height)*this.layout.height)),(this._needsReframe||v!=this._width||g!=this._height)&&this.reframe(v,g),this._expanding=!1)}reframe(s,v){var g;Object(u.isNumber)(s)&&(this.element.style.width=s+"px",this.iframe.style.width=s+"px",this._width=s),Object(u.isNumber)(v)&&(this.element.style.height=v+"px",this.iframe.style.height=v+"px",this._height=v);let w=this.prevBounds?s-this.prevBounds.width:s,h=this.prevBounds?v-this.prevBounds.height:v;g={width:s,height:v,widthDelta:w,heightDelta:h},this.pane&&this.pane.render(),requestAnimationFrame(()=>{let x;for(let _ in this.marks)this.marks.hasOwnProperty(_)&&(x=this.marks[_],this.placeMark(x.element,x.range))}),this.onResize(this,g),this.emit(y.c.VIEWS.RESIZED,g),this.prevBounds=g,this.elementBounds=Object(u.bounds)(this.element)}load(s){var v=new u.defer,g=v.promise;if(!this.iframe)return v.reject(new Error("No Iframe Available")),g;if(this.iframe.onload=function(h){this.onLoad(h,v)}.bind(this),this.settings.method==="blobUrl")this.blobUrl=Object(u.createBlobUrl)(s,"application/xhtml+xml"),this.iframe.src=this.blobUrl,this.element.appendChild(this.iframe);else if(this.settings.method==="srcdoc")this.iframe.srcdoc=s,this.element.appendChild(this.iframe);else{if(this.element.appendChild(this.iframe),this.document=this.iframe.contentDocument,!this.document)return v.reject(new Error("No Document Available")),g;if(this.iframe.contentDocument.open(),window.MSApp&&MSApp.execUnsafeLocalFunction){var w=this;MSApp.execUnsafeLocalFunction(function(){w.iframe.contentDocument.write(s)})}else this.iframe.contentDocument.write(s);this.iframe.contentDocument.close()}return g}onLoad(s,v){this.window=this.iframe.contentWindow,this.document=this.iframe.contentDocument,this.contents=new E.a(this.document,this.document.body,this.section.cfiBase,this.section.index),this.rendering=!1;var g=this.document.querySelector("link[rel='canonical']");g?g.setAttribute("href",this.section.canonical):(g=this.document.createElement("link"),g.setAttribute("rel","canonical"),g.setAttribute("href",this.section.canonical),this.document.querySelector("head").appendChild(g)),this.contents.on(y.c.CONTENTS.EXPAND,()=>{this.displayed&&this.iframe&&(this.expand(),this.contents&&this.layout.format(this.contents))}),this.contents.on(y.c.CONTENTS.RESIZE,w=>{this.displayed&&this.iframe&&(this.expand(),this.contents&&this.layout.format(this.contents))}),v.resolve(this.contents)}setLayout(s){this.layout=s,this.contents&&(this.layout.format(this.contents),this.expand())}setAxis(s){this.settings.axis=s,s=="horizontal"?this.element.style.flex="none":this.element.style.flex="initial",this.size()}setWritingMode(s){this.writingMode=s}addListeners(){}removeListeners(s){}display(s){var v=new u.defer;return this.displayed?v.resolve(this):this.render(s).then(function(){this.emit(y.c.VIEWS.DISPLAYED,this),this.onDisplayed(this),this.displayed=!0,v.resolve(this)}.bind(this),function(g){v.reject(g,this)}),v.promise}show(){this.element.style.visibility="visible",this.iframe&&(this.iframe.style.visibility="visible",this.iframe.style.transform="translateZ(0)",this.iframe.offsetWidth,this.iframe.style.transform=null),this.emit(y.c.VIEWS.SHOWN,this)}hide(){this.element.style.visibility="hidden",this.iframe.style.visibility="hidden",this.stopExpanding=!0,this.emit(y.c.VIEWS.HIDDEN,this)}offset(){return{top:this.element.offsetTop,left:this.element.offsetLeft}}width(){return this._width}height(){return this._height}position(){return this.element.getBoundingClientRect()}locationOf(s){this.iframe.getBoundingClientRect();var v=this.contents.locationOf(s,this.settings.ignoreClass);return{left:v.left,top:v.top}}onDisplayed(s){}onResize(s,v){}bounds(s){return(s||!this.elementBounds)&&(this.elementBounds=Object(u.bounds)(this.element)),this.elementBounds}highlight(s,v={},g,w="epubjs-hl",h={}){if(!this.contents)return;const x=Object.assign({fill:"yellow","fill-opacity":"0.3","mix-blend-mode":"multiply"},h);let _=this.contents.range(s),f=()=>{this.emit(y.c.VIEWS.MARK_CLICKED,s,v)};v.epubcfi=s,this.pane||(this.pane=new o.Pane(this.iframe,this.element));let k=new o.Highlight(_,w,v,x),A=this.pane.addMark(k);return this.highlights[s]={mark:A,element:A.element,listeners:[f,g]},A.element.setAttribute("ref",w),A.element.addEventListener("click",f),A.element.addEventListener("touchstart",f),g&&(A.element.addEventListener("click",g),A.element.addEventListener("touchstart",g)),A}underline(s,v={},g,w="epubjs-ul",h={}){if(!this.contents)return;const x=Object.assign({stroke:"black","stroke-opacity":"0.3","mix-blend-mode":"multiply"},h);let _=this.contents.range(s),f=()=>{this.emit(y.c.VIEWS.MARK_CLICKED,s,v)};v.epubcfi=s,this.pane||(this.pane=new o.Pane(this.iframe,this.element));let k=new o.Underline(_,w,v,x),A=this.pane.addMark(k);return this.underlines[s]={mark:A,element:A.element,listeners:[f,g]},A.element.setAttribute("ref",w),A.element.addEventListener("click",f),A.element.addEventListener("touchstart",f),g&&(A.element.addEventListener("click",g),A.element.addEventListener("touchstart",g)),A}mark(s,v={},g){if(!this.contents)return;if(s in this.marks)return this.marks[s];let w=this.contents.range(s);if(!w)return;let h=w.commonAncestorContainer,x=h.nodeType===1?h:h.parentNode,_=k=>{this.emit(y.c.VIEWS.MARK_CLICKED,s,v)};w.collapsed&&h.nodeType===1?(w=new Range,w.selectNodeContents(h)):w.collapsed&&(w=new Range,w.selectNodeContents(x));let f=this.document.createElement("a");return f.setAttribute("ref","epubjs-mk"),f.style.position="absolute",f.dataset.epubcfi=s,v&&Object.keys(v).forEach(k=>{f.dataset[k]=v[k]}),g&&(f.addEventListener("click",g),f.addEventListener("touchstart",g)),f.addEventListener("click",_),f.addEventListener("touchstart",_),this.placeMark(f,w),this.element.appendChild(f),this.marks[s]={element:f,range:w,listeners:[_,g]},x}placeMark(s,v){let g,w,h;if(this.layout.name==="pre-paginated"||this.settings.axis!=="horizontal"){let _=v.getBoundingClientRect();g=_.top,w=_.right}else{let _=v.getClientRects(),f;for(var x=0;x!=_.length;x++)f=_[x],(!h||f.left<h)&&(h=f.left,w=Math.ceil(h/this.layout.props.pageWidth)*this.layout.props.pageWidth-this.layout.gap/2,g=f.top)}s.style.top=`${g}px`,s.style.left=`${w}px`}unhighlight(s){let v;s in this.highlights&&(v=this.highlights[s],this.pane.removeMark(v.mark),v.listeners.forEach(g=>{g&&(v.element.removeEventListener("click",g),v.element.removeEventListener("touchstart",g))}),delete this.highlights[s])}ununderline(s){let v;s in this.underlines&&(v=this.underlines[s],this.pane.removeMark(v.mark),v.listeners.forEach(g=>{g&&(v.element.removeEventListener("click",g),v.element.removeEventListener("touchstart",g))}),delete this.underlines[s])}unmark(s){let v;s in this.marks&&(v=this.marks[s],this.element.removeChild(v.element),v.listeners.forEach(g=>{g&&(v.element.removeEventListener("click",g),v.element.removeEventListener("touchstart",g))}),delete this.marks[s])}destroy(){for(let s in this.highlights)this.unhighlight(s);for(let s in this.underlines)this.ununderline(s);for(let s in this.marks)this.unmark(s);this.blobUrl&&Object(u.revokeBlobUrl)(this.blobUrl),this.displayed&&(this.displayed=!1,this.removeListeners(),this.contents.destroy(),this.stopExpanding=!0,this.element.removeChild(this.iframe),this.pane&&(this.pane.element.remove(),this.pane=void 0),this.iframe=void 0,this.contents=void 0,this._textWidth=null,this._textHeight=null,this._width=null,this._height=null)}}d()(l.prototype),i.a=l},function(a,i,n){var c=n(19),d=n(51),u=n(53),T="Expected a function",E=Math.max,y=Math.min;function o(l,b,s){var v,g,w,h,x,_,f=0,k=!1,A=!1,D=!0;if(typeof l!="function")throw new TypeError(T);b=u(b)||0,c(s)&&(k=!!s.leading,A="maxWait"in s,w=A?E(u(s.maxWait)||0,b):w,D="trailing"in s?!!s.trailing:D);function C(rt){var ut=v,Z=g;return v=g=void 0,f=rt,h=l.apply(Z,ut),h}function R(rt){return f=rt,x=setTimeout(O,b),k?C(rt):h}function I(rt){var ut=rt-_,Z=rt-f,et=b-ut;return A?y(et,w-Z):et}function B(rt){var ut=rt-_,Z=rt-f;return _===void 0||ut>=b||ut<0||A&&Z>=w}function O(){var rt=d();if(B(rt))return H(rt);x=setTimeout(O,I(rt))}function H(rt){return x=void 0,D&&v?C(rt):(v=g=void 0,h)}function tt(){x!==void 0&&clearTimeout(x),f=0,v=_=g=x=void 0}function Y(){return x===void 0?h:H(d())}function at(){var rt=d(),ut=B(rt);if(v=arguments,g=this,_=rt,ut){if(x===void 0)return R(_);if(A)return clearTimeout(x),x=setTimeout(O,b),C(_)}return x===void 0&&(x=setTimeout(O,b)),h}return at.cancel=tt,at.flush=Y,at}a.exports=o},function(a,i,n){var c=n(0),d=n(10),u=n(1),T=n(3),E=n.n(T);const y={easeInCubic:function(g){return Math.pow(g,3)}};class o{constructor(w,h){this.settings=Object(c.extend)({duration:80,minVelocity:.2,minDistance:10,easing:y.easeInCubic},h||{}),this.supportsTouch=this.supportsTouch(),this.supportsTouch&&this.setup(w)}setup(w){this.manager=w,this.layout=this.manager.layout,this.fullsize=this.manager.settings.fullsize,this.fullsize?(this.element=this.manager.stage.element,this.scroller=window,this.disableScroll()):(this.element=this.manager.stage.container,this.scroller=this.element,this.element.style.WebkitOverflowScrolling="touch"),this.manager.settings.offset=this.layout.width,this.manager.settings.afterScrolledTimeout=this.settings.duration*2,this.isVertical=this.manager.settings.axis==="vertical",!(!this.manager.isPaginated||this.isVertical)&&(this.touchCanceler=!1,this.resizeCanceler=!1,this.snapping=!1,this.scrollLeft,this.scrollTop,this.startTouchX=void 0,this.startTouchY=void 0,this.startTime=void 0,this.endTouchX=void 0,this.endTouchY=void 0,this.endTime=void 0,this.addListeners())}supportsTouch(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}disableScroll(){this.element.style.overflow="hidden"}enableScroll(){this.element.style.overflow=""}addListeners(){this._onResize=this.onResize.bind(this),window.addEventListener("resize",this._onResize),this._onScroll=this.onScroll.bind(this),this.scroller.addEventListener("scroll",this._onScroll),this._onTouchStart=this.onTouchStart.bind(this),this.scroller.addEventListener("touchstart",this._onTouchStart,{passive:!0}),this.on("touchstart",this._onTouchStart),this._onTouchMove=this.onTouchMove.bind(this),this.scroller.addEventListener("touchmove",this._onTouchMove,{passive:!0}),this.on("touchmove",this._onTouchMove),this._onTouchEnd=this.onTouchEnd.bind(this),this.scroller.addEventListener("touchend",this._onTouchEnd,{passive:!0}),this.on("touchend",this._onTouchEnd),this._afterDisplayed=this.afterDisplayed.bind(this),this.manager.on(u.c.MANAGERS.ADDED,this._afterDisplayed)}removeListeners(){window.removeEventListener("resize",this._onResize),this._onResize=void 0,this.scroller.removeEventListener("scroll",this._onScroll),this._onScroll=void 0,this.scroller.removeEventListener("touchstart",this._onTouchStart,{passive:!0}),this.off("touchstart",this._onTouchStart),this._onTouchStart=void 0,this.scroller.removeEventListener("touchmove",this._onTouchMove,{passive:!0}),this.off("touchmove",this._onTouchMove),this._onTouchMove=void 0,this.scroller.removeEventListener("touchend",this._onTouchEnd,{passive:!0}),this.off("touchend",this._onTouchEnd),this._onTouchEnd=void 0,this.manager.off(u.c.MANAGERS.ADDED,this._afterDisplayed),this._afterDisplayed=void 0}afterDisplayed(w){let h=w.contents;["touchstart","touchmove","touchend"].forEach(x=>{h.on(x,_=>this.triggerViewEvent(_,h))})}triggerViewEvent(w,h){this.emit(w.type,w,h)}onScroll(w){this.scrollLeft=this.fullsize?window.scrollX:this.scroller.scrollLeft,this.scrollTop=this.fullsize?window.scrollY:this.scroller.scrollTop}onResize(w){this.resizeCanceler=!0}onTouchStart(w){let{screenX:h,screenY:x}=w.touches[0];this.fullsize&&this.enableScroll(),this.touchCanceler=!0,this.startTouchX||(this.startTouchX=h,this.startTouchY=x,this.startTime=this.now()),this.endTouchX=h,this.endTouchY=x,this.endTime=this.now()}onTouchMove(w){let{screenX:h,screenY:x}=w.touches[0],_=Math.abs(x-this.endTouchY);this.touchCanceler=!0,!this.fullsize&&_<10&&(this.element.scrollLeft-=h-this.endTouchX),this.endTouchX=h,this.endTouchY=x,this.endTime=this.now()}onTouchEnd(w){this.fullsize&&this.disableScroll(),this.touchCanceler=!1;let h=this.wasSwiped();h!==0?this.snap(h):this.snap(),this.startTouchX=void 0,this.startTouchY=void 0,this.startTime=void 0,this.endTouchX=void 0,this.endTouchY=void 0,this.endTime=void 0}wasSwiped(){let w=this.layout.pageWidth*this.layout.divisor,h=this.endTouchX-this.startTouchX,x=Math.abs(h),_=this.endTime-this.startTime,f=h/_,k=this.settings.minVelocity;if(x<=this.settings.minDistance||x>=w)return 0;if(f>k)return-1;if(f<-k)return 1}needsSnap(){let w=this.scrollLeft,h=this.layout.pageWidth*this.layout.divisor;return w%h!==0}snap(w=0){let h=this.scrollLeft,x=this.layout.pageWidth*this.layout.divisor,_=Math.round(h/x)*x;return w&&(_+=w*x),this.smoothScrollTo(_)}smoothScrollTo(w){const h=new c.defer,x=this.scrollLeft,_=this.now(),f=this.settings.duration,k=this.settings.easing;this.snapping=!0;function A(){const D=this.now(),C=Math.min(1,(D-_)/f);if(k(C),this.touchCanceler||this.resizeCanceler){this.resizeCanceler=!1,this.snapping=!1,h.resolve();return}C<1?(window.requestAnimationFrame(A.bind(this)),this.scrollTo(x+(w-x)*C,0)):(this.scrollTo(w,0),this.snapping=!1,h.resolve())}return A.call(this),h.promise}scrollTo(w=0,h=0){this.fullsize?window.scroll(w,h):(this.scroller.scrollLeft=w,this.scroller.scrollTop=h)}now(){return"now"in window.performance?performance.now():new Date().getTime()}destroy(){this.scroller&&(this.fullsize&&this.enableScroll(),this.removeListeners(),this.scroller=void 0)}}E()(o.prototype);var l=o,b=n(21),s=n.n(b);class v extends d.a{constructor(w){super(w),this.name="continuous",this.settings=Object(c.extend)(this.settings||{},{infinite:!0,overflow:void 0,axis:void 0,writingMode:void 0,flow:"scrolled",offset:500,offsetDelta:250,width:void 0,height:void 0,snap:!1,afterScrolledTimeout:10,allowScriptedContent:!1,allowPopups:!1}),Object(c.extend)(this.settings,w.settings||{}),w.settings.gap!="undefined"&&w.settings.gap===0&&(this.settings.gap=w.settings.gap),this.viewSettings={ignoreClass:this.settings.ignoreClass,axis:this.settings.axis,flow:this.settings.flow,layout:this.layout,width:0,height:0,forceEvenPages:!1,allowScriptedContent:this.settings.allowScriptedContent,allowPopups:this.settings.allowPopups},this.scrollTop=0,this.scrollLeft=0}display(w,h){return d.a.prototype.display.call(this,w,h).then(function(){return this.fill()}.bind(this))}fill(w){var h=w||new c.defer;return this.q.enqueue(()=>this.check()).then(x=>{x?this.fill(h):h.resolve()}),h.promise}moveTo(w){var h=0,x=0;this.isPaginated?(h=Math.floor(w.left/this.layout.delta)*this.layout.delta,h+this.settings.offsetDelta):(x=w.top,w.top+this.settings.offsetDelta),(h>0||x>0)&&this.scrollBy(h,x,!0)}afterResized(w){this.emit(u.c.MANAGERS.RESIZE,w.section)}removeShownListeners(w){w.onDisplayed=function(){}}add(w){var h=this.createView(w);return this.views.append(h),h.on(u.c.VIEWS.RESIZED,x=>{h.expanded=!0}),h.on(u.c.VIEWS.AXIS,x=>{this.updateAxis(x)}),h.on(u.c.VIEWS.WRITING_MODE,x=>{this.updateWritingMode(x)}),h.onDisplayed=this.afterDisplayed.bind(this),h.onResize=this.afterResized.bind(this),h.display(this.request)}append(w){var h=this.createView(w);return h.on(u.c.VIEWS.RESIZED,x=>{h.expanded=!0}),h.on(u.c.VIEWS.AXIS,x=>{this.updateAxis(x)}),h.on(u.c.VIEWS.WRITING_MODE,x=>{this.updateWritingMode(x)}),this.views.append(h),h.onDisplayed=this.afterDisplayed.bind(this),h}prepend(w){var h=this.createView(w);return h.on(u.c.VIEWS.RESIZED,x=>{this.counter(x),h.expanded=!0}),h.on(u.c.VIEWS.AXIS,x=>{this.updateAxis(x)}),h.on(u.c.VIEWS.WRITING_MODE,x=>{this.updateWritingMode(x)}),this.views.prepend(h),h.onDisplayed=this.afterDisplayed.bind(this),h}counter(w){this.settings.axis==="vertical"?this.scrollBy(0,w.heightDelta,!0):this.scrollBy(w.widthDelta,0,!0)}update(w){for(var h=this.bounds(),x=this.views.all(),_=x.length,f=typeof w!="undefined"?w:this.settings.offset||0,k,A,D=new c.defer,C=[],R=0;R<_;R++)if(A=x[R],k=this.isVisible(A,f,f,h),k===!0)if(A.displayed)A.show();else{let I=A.display(this.request).then(function(B){B.show()},B=>{A.hide()});C.push(I)}else this.q.enqueue(A.destroy.bind(A)),clearTimeout(this.trimTimeout),this.trimTimeout=setTimeout(function(){this.q.enqueue(this.trim.bind(this))}.bind(this),250);return C.length?Promise.all(C).catch(I=>{D.reject(I)}):(D.resolve(),D.promise)}check(w,h){var x=new c.defer,_=[],f=this.settings.axis==="horizontal",k=this.settings.offset||0;w&&f&&(k=w),h&&!f&&(k=h);var A=this._bounds;let D=f?this.scrollLeft:this.scrollTop,C=f?Math.floor(A.width):A.height,R=f?this.container.scrollWidth:this.container.scrollHeight,I=this.writingMode&&this.writingMode.indexOf("vertical")===0?"vertical":"horizontal",B=this.settings.rtlScrollType,O=this.settings.direction==="rtl";this.settings.fullsize?(f&&O&&B==="negative"||!f&&O&&B==="default")&&(D=D*-1):(O&&B==="default"&&I==="horizontal"&&(D=R-C-D),O&&B==="negative"&&I==="horizontal"&&(D=D*-1));let H=()=>{let ut=this.views.first(),Z=ut&&ut.section.prev();Z&&_.push(this.prepend(Z))},tt=()=>{let ut=this.views.last(),Z=ut&&ut.section.next();Z&&_.push(this.append(Z))},Y=D+C+k,at=D-k;Y>=R&&tt(),at<0&&H();let rt=_.map(ut=>ut.display(this.request));return _.length?Promise.all(rt).then(()=>this.check()).then(()=>this.update(k),ut=>ut):(this.q.enqueue(function(){this.update()}.bind(this)),x.resolve(!1),x.promise)}trim(){for(var w=new c.defer,h=this.views.displayed(),x=h[0],_=h[h.length-1],f=this.views.indexOf(x),k=this.views.indexOf(_),A=this.views.slice(0,f),D=this.views.slice(k+1),C=0;C<A.length-1;C++)this.erase(A[C],A);for(var R=1;R<D.length;R++)this.erase(D[R]);return w.resolve(),w.promise}erase(w,h){var x,_;this.settings.fullsize?(x=window.scrollY,_=window.scrollX):(x=this.container.scrollTop,_=this.container.scrollLeft);var f=w.bounds();this.views.remove(w),h&&(this.settings.axis==="vertical"?this.scrollTo(0,x-f.height,!0):this.settings.direction==="rtl"?this.settings.fullsize?this.scrollTo(_+Math.floor(f.width),0,!0):this.scrollTo(_,0,!0):this.scrollTo(_-Math.floor(f.width),0,!0))}addEventListeners(w){window.addEventListener("unload",function(h){this.ignore=!0,this.destroy()}.bind(this)),this.addScrollListeners(),this.isPaginated&&this.settings.snap&&(this.snapper=new l(this,this.settings.snap&&typeof this.settings.snap=="object"&&this.settings.snap))}addScrollListeners(){var w;this.tick=c.requestAnimationFrame;let h=this.settings.direction==="rtl"&&this.settings.rtlScrollType==="default"?-1:1;this.scrollDeltaVert=0,this.scrollDeltaHorz=0,this.settings.fullsize?(w=window,this.scrollTop=window.scrollY*h,this.scrollLeft=window.scrollX*h):(w=this.container,this.scrollTop=this.container.scrollTop,this.scrollLeft=this.container.scrollLeft),this._onScroll=this.onScroll.bind(this),w.addEventListener("scroll",this._onScroll),this._scrolled=s()(this.scrolled.bind(this),30),this.didScroll=!1}removeEventListeners(){var w;this.settings.fullsize?w=window:w=this.container,w.removeEventListener("scroll",this._onScroll),this._onScroll=void 0}onScroll(){let w,h,x=this.settings.direction==="rtl"&&this.settings.rtlScrollType==="default"?-1:1;this.settings.fullsize?(w=window.scrollY*x,h=window.scrollX*x):(w=this.container.scrollTop,h=this.container.scrollLeft),this.scrollTop=w,this.scrollLeft=h,this.ignore?this.ignore=!1:this._scrolled(),this.scrollDeltaVert+=Math.abs(w-this.prevScrollTop),this.scrollDeltaHorz+=Math.abs(h-this.prevScrollLeft),this.prevScrollTop=w,this.prevScrollLeft=h,clearTimeout(this.scrollTimeout),this.scrollTimeout=setTimeout(function(){this.scrollDeltaVert=0,this.scrollDeltaHorz=0}.bind(this),150),clearTimeout(this.afterScrolled),this.didScroll=!1}scrolled(){this.q.enqueue(function(){return this.check()}.bind(this)),this.emit(u.c.MANAGERS.SCROLL,{top:this.scrollTop,left:this.scrollLeft}),clearTimeout(this.afterScrolled),this.afterScrolled=setTimeout(function(){this.snapper&&this.snapper.supportsTouch&&this.snapper.needsSnap()||this.emit(u.c.MANAGERS.SCROLLED,{top:this.scrollTop,left:this.scrollLeft})}.bind(this),this.settings.afterScrolledTimeout)}next(){let w=this.layout.props.name==="pre-paginated"&&this.layout.props.spread?this.layout.props.delta*2:this.layout.props.delta;this.views.length&&(this.isPaginated&&this.settings.axis==="horizontal"?this.scrollBy(w,0,!0):this.scrollBy(0,this.layout.height,!0),this.q.enqueue(function(){return this.check()}.bind(this)))}prev(){let w=this.layout.props.name==="pre-paginated"&&this.layout.props.spread?this.layout.props.delta*2:this.layout.props.delta;this.views.length&&(this.isPaginated&&this.settings.axis==="horizontal"?this.scrollBy(-w,0,!0):this.scrollBy(0,-this.layout.height,!0),this.q.enqueue(function(){return this.check()}.bind(this)))}updateFlow(w){this.rendered&&this.snapper&&(this.snapper.destroy(),this.snapper=void 0),super.updateFlow(w,"scroll"),this.rendered&&this.isPaginated&&this.settings.snap&&(this.snapper=new l(this,this.settings.snap&&typeof this.settings.snap=="object"&&this.settings.snap))}destroy(){super.destroy(),this.snapper&&this.snapper.destroy()}}i.a=v},function(a,i,n){(function(c){var d,d;/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(u){a.exports=u()})(function(){return function u(T,E,y){function o(s,v){if(!E[s]){if(!T[s]){var g=typeof d=="function"&&d;if(!v&&g)return d(s,!0);if(l)return l(s,!0);var w=new Error("Cannot find module '"+s+"'");throw w.code="MODULE_NOT_FOUND",w}var h=E[s]={exports:{}};T[s][0].call(h.exports,function(x){var _=T[s][1][x];return o(_||x)},h,h.exports,u,T,E,y)}return E[s].exports}for(var l=typeof d=="function"&&d,b=0;b<y.length;b++)o(y[b]);return o}({1:[function(u,T,E){(function(y){var o=y.MutationObserver||y.WebKitMutationObserver,l;if(o){var b=0,s=new o(x),v=y.document.createTextNode("");s.observe(v,{characterData:!0}),l=function(){v.data=b=++b%2}}else if(!y.setImmediate&&typeof y.MessageChannel!="undefined"){var g=new y.MessageChannel;g.port1.onmessage=x,l=function(){g.port2.postMessage(0)}}else"document"in y&&"onreadystatechange"in y.document.createElement("script")?l=function(){var f=y.document.createElement("script");f.onreadystatechange=function(){x(),f.onreadystatechange=null,f.parentNode.removeChild(f),f=null},y.document.documentElement.appendChild(f)}:l=function(){setTimeout(x,0)};var w,h=[];function x(){w=!0;for(var f,k,A=h.length;A;){for(k=h,h=[],f=-1;++f<A;)k[f]();A=h.length}w=!1}T.exports=_;function _(f){h.push(f)===1&&!w&&l()}}).call(this,typeof c!="undefined"?c:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],2:[function(u,T,E){var y=u(1);function o(){}var l={},b=["REJECTED"],s=["FULFILLED"],v=["PENDING"];T.exports=g;function g(R){if(typeof R!="function")throw new TypeError("resolver must be a function");this.state=v,this.queue=[],this.outcome=void 0,R!==o&&_(this,R)}g.prototype.catch=function(R){return this.then(null,R)},g.prototype.then=function(R,I){if(typeof R!="function"&&this.state===s||typeof I!="function"&&this.state===b)return this;var B=new this.constructor(o);if(this.state!==v){var O=this.state===s?R:I;h(B,O,this.outcome)}else this.queue.push(new w(B,R,I));return B};function w(R,I,B){this.promise=R,typeof I=="function"&&(this.onFulfilled=I,this.callFulfilled=this.otherCallFulfilled),typeof B=="function"&&(this.onRejected=B,this.callRejected=this.otherCallRejected)}w.prototype.callFulfilled=function(R){l.resolve(this.promise,R)},w.prototype.otherCallFulfilled=function(R){h(this.promise,this.onFulfilled,R)},w.prototype.callRejected=function(R){l.reject(this.promise,R)},w.prototype.otherCallRejected=function(R){h(this.promise,this.onRejected,R)};function h(R,I,B){y(function(){var O;try{O=I(B)}catch(H){return l.reject(R,H)}O===R?l.reject(R,new TypeError("Cannot resolve promise with itself")):l.resolve(R,O)})}l.resolve=function(R,I){var B=f(x,I);if(B.status==="error")return l.reject(R,B.value);var O=B.value;if(O)_(R,O);else{R.state=s,R.outcome=I;for(var H=-1,tt=R.queue.length;++H<tt;)R.queue[H].callFulfilled(I)}return R},l.reject=function(R,I){R.state=b,R.outcome=I;for(var B=-1,O=R.queue.length;++B<O;)R.queue[B].callRejected(I);return R};function x(R){var I=R&&R.then;if(R&&(typeof R=="object"||typeof R=="function")&&typeof I=="function")return function(){I.apply(R,arguments)}}function _(R,I){var B=!1;function O(at){B||(B=!0,l.reject(R,at))}function H(at){B||(B=!0,l.resolve(R,at))}function tt(){I(H,O)}var Y=f(tt);Y.status==="error"&&O(Y.value)}function f(R,I){var B={};try{B.value=R(I),B.status="success"}catch(O){B.status="error",B.value=O}return B}g.resolve=k;function k(R){return R instanceof this?R:l.resolve(new this(o),R)}g.reject=A;function A(R){var I=new this(o);return l.reject(I,R)}g.all=D;function D(R){var I=this;if(Object.prototype.toString.call(R)!=="[object Array]")return this.reject(new TypeError("must be an array"));var B=R.length,O=!1;if(!B)return this.resolve([]);for(var H=new Array(B),tt=0,Y=-1,at=new this(o);++Y<B;)rt(R[Y],Y);return at;function rt(ut,Z){I.resolve(ut).then(et,function(gt){O||(O=!0,l.reject(at,gt))});function et(gt){H[Z]=gt,++tt===B&&!O&&(O=!0,l.resolve(at,H))}}}g.race=C;function C(R){var I=this;if(Object.prototype.toString.call(R)!=="[object Array]")return this.reject(new TypeError("must be an array"));var B=R.length,O=!1;if(!B)return this.resolve([]);for(var H=-1,tt=new this(o);++H<B;)Y(R[H]);return tt;function Y(at){I.resolve(at).then(function(rt){O||(O=!0,l.resolve(tt,rt))},function(rt){O||(O=!0,l.reject(tt,rt))})}}},{1:1}],3:[function(u,T,E){(function(y){typeof y.Promise!="function"&&(y.Promise=u(2))}).call(this,typeof c!="undefined"?c:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{2:2}],4:[function(u,T,E){var y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(F){return typeof F}:function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F};function o(F,Q){if(!(F instanceof Q))throw new TypeError("Cannot call a class as a function")}function l(){try{if(typeof indexedDB!="undefined")return indexedDB;if(typeof webkitIndexedDB!="undefined")return webkitIndexedDB;if(typeof mozIndexedDB!="undefined")return mozIndexedDB;if(typeof OIndexedDB!="undefined")return OIndexedDB;if(typeof msIndexedDB!="undefined")return msIndexedDB}catch(F){return}}var b=l();function s(){try{if(!b||!b.open)return!1;var F=typeof openDatabase!="undefined"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),Q=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!F||Q)&&typeof indexedDB!="undefined"&&typeof IDBKeyRange!="undefined"}catch(V){return!1}}function v(F,Q){F=F||[],Q=Q||{};try{return new Blob(F,Q)}catch(st){if(st.name!=="TypeError")throw st;for(var V=typeof BlobBuilder!="undefined"?BlobBuilder:typeof MSBlobBuilder!="undefined"?MSBlobBuilder:typeof MozBlobBuilder!="undefined"?MozBlobBuilder:WebKitBlobBuilder,ot=new V,ht=0;ht<F.length;ht+=1)ot.append(F[ht]);return ot.getBlob(Q.type)}}typeof Promise=="undefined"&&u(3);var g=Promise;function w(F,Q){Q&&F.then(function(V){Q(null,V)},function(V){Q(V)})}function h(F,Q,V){typeof Q=="function"&&F.then(Q),typeof V=="function"&&F.catch(V)}function x(F){return typeof F!="string"&&(console.warn(F+" used as a key, but it is not a string."),F=String(F)),F}function _(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var f="local-forage-detect-blob-support",k=void 0,A={},D=Object.prototype.toString,C="readonly",R="readwrite";function I(F){for(var Q=F.length,V=new ArrayBuffer(Q),ot=new Uint8Array(V),ht=0;ht<Q;ht++)ot[ht]=F.charCodeAt(ht);return V}function B(F){return new g(function(Q){var V=F.transaction(f,R),ot=v([""]);V.objectStore(f).put(ot,"key"),V.onabort=function(ht){ht.preventDefault(),ht.stopPropagation(),Q(!1)},V.oncomplete=function(){var ht=navigator.userAgent.match(/Chrome\/(\d+)/),st=navigator.userAgent.match(/Edge\//);Q(st||!ht||parseInt(ht[1],10)>=43)}}).catch(function(){return!1})}function O(F){return typeof k=="boolean"?g.resolve(k):B(F).then(function(Q){return k=Q,k})}function H(F){var Q=A[F.name],V={};V.promise=new g(function(ot,ht){V.resolve=ot,V.reject=ht}),Q.deferredOperations.push(V),Q.dbReady?Q.dbReady=Q.dbReady.then(function(){return V.promise}):Q.dbReady=V.promise}function tt(F){var Q=A[F.name],V=Q.deferredOperations.pop();if(V)return V.resolve(),V.promise}function Y(F,Q){var V=A[F.name],ot=V.deferredOperations.pop();if(ot)return ot.reject(Q),ot.promise}function at(F,Q){return new g(function(V,ot){if(A[F.name]=A[F.name]||Ct(),F.db)if(Q)H(F),F.db.close();else return V(F.db);var ht=[F.name];Q&&ht.push(F.version);var st=b.open.apply(b,ht);Q&&(st.onupgradeneeded=function(mt){var bt=st.result;try{bt.createObjectStore(F.storeName),mt.oldVersion<=1&&bt.createObjectStore(f)}catch(wt){if(wt.name==="ConstraintError")console.warn('The database "'+F.name+'" has been upgraded from version '+mt.oldVersion+" to version "+mt.newVersion+', but the storage "'+F.storeName+'" already exists.');else throw wt}}),st.onerror=function(mt){mt.preventDefault(),ot(st.error)},st.onsuccess=function(){var mt=st.result;mt.onversionchange=function(bt){bt.target.close()},V(mt),tt(F)}})}function rt(F){return at(F,!1)}function ut(F){return at(F,!0)}function Z(F,Q){if(!F.db)return!0;var V=!F.db.objectStoreNames.contains(F.storeName),ot=F.version<F.db.version,ht=F.version>F.db.version;if(ot&&(F.version!==Q&&console.warn('The database "'+F.name+`" can't be downgraded from version `+F.db.version+" to version "+F.version+"."),F.version=F.db.version),ht||V){if(V){var st=F.db.version+1;st>F.version&&(F.version=st)}return!0}return!1}function et(F){return new g(function(Q,V){var ot=new FileReader;ot.onerror=V,ot.onloadend=function(ht){var st=btoa(ht.target.result||"");Q({__local_forage_encoded_blob:!0,data:st,type:F.type})},ot.readAsBinaryString(F)})}function gt(F){var Q=I(atob(F.data));return v([Q],{type:F.type})}function pt(F){return F&&F.__local_forage_encoded_blob}function dt(F){var Q=this,V=Q._initReady().then(function(){var ot=A[Q._dbInfo.name];if(ot&&ot.dbReady)return ot.dbReady});return h(V,F,F),V}function Et(F){H(F);for(var Q=A[F.name],V=Q.forages,ot=0;ot<V.length;ot++){var ht=V[ot];ht._dbInfo.db&&(ht._dbInfo.db.close(),ht._dbInfo.db=null)}return F.db=null,rt(F).then(function(st){return F.db=st,Z(F)?ut(F):st}).then(function(st){F.db=Q.db=st;for(var mt=0;mt<V.length;mt++)V[mt]._dbInfo.db=st}).catch(function(st){throw Y(F,st),st})}function St(F,Q,V,ot){ot===void 0&&(ot=1);try{var ht=F.db.transaction(F.storeName,Q);V(null,ht)}catch(st){if(ot>0&&(!F.db||st.name==="InvalidStateError"||st.name==="NotFoundError"))return g.resolve().then(function(){if(!F.db||st.name==="NotFoundError"&&!F.db.objectStoreNames.contains(F.storeName)&&F.version<=F.db.version)return F.db&&(F.version=F.db.version+1),ut(F)}).then(function(){return Et(F).then(function(){St(F,Q,V,ot-1)})}).catch(V);V(st)}}function Ct(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function Rt(F){var Q=this,V={db:null};if(F)for(var ot in F)V[ot]=F[ot];var ht=A[V.name];ht||(ht=Ct(),A[V.name]=ht),ht.forages.push(Q),Q._initReady||(Q._initReady=Q.ready,Q.ready=dt);var st=[];function mt(){return g.resolve()}for(var bt=0;bt<ht.forages.length;bt++){var wt=ht.forages[bt];wt!==Q&&st.push(wt._initReady().catch(mt))}var yt=ht.forages.slice(0);return g.all(st).then(function(){return V.db=ht.db,rt(V)}).then(function(_t){return V.db=_t,Z(V,Q._defaultConfig.version)?ut(V):_t}).then(function(_t){V.db=ht.db=_t,Q._dbInfo=V;for(var Ot=0;Ot<yt.length;Ot++){var Ht=yt[Ot];Ht!==Q&&(Ht._dbInfo.db=V.db,Ht._dbInfo.version=V.version)}})}function Dt(F,Q){var V=this;F=x(F);var ot=new g(function(ht,st){V.ready().then(function(){St(V._dbInfo,C,function(mt,bt){if(mt)return st(mt);try{var wt=bt.objectStore(V._dbInfo.storeName),yt=wt.get(F);yt.onsuccess=function(){var _t=yt.result;_t===void 0&&(_t=null),pt(_t)&&(_t=gt(_t)),ht(_t)},yt.onerror=function(){st(yt.error)}}catch(_t){st(_t)}})}).catch(st)});return w(ot,Q),ot}function Nt(F,Q){var V=this,ot=new g(function(ht,st){V.ready().then(function(){St(V._dbInfo,C,function(mt,bt){if(mt)return st(mt);try{var wt=bt.objectStore(V._dbInfo.storeName),yt=wt.openCursor(),_t=1;yt.onsuccess=function(){var Ot=yt.result;if(Ot){var Ht=Ot.value;pt(Ht)&&(Ht=gt(Ht));var Xt=F(Ht,Ot.key,_t++);Xt!==void 0?ht(Xt):Ot.continue()}else ht()},yt.onerror=function(){st(yt.error)}}catch(Ot){st(Ot)}})}).catch(st)});return w(ot,Q),ot}function K(F,Q,V){var ot=this;F=x(F);var ht=new g(function(st,mt){var bt;ot.ready().then(function(){return bt=ot._dbInfo,D.call(Q)==="[object Blob]"?O(bt.db).then(function(wt){return wt?Q:et(Q)}):Q}).then(function(wt){St(ot._dbInfo,R,function(yt,_t){if(yt)return mt(yt);try{var Ot=_t.objectStore(ot._dbInfo.storeName);wt===null&&(wt=void 0);var Ht=Ot.put(wt,F);_t.oncomplete=function(){wt===void 0&&(wt=null),st(wt)},_t.onabort=_t.onerror=function(){var Xt=Ht.error?Ht.error:Ht.transaction.error;mt(Xt)}}catch(Xt){mt(Xt)}})}).catch(mt)});return w(ht,V),ht}function it(F,Q){var V=this;F=x(F);var ot=new g(function(ht,st){V.ready().then(function(){St(V._dbInfo,R,function(mt,bt){if(mt)return st(mt);try{var wt=bt.objectStore(V._dbInfo.storeName),yt=wt.delete(F);bt.oncomplete=function(){ht()},bt.onerror=function(){st(yt.error)},bt.onabort=function(){var _t=yt.error?yt.error:yt.transaction.error;st(_t)}}catch(_t){st(_t)}})}).catch(st)});return w(ot,Q),ot}function m(F){var Q=this,V=new g(function(ot,ht){Q.ready().then(function(){St(Q._dbInfo,R,function(st,mt){if(st)return ht(st);try{var bt=mt.objectStore(Q._dbInfo.storeName),wt=bt.clear();mt.oncomplete=function(){ot()},mt.onabort=mt.onerror=function(){var yt=wt.error?wt.error:wt.transaction.error;ht(yt)}}catch(yt){ht(yt)}})}).catch(ht)});return w(V,F),V}function U(F){var Q=this,V=new g(function(ot,ht){Q.ready().then(function(){St(Q._dbInfo,C,function(st,mt){if(st)return ht(st);try{var bt=mt.objectStore(Q._dbInfo.storeName),wt=bt.count();wt.onsuccess=function(){ot(wt.result)},wt.onerror=function(){ht(wt.error)}}catch(yt){ht(yt)}})}).catch(ht)});return w(V,F),V}function j(F,Q){var V=this,ot=new g(function(ht,st){if(F<0){ht(null);return}V.ready().then(function(){St(V._dbInfo,C,function(mt,bt){if(mt)return st(mt);try{var wt=bt.objectStore(V._dbInfo.storeName),yt=!1,_t=wt.openKeyCursor();_t.onsuccess=function(){var Ot=_t.result;if(!Ot){ht(null);return}F===0||yt?ht(Ot.key):(yt=!0,Ot.advance(F))},_t.onerror=function(){st(_t.error)}}catch(Ot){st(Ot)}})}).catch(st)});return w(ot,Q),ot}function N(F){var Q=this,V=new g(function(ot,ht){Q.ready().then(function(){St(Q._dbInfo,C,function(st,mt){if(st)return ht(st);try{var bt=mt.objectStore(Q._dbInfo.storeName),wt=bt.openKeyCursor(),yt=[];wt.onsuccess=function(){var _t=wt.result;if(!_t){ot(yt);return}yt.push(_t.key),_t.continue()},wt.onerror=function(){ht(wt.error)}}catch(_t){ht(_t)}})}).catch(ht)});return w(V,F),V}function P(F,Q){Q=_.apply(this,arguments);var V=this.config();F=typeof F!="function"&&F||{},F.name||(F.name=F.name||V.name,F.storeName=F.storeName||V.storeName);var ot=this,ht;if(!F.name)ht=g.reject("Invalid arguments");else{var st=F.name===V.name&&ot._dbInfo.db,mt=st?g.resolve(ot._dbInfo.db):rt(F).then(function(bt){var wt=A[F.name],yt=wt.forages;wt.db=bt;for(var _t=0;_t<yt.length;_t++)yt[_t]._dbInfo.db=bt;return bt});F.storeName?ht=mt.then(function(bt){if(bt.objectStoreNames.contains(F.storeName)){var wt=bt.version+1;H(F);var yt=A[F.name],_t=yt.forages;bt.close();for(var Ot=0;Ot<_t.length;Ot++){var Ht=_t[Ot];Ht._dbInfo.db=null,Ht._dbInfo.version=wt}var Xt=new g(function(Gt,ce){var le=b.open(F.name,wt);le.onerror=function(Le){var ln=le.result;ln.close(),ce(Le)},le.onupgradeneeded=function(){var Le=le.result;Le.deleteObjectStore(F.storeName)},le.onsuccess=function(){var Le=le.result;Le.close(),Gt(Le)}});return Xt.then(function(Gt){yt.db=Gt;for(var ce=0;ce<_t.length;ce++){var le=_t[ce];le._dbInfo.db=Gt,tt(le._dbInfo)}}).catch(function(Gt){throw(Y(F,Gt)||g.resolve()).catch(function(){}),Gt})}}):ht=mt.then(function(bt){H(F);var wt=A[F.name],yt=wt.forages;bt.close();for(var _t=0;_t<yt.length;_t++){var Ot=yt[_t];Ot._dbInfo.db=null}var Ht=new g(function(Xt,Gt){var ce=b.deleteDatabase(F.name);ce.onerror=function(){var le=ce.result;le&&le.close(),Gt(ce.error)},ce.onblocked=function(){console.warn('dropInstance blocked for database "'+F.name+'" until all open connections are closed')},ce.onsuccess=function(){var le=ce.result;le&&le.close(),Xt(le)}});return Ht.then(function(Xt){wt.db=Xt;for(var Gt=0;Gt<yt.length;Gt++){var ce=yt[Gt];tt(ce._dbInfo)}}).catch(function(Xt){throw(Y(F,Xt)||g.resolve()).catch(function(){}),Xt})})}return w(ht,Q),ht}var W={_driver:"asyncStorage",_initStorage:Rt,_support:s(),iterate:Nt,getItem:Dt,setItem:K,removeItem:it,clear:m,length:U,key:j,keys:N,dropInstance:P};function G(){return typeof openDatabase=="function"}var q="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p="~~local_forage_type~",S=/^~~local_forage_type~([^~]+)~/,L="__lfsc__:",M=L.length,X="arbf",J="blob",lt="si08",vt="ui08",Tt="uic8",At="si16",Lt="si32",It="ur16",Ut="ui32",zt="fl32",z="fl64",$=M+X.length,nt=Object.prototype.toString;function ft(F){var Q=F.length*.75,V=F.length,ot,ht=0,st,mt,bt,wt;F[F.length-1]==="="&&(Q--,F[F.length-2]==="="&&Q--);var yt=new ArrayBuffer(Q),_t=new Uint8Array(yt);for(ot=0;ot<V;ot+=4)st=q.indexOf(F[ot]),mt=q.indexOf(F[ot+1]),bt=q.indexOf(F[ot+2]),wt=q.indexOf(F[ot+3]),_t[ht++]=st<<2|mt>>4,_t[ht++]=(mt&15)<<4|bt>>2,_t[ht++]=(bt&3)<<6|wt&63;return yt}function xt(F){var Q=new Uint8Array(F),V="",ot;for(ot=0;ot<Q.length;ot+=3)V+=q[Q[ot]>>2],V+=q[(Q[ot]&3)<<4|Q[ot+1]>>4],V+=q[(Q[ot+1]&15)<<2|Q[ot+2]>>6],V+=q[Q[ot+2]&63];return Q.length%3===2?V=V.substring(0,V.length-1)+"=":Q.length%3===1&&(V=V.substring(0,V.length-2)+"=="),V}function Wt(F,Q){var V="";if(F&&(V=nt.call(F)),F&&(V==="[object ArrayBuffer]"||F.buffer&&nt.call(F.buffer)==="[object ArrayBuffer]")){var ot,ht=L;F instanceof ArrayBuffer?(ot=F,ht+=X):(ot=F.buffer,V==="[object Int8Array]"?ht+=lt:V==="[object Uint8Array]"?ht+=vt:V==="[object Uint8ClampedArray]"?ht+=Tt:V==="[object Int16Array]"?ht+=At:V==="[object Uint16Array]"?ht+=It:V==="[object Int32Array]"?ht+=Lt:V==="[object Uint32Array]"?ht+=Ut:V==="[object Float32Array]"?ht+=zt:V==="[object Float64Array]"?ht+=z:Q(new Error("Failed to get type for BinaryArray"))),Q(ht+xt(ot))}else if(V==="[object Blob]"){var st=new FileReader;st.onload=function(){var mt=p+F.type+"~"+xt(this.result);Q(L+J+mt)},st.readAsArrayBuffer(F)}else try{Q(JSON.stringify(F))}catch(mt){console.error("Couldn't convert value into a JSON string: ",F),Q(null,mt)}}function Jt(F){if(F.substring(0,M)!==L)return JSON.parse(F);var Q=F.substring($),V=F.substring(M,$),ot;if(V===J&&S.test(Q)){var ht=Q.match(S);ot=ht[1],Q=Q.substring(ht[0].length)}var st=ft(Q);switch(V){case X:return st;case J:return v([st],{type:ot});case lt:return new Int8Array(st);case vt:return new Uint8Array(st);case Tt:return new Uint8ClampedArray(st);case At:return new Int16Array(st);case It:return new Uint16Array(st);case Lt:return new Int32Array(st);case Ut:return new Uint32Array(st);case zt:return new Float32Array(st);case z:return new Float64Array(st);default:throw new Error("Unkown type: "+V)}}var se={serialize:Wt,deserialize:Jt,stringToBuffer:ft,bufferToString:xt};function Ne(F,Q,V,ot){F.executeSql("CREATE TABLE IF NOT EXISTS "+Q.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],V,ot)}function ge(F){var Q=this,V={db:null};if(F)for(var ot in F)V[ot]=typeof F[ot]!="string"?F[ot].toString():F[ot];var ht=new g(function(st,mt){try{V.db=openDatabase(V.name,String(V.version),V.description,V.size)}catch(bt){return mt(bt)}V.db.transaction(function(bt){Ne(bt,V,function(){Q._dbInfo=V,st()},function(wt,yt){mt(yt)})},mt)});return V.serializer=se,ht}function oe(F,Q,V,ot,ht,st){F.executeSql(V,ot,ht,function(mt,bt){bt.code===bt.SYNTAX_ERR?mt.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[Q.storeName],function(wt,yt){yt.rows.length?st(wt,bt):Ne(wt,Q,function(){wt.executeSql(V,ot,ht,st)},st)},st):st(mt,bt)},st)}function Ae(F,Q){var V=this;F=x(F);var ot=new g(function(ht,st){V.ready().then(function(){var mt=V._dbInfo;mt.db.transaction(function(bt){oe(bt,mt,"SELECT * FROM "+mt.storeName+" WHERE key = ? LIMIT 1",[F],function(wt,yt){var _t=yt.rows.length?yt.rows.item(0).value:null;_t&&(_t=mt.serializer.deserialize(_t)),ht(_t)},function(wt,yt){st(yt)})})}).catch(st)});return w(ot,Q),ot}function er(F,Q){var V=this,ot=new g(function(ht,st){V.ready().then(function(){var mt=V._dbInfo;mt.db.transaction(function(bt){oe(bt,mt,"SELECT * FROM "+mt.storeName,[],function(wt,yt){for(var _t=yt.rows,Ot=_t.length,Ht=0;Ht<Ot;Ht++){var Xt=_t.item(Ht),Gt=Xt.value;if(Gt&&(Gt=mt.serializer.deserialize(Gt)),Gt=F(Gt,Xt.key,Ht+1),Gt!==void 0){ht(Gt);return}}ht()},function(wt,yt){st(yt)})})}).catch(st)});return w(ot,Q),ot}function qe(F,Q,V,ot){var ht=this;F=x(F);var st=new g(function(mt,bt){ht.ready().then(function(){Q===void 0&&(Q=null);var wt=Q,yt=ht._dbInfo;yt.serializer.serialize(Q,function(_t,Ot){Ot?bt(Ot):yt.db.transaction(function(Ht){oe(Ht,yt,"INSERT OR REPLACE INTO "+yt.storeName+" (key, value) VALUES (?, ?)",[F,_t],function(){mt(wt)},function(Xt,Gt){bt(Gt)})},function(Ht){if(Ht.code===Ht.QUOTA_ERR){if(ot>0){mt(qe.apply(ht,[F,wt,V,ot-1]));return}bt(Ht)}})})}).catch(bt)});return w(st,V),st}function De(F,Q,V){return qe.apply(this,[F,Q,V,1])}function rr(F,Q){var V=this;F=x(F);var ot=new g(function(ht,st){V.ready().then(function(){var mt=V._dbInfo;mt.db.transaction(function(bt){oe(bt,mt,"DELETE FROM "+mt.storeName+" WHERE key = ?",[F],function(){ht()},function(wt,yt){st(yt)})})}).catch(st)});return w(ot,Q),ot}function kr(F){var Q=this,V=new g(function(ot,ht){Q.ready().then(function(){var st=Q._dbInfo;st.db.transaction(function(mt){oe(mt,st,"DELETE FROM "+st.storeName,[],function(){ot()},function(bt,wt){ht(wt)})})}).catch(ht)});return w(V,F),V}function pe(F){var Q=this,V=new g(function(ot,ht){Q.ready().then(function(){var st=Q._dbInfo;st.db.transaction(function(mt){oe(mt,st,"SELECT COUNT(key) as c FROM "+st.storeName,[],function(bt,wt){var yt=wt.rows.item(0).c;ot(yt)},function(bt,wt){ht(wt)})})}).catch(ht)});return w(V,F),V}function qn(F,Q){var V=this,ot=new g(function(ht,st){V.ready().then(function(){var mt=V._dbInfo;mt.db.transaction(function(bt){oe(bt,mt,"SELECT key FROM "+mt.storeName+" WHERE id = ? LIMIT 1",[F+1],function(wt,yt){var _t=yt.rows.length?yt.rows.item(0).key:null;ht(_t)},function(wt,yt){st(yt)})})}).catch(st)});return w(ot,Q),ot}function fr(F){var Q=this,V=new g(function(ot,ht){Q.ready().then(function(){var st=Q._dbInfo;st.db.transaction(function(mt){oe(mt,st,"SELECT key FROM "+st.storeName,[],function(bt,wt){for(var yt=[],_t=0;_t<wt.rows.length;_t++)yt.push(wt.rows.item(_t).key);ot(yt)},function(bt,wt){ht(wt)})})}).catch(ht)});return w(V,F),V}function Kn(F){return new g(function(Q,V){F.transaction(function(ot){ot.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(ht,st){for(var mt=[],bt=0;bt<st.rows.length;bt++)mt.push(st.rows.item(bt).name);Q({db:F,storeNames:mt})},function(ht,st){V(st)})},function(ot){V(ot)})})}function Dd(F,Q){Q=_.apply(this,arguments);var V=this.config();F=typeof F!="function"&&F||{},F.name||(F.name=F.name||V.name,F.storeName=F.storeName||V.storeName);var ot=this,ht;return F.name?ht=new g(function(st){var mt;F.name===V.name?mt=ot._dbInfo.db:mt=openDatabase(F.name,"","",0),F.storeName?st({db:mt,storeNames:[F.storeName]}):st(Kn(mt))}).then(function(st){return new g(function(mt,bt){st.db.transaction(function(wt){function yt(Xt){return new g(function(Gt,ce){wt.executeSql("DROP TABLE IF EXISTS "+Xt,[],function(){Gt()},function(le,Le){ce(Le)})})}for(var _t=[],Ot=0,Ht=st.storeNames.length;Ot<Ht;Ot++)_t.push(yt(st.storeNames[Ot]));g.all(_t).then(function(){mt()}).catch(function(Xt){bt(Xt)})},function(wt){bt(wt)})})}):ht=g.reject("Invalid arguments"),w(ht,Q),ht}var Ld={_driver:"webSQLStorage",_initStorage:ge,_support:G(),iterate:er,getItem:Ae,setItem:De,removeItem:rr,clear:kr,length:pe,key:qn,keys:fr,dropInstance:Dd};function Pd(){try{return typeof localStorage!="undefined"&&"setItem"in localStorage&&!!localStorage.setItem}catch(F){return!1}}function pa(F,Q){var V=F.name+"/";return F.storeName!==Q.storeName&&(V+=F.storeName+"/"),V}function Md(){var F="_localforage_support_test";try{return localStorage.setItem(F,!0),localStorage.removeItem(F),!1}catch(Q){return!0}}function zd(){return!Md()||localStorage.length>0}function Bd(F){var Q=this,V={};if(F)for(var ot in F)V[ot]=F[ot];return V.keyPrefix=pa(F,Q._defaultConfig),zd()?(Q._dbInfo=V,V.serializer=se,g.resolve()):g.reject()}function jd(F){var Q=this,V=Q.ready().then(function(){for(var ot=Q._dbInfo.keyPrefix,ht=localStorage.length-1;ht>=0;ht--){var st=localStorage.key(ht);st.indexOf(ot)===0&&localStorage.removeItem(st)}});return w(V,F),V}function Ud(F,Q){var V=this;F=x(F);var ot=V.ready().then(function(){var ht=V._dbInfo,st=localStorage.getItem(ht.keyPrefix+F);return st&&(st=ht.serializer.deserialize(st)),st});return w(ot,Q),ot}function Fd(F,Q){var V=this,ot=V.ready().then(function(){for(var ht=V._dbInfo,st=ht.keyPrefix,mt=st.length,bt=localStorage.length,wt=1,yt=0;yt<bt;yt++){var _t=localStorage.key(yt);if(_t.indexOf(st)===0){var Ot=localStorage.getItem(_t);if(Ot&&(Ot=ht.serializer.deserialize(Ot)),Ot=F(Ot,_t.substring(mt),wt++),Ot!==void 0)return Ot}}});return w(ot,Q),ot}function Wd(F,Q){var V=this,ot=V.ready().then(function(){var ht=V._dbInfo,st;try{st=localStorage.key(F)}catch(mt){st=null}return st&&(st=st.substring(ht.keyPrefix.length)),st});return w(ot,Q),ot}function $d(F){var Q=this,V=Q.ready().then(function(){for(var ot=Q._dbInfo,ht=localStorage.length,st=[],mt=0;mt<ht;mt++){var bt=localStorage.key(mt);bt.indexOf(ot.keyPrefix)===0&&st.push(bt.substring(ot.keyPrefix.length))}return st});return w(V,F),V}function Hd(F){var Q=this,V=Q.keys().then(function(ot){return ot.length});return w(V,F),V}function Vd(F,Q){var V=this;F=x(F);var ot=V.ready().then(function(){var ht=V._dbInfo;localStorage.removeItem(ht.keyPrefix+F)});return w(ot,Q),ot}function qd(F,Q,V){var ot=this;F=x(F);var ht=ot.ready().then(function(){Q===void 0&&(Q=null);var st=Q;return new g(function(mt,bt){var wt=ot._dbInfo;wt.serializer.serialize(Q,function(yt,_t){if(_t)bt(_t);else try{localStorage.setItem(wt.keyPrefix+F,yt),mt(st)}catch(Ot){(Ot.name==="QuotaExceededError"||Ot.name==="NS_ERROR_DOM_QUOTA_REACHED")&&bt(Ot),bt(Ot)}})})});return w(ht,V),ht}function Kd(F,Q){if(Q=_.apply(this,arguments),F=typeof F!="function"&&F||{},!F.name){var V=this.config();F.name=F.name||V.name,F.storeName=F.storeName||V.storeName}var ot=this,ht;return F.name?ht=new g(function(st){F.storeName?st(pa(F,ot._defaultConfig)):st(F.name+"/")}).then(function(st){for(var mt=localStorage.length-1;mt>=0;mt--){var bt=localStorage.key(mt);bt.indexOf(st)===0&&localStorage.removeItem(bt)}}):ht=g.reject("Invalid arguments"),w(ht,Q),ht}var Yd={_driver:"localStorageWrapper",_initStorage:Bd,_support:Pd(),iterate:Fd,getItem:Ud,setItem:qd,removeItem:Vd,clear:jd,length:Hd,key:Wd,keys:$d,dropInstance:Kd},Xd=function(Q,V){return Q===V||typeof Q=="number"&&typeof V=="number"&&isNaN(Q)&&isNaN(V)},Zd=function(Q,V){for(var ot=Q.length,ht=0;ht<ot;){if(Xd(Q[ht],V))return!0;ht++}return!1},ga=Array.isArray||function(F){return Object.prototype.toString.call(F)==="[object Array]"},an={},ma={},Br={INDEXEDDB:W,WEBSQL:Ld,LOCALSTORAGE:Yd},Gd=[Br.INDEXEDDB._driver,Br.WEBSQL._driver,Br.LOCALSTORAGE._driver],Yn=["dropInstance"],Gi=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Yn),Jd={description:"",driver:Gd.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Qd(F,Q){F[Q]=function(){var V=arguments;return F.ready().then(function(){return F[Q].apply(F,V)})}}function Ji(){for(var F=1;F<arguments.length;F++){var Q=arguments[F];if(Q)for(var V in Q)Q.hasOwnProperty(V)&&(ga(Q[V])?arguments[0][V]=Q[V].slice():arguments[0][V]=Q[V])}return arguments[0]}var tf=function(){function F(Q){o(this,F);for(var V in Br)if(Br.hasOwnProperty(V)){var ot=Br[V],ht=ot._driver;this[V]=ht,an[ht]||this.defineDriver(ot)}this._defaultConfig=Ji({},Jd),this._config=Ji({},this._defaultConfig,Q),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return F.prototype.config=function(V){if((typeof V=="undefined"?"undefined":y(V))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var ot in V){if(ot==="storeName"&&(V[ot]=V[ot].replace(/\W/g,"_")),ot==="version"&&typeof V[ot]!="number")return new Error("Database version must be a number.");this._config[ot]=V[ot]}return"driver"in V&&V.driver?this.setDriver(this._config.driver):!0}else return typeof V=="string"?this._config[V]:this._config},F.prototype.defineDriver=function(V,ot,ht){var st=new g(function(mt,bt){try{var wt=V._driver,yt=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!V._driver){bt(yt);return}for(var _t=Gi.concat("_initStorage"),Ot=0,Ht=_t.length;Ot<Ht;Ot++){var Xt=_t[Ot],Gt=!Zd(Yn,Xt);if((Gt||V[Xt])&&typeof V[Xt]!="function"){bt(yt);return}}var ce=function(){for(var ln=function(nf){return function(){var sf=new Error("Method "+nf+" is not implemented by the current driver"),va=g.reject(sf);return w(va,arguments[arguments.length-1]),va}},Qi=0,rf=Yn.length;Qi<rf;Qi++){var ts=Yn[Qi];V[ts]||(V[ts]=ln(ts))}};ce();var le=function(ln){an[wt]&&console.info("Redefining LocalForage driver: "+wt),an[wt]=V,ma[wt]=ln,mt()};"_support"in V?V._support&&typeof V._support=="function"?V._support().then(le,bt):le(!!V._support):le(!0)}catch(Le){bt(Le)}});return h(st,ot,ht),st},F.prototype.driver=function(){return this._driver||null},F.prototype.getDriver=function(V,ot,ht){var st=an[V]?g.resolve(an[V]):g.reject(new Error("Driver not found."));return h(st,ot,ht),st},F.prototype.getSerializer=function(V){var ot=g.resolve(se);return h(ot,V),ot},F.prototype.ready=function(V){var ot=this,ht=ot._driverSet.then(function(){return ot._ready===null&&(ot._ready=ot._initDriver()),ot._ready});return h(ht,V,V),ht},F.prototype.setDriver=function(V,ot,ht){var st=this;ga(V)||(V=[V]);var mt=this._getSupportedDrivers(V);function bt(){st._config.driver=st.driver()}function wt(Ot){return st._extend(Ot),bt(),st._ready=st._initStorage(st._config),st._ready}function yt(Ot){return function(){var Ht=0;function Xt(){for(;Ht<Ot.length;){var Gt=Ot[Ht];return Ht++,st._dbInfo=null,st._ready=null,st.getDriver(Gt).then(wt).catch(Xt)}bt();var ce=new Error("No available storage method found.");return st._driverSet=g.reject(ce),st._driverSet}return Xt()}}var _t=this._driverSet!==null?this._driverSet.catch(function(){return g.resolve()}):g.resolve();return this._driverSet=_t.then(function(){var Ot=mt[0];return st._dbInfo=null,st._ready=null,st.getDriver(Ot).then(function(Ht){st._driver=Ht._driver,bt(),st._wrapLibraryMethodsWithReady(),st._initDriver=yt(mt)})}).catch(function(){bt();var Ot=new Error("No available storage method found.");return st._driverSet=g.reject(Ot),st._driverSet}),h(this._driverSet,ot,ht),this._driverSet},F.prototype.supports=function(V){return!!ma[V]},F.prototype._extend=function(V){Ji(this,V)},F.prototype._getSupportedDrivers=function(V){for(var ot=[],ht=0,st=V.length;ht<st;ht++){var mt=V[ht];this.supports(mt)&&ot.push(mt)}return ot},F.prototype._wrapLibraryMethodsWithReady=function(){for(var V=0,ot=Gi.length;V<ot;V++)Qd(this,Gi[V])},F.prototype.createInstance=function(V){return new F(V)},F}(),ef=new tf;T.exports=ef},{3:3}]},{},[4])(4)})}).call(this,n(17))},function(a,i,n){var c=n(3),d=n.n(c),u=n(0),T=n(5),E=n(4),y=n(2),o=n(6),l=n(8);function b(q,p,S,L){var M=typeof window!="undefined"?window.URL:!1,X=M?"blob":"arraybuffer",J=new u.defer,lt=new XMLHttpRequest,vt=XMLHttpRequest.prototype,Tt;"overrideMimeType"in vt||Object.defineProperty(vt,"overrideMimeType",{value:function(){}}),S&&(lt.withCredentials=!0),lt.onreadystatechange=Lt,lt.onerror=At,lt.open("GET",q,!0);for(Tt in L)lt.setRequestHeader(Tt,L[Tt]);p=="json"&&lt.setRequestHeader("Accept","application/json"),p||(p=new E.a(q).extension),p=="blob"&&(lt.responseType=X),Object(u.isXml)(p)&&lt.overrideMimeType("text/xml"),p=="binary"&&(lt.responseType="arraybuffer"),lt.send();function At(It){J.reject(It)}function Lt(){if(this.readyState===XMLHttpRequest.DONE){var It=!1;if((this.responseType===""||this.responseType==="document")&&(It=this.responseXML),this.status===200||this.status===0||It){var Ut;if(!this.response&&!It)return J.reject({status:this.status,message:"Empty Response",stack:new Error().stack}),J.promise;if(this.status===403)return J.reject({status:this.status,response:this.response,message:"Forbidden",stack:new Error().stack}),J.promise;It?Ut=this.responseXML:Object(u.isXml)(p)?Ut=Object(u.parse)(this.response,"text/xml"):p=="xhtml"?Ut=Object(u.parse)(this.response,"application/xhtml+xml"):p=="html"||p=="htm"?Ut=Object(u.parse)(this.response,"text/html"):p=="json"?Ut=JSON.parse(this.response):p=="blob"?M?Ut=this.response:Ut=new Blob([this.response]):Ut=this.response,J.resolve(Ut)}else J.reject({status:this.status,message:this.response,stack:new Error().stack})}}return J.promise}var s=b,v=n(15);class g{constructor(p,S){this.idref=p.idref,this.linear=p.linear==="yes",this.properties=p.properties,this.index=p.index,this.href=p.href,this.url=p.url,this.canonical=p.canonical,this.next=p.next,this.prev=p.prev,this.cfiBase=p.cfiBase,S?this.hooks=S:(this.hooks={},this.hooks.serialize=new o.a(this),this.hooks.content=new o.a(this)),this.document=void 0,this.contents=void 0,this.output=void 0}load(p){var S=p||this.request||s,L=new u.defer,M=L.promise;return this.contents?L.resolve(this.contents):S(this.url).then(function(X){return this.document=X,this.contents=X.documentElement,this.hooks.content.trigger(this.document,this)}.bind(this)).then(function(){L.resolve(this.contents)}.bind(this)).catch(function(X){L.reject(X)}),M}base(){return Object(l.a)(this.document,this)}render(p){var S=new u.defer,L=S.promise;return this.output,this.load(p).then(function(M){var X=typeof navigator!="undefined"&&navigator.userAgent||"",J=X.indexOf("Trident")>=0,lt;typeof XMLSerializer=="undefined"||J?lt=v.DOMParser:lt=XMLSerializer;var vt=new lt;return this.output=vt.serializeToString(M),this.output}.bind(this)).then(function(){return this.hooks.serialize.trigger(this.output,this)}.bind(this)).then(function(){S.resolve(this.output)}.bind(this)).catch(function(M){S.reject(M)}),L}find(p){var S=this,L=[],M=p.toLowerCase(),X=function(J){for(var lt=J.textContent.toLowerCase(),vt=S.document.createRange(),Tt,At,Lt=-1,It,Ut=150;At!=-1;)At=lt.indexOf(M,Lt+1),At!=-1&&(vt=S.document.createRange(),vt.setStart(J,At),vt.setEnd(J,At+M.length),Tt=S.cfiFromRange(vt),J.textContent.length<Ut?It=J.textContent:(It=J.textContent.substring(At-Ut/2,At+Ut/2),It="..."+It+"..."),L.push({cfi:Tt,excerpt:It})),Lt=At};return Object(u.sprint)(S.document,function(J){X(J)}),L}search(p,S=5){if(typeof document.createTreeWalker=="undefined")return this.find(p);let L=[];const M=150,X=this,J=p.toLowerCase(),lt=function(Lt){const zt=Lt.reduce((z,$)=>z+$.textContent,"").toLowerCase().indexOf(J);if(zt!=-1){const $=zt+J.length;let nt=0,ft=0;if(zt<Lt[0].length){let xt;for(;nt<Lt.length-1&&(ft+=Lt[nt].length,!($<=ft));)nt+=1;let Wt=Lt[0],Jt=Lt[nt],se=X.document.createRange();se.setStart(Wt,zt);let Ne=Lt.slice(0,nt).reduce((oe,Ae)=>oe+Ae.textContent.length,0);se.setEnd(Jt,Ne>$?$:$-Ne),xt=X.cfiFromRange(se);let ge=Lt.slice(0,nt+1).reduce((oe,Ae)=>oe+Ae.textContent,"");ge.length>M&&(ge=ge.substring(zt-M/2,zt+M/2),ge="..."+ge+"..."),L.push({cfi:xt,excerpt:ge})}}},vt=document.createTreeWalker(X.document,NodeFilter.SHOW_TEXT,null,!1);let Tt,At=[];for(;Tt=vt.nextNode();)At.push(Tt),At.length==S&&(lt(At.slice(0,S)),At=At.slice(1,S));return At.length>0&&lt(At),L}reconcileLayoutSettings(p){var S={layout:p.layout,spread:p.spread,orientation:p.orientation};return this.properties.forEach(function(L){var M=L.replace("rendition:",""),X=M.indexOf("-"),J,lt;X!=-1&&(J=M.slice(0,X),lt=M.slice(X+1),S[J]=lt)}),S}cfiFromRange(p){return new y.a(p,this.cfiBase).toString()}cfiFromElement(p){return new y.a(p,this.cfiBase).toString()}unload(){this.document=void 0,this.contents=void 0,this.output=void 0}destroy(){this.unload(),this.hooks.serialize.clear(),this.hooks.content.clear(),this.hooks=void 0,this.idref=void 0,this.linear=void 0,this.properties=void 0,this.index=void 0,this.href=void 0,this.url=void 0,this.next=void 0,this.prev=void 0,this.cfiBase=void 0}}var w=g;class h{constructor(){this.spineItems=[],this.spineByHref={},this.spineById={},this.hooks={},this.hooks.serialize=new o.a,this.hooks.content=new o.a,this.hooks.content.register(l.a),this.hooks.content.register(l.b),this.hooks.content.register(l.d),this.epubcfi=new y.a,this.loaded=!1,this.items=void 0,this.manifest=void 0,this.spineNodeIndex=void 0,this.baseUrl=void 0,this.length=void 0}unpack(p,S,L){this.items=p.spine,this.manifest=p.manifest,this.spineNodeIndex=p.spineNodeIndex,this.baseUrl=p.baseUrl||p.basePath||"",this.length=this.items.length,this.items.forEach((M,X)=>{var J=this.manifest[M.idref],lt;M.index=X,M.cfiBase=this.epubcfi.generateChapterComponent(this.spineNodeIndex,M.index,M.id),M.href&&(M.url=S(M.href,!0),M.canonical=L(M.href)),J&&(M.href=J.href,M.url=S(M.href,!0),M.canonical=L(M.href),J.properties.length&&M.properties.push.apply(M.properties,J.properties)),M.linear==="yes"?(M.prev=function(){let vt=M.index;for(;vt>0;){let Tt=this.get(vt-1);if(Tt&&Tt.linear)return Tt;vt-=1}}.bind(this),M.next=function(){let vt=M.index;for(;vt<this.spineItems.length-1;){let Tt=this.get(vt+1);if(Tt&&Tt.linear)return Tt;vt+=1}}.bind(this)):(M.prev=function(){},M.next=function(){}),lt=new w(M,this.hooks),this.append(lt)}),this.loaded=!0}get(p){var S=0;if(typeof p=="undefined")for(;S<this.spineItems.length;){let L=this.spineItems[S];if(L&&L.linear)break;S+=1}else this.epubcfi.isCfiString(p)?S=new y.a(p).spinePos:typeof p=="number"||isNaN(p)===!1?S=p:typeof p=="string"&&p.indexOf("#")===0?S=this.spineById[p.substring(1)]:typeof p=="string"&&(p=p.split("#")[0],S=this.spineByHref[p]||this.spineByHref[encodeURI(p)]);return this.spineItems[S]||null}append(p){var S=this.spineItems.length;return p.index=S,this.spineItems.push(p),this.spineByHref[decodeURI(p.href)]=S,this.spineByHref[encodeURI(p.href)]=S,this.spineByHref[p.href]=S,this.spineById[p.idref]=S,S}prepend(p){return this.spineByHref[p.href]=0,this.spineById[p.idref]=0,this.spineItems.forEach(function(S,L){S.index=L}),0}remove(p){var S=this.spineItems.indexOf(p);if(S>-1)return delete this.spineByHref[p.href],delete this.spineById[p.idref],this.spineItems.splice(S,1)}each(){return this.spineItems.forEach.apply(this.spineItems,arguments)}first(){let p=0;do{let S=this.get(p);if(S&&S.linear)return S;p+=1}while(p<this.spineItems.length)}last(){let p=this.spineItems.length-1;do{let S=this.get(p);if(S&&S.linear)return S;p-=1}while(p>=0)}destroy(){this.each(p=>p.destroy()),this.spineItems=void 0,this.spineByHref=void 0,this.spineById=void 0,this.hooks.serialize.clear(),this.hooks.content.clear(),this.hooks=void 0,this.epubcfi=void 0,this.loaded=!1,this.items=void 0,this.manifest=void 0,this.spineNodeIndex=void 0,this.baseUrl=void 0,this.length=void 0}}var x=h,_=n(9),f=n(1);class k{constructor(p,S,L){this.spine=p,this.request=S,this.pause=L||100,this.q=new _.a(this),this.epubcfi=new y.a,this._locations=[],this._locationsWords=[],this.total=0,this.break=150,this._current=0,this._wordCounter=0,this.currentLocation="",this._currentCfi="",this.processingTimeout=void 0}generate(p){return p&&(this.break=p),this.q.pause(),this.spine.each(function(S){S.linear&&this.q.enqueue(this.process.bind(this),S)}.bind(this)),this.q.run().then(function(){return this.total=this._locations.length-1,this._currentCfi&&(this.currentLocation=this._currentCfi),this._locations}.bind(this))}createRange(){return{startContainer:void 0,startOffset:void 0,endContainer:void 0,endOffset:void 0}}process(p){return p.load(this.request).then(function(S){var L=new u.defer,M=this.parse(S,p.cfiBase);return this._locations=this._locations.concat(M),p.unload(),this.processingTimeout=setTimeout(()=>L.resolve(M),this.pause),L.promise}.bind(this))}parse(p,S,L){var M=[],X,J=p.ownerDocument,lt=Object(u.qs)(J,"body"),vt=0,Tt,At=L||this.break,Lt=function(It){var Ut=It.length,zt,z=0;if(It.textContent.trim().length===0)return!1;for(vt==0&&(X=this.createRange(),X.startContainer=It,X.startOffset=0),zt=At-vt,zt>Ut&&(vt+=Ut,z=Ut);z<Ut;)if(zt=At-vt,vt===0&&(z+=1,X=this.createRange(),X.startContainer=It,X.startOffset=z),z+zt>=Ut)vt+=Ut-z,z=Ut;else{z+=zt,X.endContainer=It,X.endOffset=z;let $=new y.a(X,S).toString();M.push($),vt=0}Tt=It};if(Object(u.sprint)(lt,Lt.bind(this)),X&&X.startContainer&&Tt){X.endContainer=Tt,X.endOffset=Tt.length;let It=new y.a(X,S).toString();M.push(It),vt=0}return M}generateFromWords(p,S,L){var M=p?new y.a(p):void 0;return this.q.pause(),this._locationsWords=[],this._wordCounter=0,this.spine.each(function(X){X.linear&&(M?X.index>=M.spinePos&&this.q.enqueue(this.processWords.bind(this),X,S,M,L):this.q.enqueue(this.processWords.bind(this),X,S,M,L))}.bind(this)),this.q.run().then(function(){return this._currentCfi&&(this.currentLocation=this._currentCfi),this._locationsWords}.bind(this))}processWords(p,S,L,M){return M&&this._locationsWords.length>=M?Promise.resolve():p.load(this.request).then(function(X){var J=new u.defer,lt=this.parseWords(X,p,S,L),vt=M-this._locationsWords.length;return this._locationsWords=this._locationsWords.concat(lt.length>=M?lt.slice(0,vt):lt),p.unload(),this.processingTimeout=setTimeout(()=>J.resolve(lt),this.pause),J.promise}.bind(this))}countWords(p){return p=p.replace(/(^\s*)|(\s*$)/gi,""),p=p.replace(/[ ]{2,}/gi," "),p=p.replace(/\n /,`
`),p.split(" ").length}parseWords(p,S,L,M){var X=S.cfiBase,J=[],lt=p.ownerDocument,vt=Object(u.qs)(lt,"body"),Tt=L,At=M?M.spinePos!==S.index:!0,Lt;M&&S.index===M.spinePos&&(Lt=M.findNode(M.range?M.path.steps.concat(M.start.steps):M.path.steps,p.ownerDocument));var It=function(Ut){if(!At)if(Ut===Lt)At=!0;else return!1;if(Ut.textContent.length<10&&Ut.textContent.trim().length===0)return!1;var zt=this.countWords(Ut.textContent),z,$=0;if(zt===0)return!1;for(z=Tt-this._wordCounter,z>zt&&(this._wordCounter+=zt,$=zt);$<zt;)if(z=Tt-this._wordCounter,$+z>=zt)this._wordCounter+=zt-$,$=zt;else{$+=z;let nt=new y.a(Ut,X);J.push({cfi:nt.toString(),wordCount:this._wordCounter}),this._wordCounter=0}};return Object(u.sprint)(vt,It.bind(this)),J}locationFromCfi(p){let S;return y.a.prototype.isCfiString(p)&&(p=new y.a(p)),this._locations.length===0?-1:(S=Object(u.locationOf)(p,this._locations,this.epubcfi.compare),S>this.total?this.total:S)}percentageFromCfi(p){if(this._locations.length===0)return null;var S=this.locationFromCfi(p);return this.percentageFromLocation(S)}percentageFromLocation(p){return!p||!this.total?0:p/this.total}cfiFromLocation(p){var S=-1;return typeof p!="number"&&(p=parseInt(p)),p>=0&&p<this._locations.length&&(S=this._locations[p]),S}cfiFromPercentage(p){let S;if(p>1&&console.warn("Normalize cfiFromPercentage value to between 0 - 1"),p>=1){let L=new y.a(this._locations[this.total]);return L.collapse(),L.toString()}return S=Math.ceil(this.total*p),this.cfiFromLocation(S)}load(p){return typeof p=="string"?this._locations=JSON.parse(p):this._locations=p,this.total=this._locations.length-1,this._locations}save(){return JSON.stringify(this._locations)}getCurrent(){return this._current}setCurrent(p){var S;if(typeof p=="string")this._currentCfi=p;else if(typeof p=="number")this._current=p;else return;this._locations.length!==0&&(typeof p=="string"?(S=this.locationFromCfi(p),this._current=S):S=p,this.emit(f.c.LOCATIONS.CHANGED,{percentage:this.percentageFromLocation(S)}))}get currentLocation(){return this._current}set currentLocation(p){this.setCurrent(p)}length(){return this._locations.length}destroy(){this.spine=void 0,this.request=void 0,this.pause=void 0,this.q.stop(),this.q=void 0,this.epubcfi=void 0,this._locations=void 0,this.total=void 0,this.break=void 0,this._current=void 0,this.currentLocation=void 0,this._currentCfi=void 0,clearTimeout(this.processingTimeout)}}d()(k.prototype);var A=k,D=n(7),C=n.n(D);class R{constructor(p){this.packagePath="",this.directory="",this.encoding="",p&&this.parse(p)}parse(p){var S;if(!p)throw new Error("Container File Not Found");if(S=Object(u.qs)(p,"rootfile"),!S)throw new Error("No RootFile Found");this.packagePath=S.getAttribute("full-path"),this.directory=C.a.dirname(this.packagePath),this.encoding=p.xmlEncoding}destroy(){this.packagePath=void 0,this.directory=void 0,this.encoding=void 0}}var I=R;class B{constructor(p){this.manifest={},this.navPath="",this.ncxPath="",this.coverPath="",this.spineNodeIndex=0,this.spine=[],this.metadata={},p&&this.parse(p)}parse(p){var S,L,M;if(!p)throw new Error("Package File Not Found");if(S=Object(u.qs)(p,"metadata"),!S)throw new Error("No Metadata Found");if(L=Object(u.qs)(p,"manifest"),!L)throw new Error("No Manifest Found");if(M=Object(u.qs)(p,"spine"),!M)throw new Error("No Spine Found");return this.manifest=this.parseManifest(L),this.navPath=this.findNavPath(L),this.ncxPath=this.findNcxPath(L,M),this.coverPath=this.findCoverPath(p),this.spineNodeIndex=Object(u.indexOfElementNode)(M),this.spine=this.parseSpine(M,this.manifest),this.uniqueIdentifier=this.findUniqueIdentifier(p),this.metadata=this.parseMetadata(S),this.metadata.direction=M.getAttribute("page-progression-direction"),{metadata:this.metadata,spine:this.spine,manifest:this.manifest,navPath:this.navPath,ncxPath:this.ncxPath,coverPath:this.coverPath,spineNodeIndex:this.spineNodeIndex}}parseMetadata(p){var S={};return S.title=this.getElementText(p,"title"),S.creator=this.getElementText(p,"creator"),S.description=this.getElementText(p,"description"),S.pubdate=this.getElementText(p,"date"),S.publisher=this.getElementText(p,"publisher"),S.identifier=this.getElementText(p,"identifier"),S.language=this.getElementText(p,"language"),S.rights=this.getElementText(p,"rights"),S.modified_date=this.getPropertyText(p,"dcterms:modified"),S.layout=this.getPropertyText(p,"rendition:layout"),S.orientation=this.getPropertyText(p,"rendition:orientation"),S.flow=this.getPropertyText(p,"rendition:flow"),S.viewport=this.getPropertyText(p,"rendition:viewport"),S.media_active_class=this.getPropertyText(p,"media:active-class"),S.spread=this.getPropertyText(p,"rendition:spread"),S}parseManifest(p){var S={},L=Object(u.qsa)(p,"item"),M=Array.prototype.slice.call(L);return M.forEach(function(X){var J=X.getAttribute("id"),lt=X.getAttribute("href")||"",vt=X.getAttribute("media-type")||"",Tt=X.getAttribute("media-overlay")||"",At=X.getAttribute("properties")||"";S[J]={href:lt,type:vt,overlay:Tt,properties:At.length?At.split(" "):[]}}),S}parseSpine(p,S){var L=[],M=Object(u.qsa)(p,"itemref"),X=Array.prototype.slice.call(M);return X.forEach(function(J,lt){var vt=J.getAttribute("idref"),Tt=J.getAttribute("properties")||"",At=Tt.length?Tt.split(" "):[],Lt={id:J.getAttribute("id"),idref:vt,linear:J.getAttribute("linear")||"yes",properties:At,index:lt};L.push(Lt)}),L}findUniqueIdentifier(p){var S=p.documentElement.getAttribute("unique-identifier");if(!S)return"";var L=p.getElementById(S);return L&&L.localName==="identifier"&&L.namespaceURI==="http://purl.org/dc/elements/1.1/"&&L.childNodes.length>0?L.childNodes[0].nodeValue.trim():""}findNavPath(p){var S=Object(u.qsp)(p,"item",{properties:"nav"});return S?S.getAttribute("href"):!1}findNcxPath(p,S){var L=Object(u.qsp)(p,"item",{"media-type":"application/x-dtbncx+xml"}),M;return L||(M=S.getAttribute("toc"),M&&(L=p.querySelector(`#${M}`))),L?L.getAttribute("href"):!1}findCoverPath(p){var S=Object(u.qs)(p,"package");S.getAttribute("version");var L=Object(u.qsp)(p,"item",{properties:"cover-image"});if(L)return L.getAttribute("href");var M=Object(u.qsp)(p,"meta",{name:"cover"});if(M){var X=M.getAttribute("content"),J=p.getElementById(X);return J?J.getAttribute("href"):""}else return!1}getElementText(p,S){var L=p.getElementsByTagNameNS("http://purl.org/dc/elements/1.1/",S),M;return!L||L.length===0?"":(M=L[0],M.childNodes.length?M.childNodes[0].nodeValue:"")}getPropertyText(p,S){var L=Object(u.qsp)(p,"meta",{property:S});return L&&L.childNodes.length?L.childNodes[0].nodeValue:""}load(p){this.metadata=p.metadata;let S=p.readingOrder||p.spine;return this.spine=S.map((L,M)=>(L.index=M,L.linear=L.linear||"yes",L)),p.resources.forEach((L,M)=>{this.manifest[M]=L,L.rel&&L.rel[0]==="cover"&&(this.coverPath=L.href)}),this.spineNodeIndex=0,this.toc=p.toc.map((L,M)=>(L.label=L.title,L)),{metadata:this.metadata,spine:this.spine,manifest:this.manifest,navPath:this.navPath,ncxPath:this.ncxPath,coverPath:this.coverPath,spineNodeIndex:this.spineNodeIndex,toc:this.toc}}destroy(){this.manifest=void 0,this.navPath=void 0,this.ncxPath=void 0,this.coverPath=void 0,this.spineNodeIndex=void 0,this.spine=void 0,this.metadata=void 0}}var O=B;class H{constructor(p){this.toc=[],this.tocByHref={},this.tocById={},this.landmarks=[],this.landmarksByType={},this.length=0,p&&this.parse(p)}parse(p){let S=p.nodeType,L,M;S&&(L=Object(u.qs)(p,"html"),M=Object(u.qs)(p,"ncx")),S?L?(this.toc=this.parseNav(p),this.landmarks=this.parseLandmarks(p)):M&&(this.toc=this.parseNcx(p)):this.toc=this.load(p),this.length=0,this.unpack(this.toc)}unpack(p){for(var S,L=0;L<p.length;L++)S=p[L],S.href&&(this.tocByHref[S.href]=L),S.id&&(this.tocById[S.id]=L),this.length++,S.subitems.length&&this.unpack(S.subitems)}get(p){var S;return p?(p.indexOf("#")===0?S=this.tocById[p.substring(1)]:p in this.tocByHref&&(S=this.tocByHref[p]),this.getByIndex(p,S,this.toc)):this.toc}getByIndex(p,S,L){if(L.length===0)return;const M=L[S];if(M&&(p===M.id||p===M.href))return M;{let X;for(let J=0;J<L.length&&(X=this.getByIndex(p,S,L[J].subitems),!X);++J);return X}}landmark(p){var S;return p?(S=this.landmarksByType[p],this.landmarks[S]):this.landmarks}parseNav(p){var S=Object(u.querySelectorByType)(p,"nav","toc"),L=[];if(!S)return L;let M=Object(u.filterChildren)(S,"ol",!0);return M&&(L=this.parseNavList(M)),L}parseNavList(p,S){const L=[];if(!p||!p.children)return L;for(let M=0;M<p.children.length;M++){const X=this.navItem(p.children[M],S);X&&L.push(X)}return L}navItem(p,S){let L=p.getAttribute("id")||void 0,M=Object(u.filterChildren)(p,"a",!0)||Object(u.filterChildren)(p,"span",!0);if(!M)return;let X=M.getAttribute("href")||"";L||(L=X);let J=M.textContent||"",lt=[],vt=Object(u.filterChildren)(p,"ol",!0);return vt&&(lt=this.parseNavList(vt,L)),{id:L,href:X,label:J,subitems:lt,parent:S}}parseLandmarks(p){var S=Object(u.querySelectorByType)(p,"nav","landmarks"),L=S?Object(u.qsa)(S,"li"):[],M=L.length,X,J=[],lt;if(!L||M===0)return J;for(X=0;X<M;++X)lt=this.landmarkItem(L[X]),lt&&(J.push(lt),this.landmarksByType[lt.type]=X);return J}landmarkItem(p){let S=Object(u.filterChildren)(p,"a",!0);if(!S)return;let L=S.getAttributeNS("http://www.idpf.org/2007/ops","type")||void 0,M=S.getAttribute("href")||"",X=S.textContent||"";return{href:M,label:X,type:L}}parseNcx(p){var S=Object(u.qsa)(p,"navPoint"),L=S.length,M,X={},J=[],lt,vt;if(!S||L===0)return J;for(M=0;M<L;++M)lt=this.ncxItem(S[M]),X[lt.id]=lt,lt.parent?(vt=X[lt.parent],vt.subitems.push(lt)):J.push(lt);return J}ncxItem(p){var S=p.getAttribute("id")||!1,L=Object(u.qs)(p,"content"),M=L.getAttribute("src"),X=Object(u.qs)(p,"navLabel"),J=X.textContent?X.textContent:"",lt=[],vt=p.parentNode,Tt;return vt&&(vt.nodeName==="navPoint"||vt.nodeName.split(":").slice(-1)[0]==="navPoint")&&(Tt=vt.getAttribute("id")),{id:S,href:M,label:J,subitems:lt,parent:Tt}}load(p){return p.map(S=>(S.label=S.title,S.subitems=S.children?this.load(S.children):[],S))}forEach(p){return this.toc.forEach(p)}}var tt=H,Y={application:{ecmascript:["es","ecma"],javascript:"js",ogg:"ogx",pdf:"pdf",postscript:["ps","ai","eps","epsi","epsf","eps2","eps3"],"rdf+xml":"rdf",smil:["smi","smil"],"xhtml+xml":["xhtml","xht"],xml:["xml","xsl","xsd","opf","ncx"],zip:"zip","x-httpd-eruby":"rhtml","x-latex":"latex","x-maker":["frm","maker","frame","fm","fb","book","fbdoc"],"x-object":"o","x-shockwave-flash":["swf","swfl"],"x-silverlight":"scr","epub+zip":"epub","font-tdpfr":"pfr","inkml+xml":["ink","inkml"],json:"json","jsonml+json":"jsonml","mathml+xml":"mathml","metalink+xml":"metalink",mp4:"mp4s","omdoc+xml":"omdoc",oxps:"oxps","vnd.amazon.ebook":"azw",widget:"wgt","x-dtbook+xml":"dtb","x-dtbresource+xml":"res","x-font-bdf":"bdf","x-font-ghostscript":"gsf","x-font-linux-psf":"psf","x-font-otf":"otf","x-font-pcf":"pcf","x-font-snf":"snf","x-font-ttf":["ttf","ttc"],"x-font-type1":["pfa","pfb","pfm","afm"],"x-font-woff":"woff","x-mobipocket-ebook":["prc","mobi"],"x-mspublisher":"pub","x-nzb":"nzb","x-tgif":"obj","xaml+xml":"xaml","xml-dtd":"dtd","xproc+xml":"xpl","xslt+xml":"xslt","internet-property-stream":"acx","x-compress":"z","x-compressed":"tgz","x-gzip":"gz"},audio:{flac:"flac",midi:["mid","midi","kar","rmi"],mpeg:["mpga","mpega","mp2","mp3","m4a","mp2a","m2a","m3a"],mpegurl:"m3u",ogg:["oga","ogg","spx"],"x-aiff":["aif","aiff","aifc"],"x-ms-wma":"wma","x-wav":"wav",adpcm:"adp",mp4:"mp4a",webm:"weba","x-aac":"aac","x-caf":"caf","x-matroska":"mka","x-pn-realaudio-plugin":"rmp",xm:"xm",mid:["mid","rmi"]},image:{gif:"gif",ief:"ief",jpeg:["jpeg","jpg","jpe"],pcx:"pcx",png:"png","svg+xml":["svg","svgz"],tiff:["tiff","tif"],"x-icon":"ico",bmp:"bmp",webp:"webp","x-pict":["pic","pct"],"x-tga":"tga","cis-cod":"cod"},text:{"cache-manifest":["manifest","appcache"],css:"css",csv:"csv",html:["html","htm","shtml","stm"],mathml:"mml",plain:["txt","text","brf","conf","def","list","log","in","bas"],richtext:"rtx","tab-separated-values":"tsv","x-bibtex":"bib"},video:{mpeg:["mpeg","mpg","mpe","m1v","m2v","mp2","mpa","mpv2"],mp4:["mp4","mp4v","mpg4"],quicktime:["qt","mov"],ogg:"ogv","vnd.mpegurl":["mxu","m4u"],"x-flv":"flv","x-la-asf":["lsf","lsx"],"x-mng":"mng","x-ms-asf":["asf","asx","asr"],"x-ms-wm":"wm","x-ms-wmv":"wmv","x-ms-wmx":"wmx","x-ms-wvx":"wvx","x-msvideo":"avi","x-sgi-movie":"movie","x-matroska":["mpv","mkv","mk3d","mks"],"3gpp2":"3g2",h261:"h261",h263:"h263",h264:"h264",jpeg:"jpgv",jpm:["jpm","jpgm"],mj2:["mj2","mjp2"],"vnd.ms-playready.media.pyv":"pyv","vnd.uvvu.mp4":["uvu","uvvu"],"vnd.vivo":"viv",webm:"webm","x-f4v":"f4v","x-m4v":"m4v","x-ms-vob":"vob","x-smv":"smv"}},at=function(){var q,p,S,L,M={};for(q in Y)if(Y.hasOwnProperty(q)){for(p in Y[q])if(Y[q].hasOwnProperty(p))if(S=Y[q][p],typeof S=="string")M[S]=q+"/"+p;else for(L=0;L<S.length;L++)M[S[L]]=q+"/"+p}return M}(),rt="text/plain";function ut(q){return q&&at[q.split(".").pop().toLowerCase()]||rt}var Z={lookup:ut};class et{constructor(p,S){this.settings={replacements:S&&S.replacements||"base64",archive:S&&S.archive,resolver:S&&S.resolver,request:S&&S.request},this.process(p)}process(p){this.manifest=p,this.resources=Object.keys(p).map(function(S){return p[S]}),this.replacementUrls=[],this.html=[],this.assets=[],this.css=[],this.urls=[],this.cssUrls=[],this.split(),this.splitUrls()}split(){this.html=this.resources.filter(function(p){if(p.type==="application/xhtml+xml"||p.type==="text/html")return!0}),this.assets=this.resources.filter(function(p){if(p.type!=="application/xhtml+xml"&&p.type!=="text/html")return!0}),this.css=this.resources.filter(function(p){if(p.type==="text/css")return!0})}splitUrls(){this.urls=this.assets.map(function(p){return p.href}.bind(this)),this.cssUrls=this.css.map(function(p){return p.href})}createUrl(p){var S=new T.a(p),L=Z.lookup(S.filename);return this.settings.archive?this.settings.archive.createUrl(p,{base64:this.settings.replacements==="base64"}):this.settings.replacements==="base64"?this.settings.request(p,"blob").then(M=>Object(u.blob2base64)(M)).then(M=>Object(u.createBase64Url)(M,L)):this.settings.request(p,"blob").then(M=>Object(u.createBlobUrl)(M,L))}replacements(){if(this.settings.replacements==="none")return new Promise(function(S){S(this.urls)}.bind(this));var p=this.urls.map(S=>{var L=this.settings.resolver(S);return this.createUrl(L).catch(M=>(console.error(M),null))});return Promise.all(p).then(S=>(this.replacementUrls=S.filter(L=>typeof L=="string"),S))}replaceCss(p,S){var L=[];return p=p||this.settings.archive,S=S||this.settings.resolver,this.cssUrls.forEach(function(M){var X=this.createCssFile(M,p,S).then(function(J){var lt=this.urls.indexOf(M);lt>-1&&(this.replacementUrls[lt]=J)}.bind(this));L.push(X)}.bind(this)),Promise.all(L)}createCssFile(p){var S;if(C.a.isAbsolute(p))return new Promise(function(J){J()});var L=this.settings.resolver(p),M;this.settings.archive?M=this.settings.archive.getText(L):M=this.settings.request(L,"text");var X=this.urls.map(J=>{var lt=this.settings.resolver(J),vt=new E.a(L).relative(lt);return vt});return M?M.then(J=>(J=Object(l.e)(J,X,this.replacementUrls),this.settings.replacements==="base64"?S=Object(u.createBase64Url)(J,"text/css"):S=Object(u.createBlobUrl)(J,"text/css"),S),J=>new Promise(function(lt){lt()})):new Promise(function(J){J()})}relativeTo(p,S){return S=S||this.settings.resolver,this.urls.map(function(L){var M=S(L),X=new E.a(p).relative(M);return X}.bind(this))}get(p){var S=this.urls.indexOf(p);if(S!==-1)return this.replacementUrls.length?new Promise(function(L,M){L(this.replacementUrls[S])}.bind(this)):this.createUrl(p)}substitute(p,S){var L;return S?L=this.relativeTo(S):L=this.urls,Object(l.e)(p,L,this.replacementUrls)}destroy(){this.settings=void 0,this.manifest=void 0,this.resources=void 0,this.replacementUrls=void 0,this.html=void 0,this.assets=void 0,this.css=void 0,this.urls=void 0,this.cssUrls=void 0}}var gt=et;class pt{constructor(p){this.pages=[],this.locations=[],this.epubcfi=new y.a,this.firstPage=0,this.lastPage=0,this.totalPages=0,this.toc=void 0,this.ncx=void 0,p&&(this.pageList=this.parse(p)),this.pageList&&this.pageList.length&&this.process(this.pageList)}parse(p){var S=Object(u.qs)(p,"html"),L=Object(u.qs)(p,"ncx");if(S)return this.parseNav(p);if(L)return this.parseNcx(p)}parseNav(p){var S=Object(u.querySelectorByType)(p,"nav","page-list"),L=S?Object(u.qsa)(S,"li"):[],M=L.length,X,J=[],lt;if(!L||M===0)return J;for(X=0;X<M;++X)lt=this.item(L[X]),J.push(lt);return J}parseNcx(p){var S=[],L=0,M,X,J,lt=0;if(X=Object(u.qs)(p,"pageList"),!X||(J=Object(u.qsa)(X,"pageTarget"),lt=J.length,!J||J.length===0))return S;for(L=0;L<lt;++L)M=this.ncxItem(J[L]),S.push(M);return S}ncxItem(p){var S=Object(u.qs)(p,"navLabel"),L=Object(u.qs)(S,"text"),M=L.textContent,X=Object(u.qs)(p,"content"),J=X.getAttribute("src"),lt=parseInt(M,10);return{href:J,page:lt}}item(p){var S=Object(u.qs)(p,"a"),L=S.getAttribute("href")||"",M=S.textContent||"",X=parseInt(M),J=L.indexOf("epubcfi"),lt,vt,Tt;return J!=-1?(lt=L.split("#"),vt=lt[0],Tt=lt.length>1?lt[1]:!1,{cfi:Tt,href:L,packageUrl:vt,page:X}):{href:L,page:X}}process(p){p.forEach(function(S){this.pages.push(S.page),S.cfi&&this.locations.push(S.cfi)},this),this.firstPage=parseInt(this.pages[0]),this.lastPage=parseInt(this.pages[this.pages.length-1]),this.totalPages=this.lastPage-this.firstPage}pageFromCfi(p){var S=-1;if(this.locations.length===0)return-1;var L=Object(u.indexOfSorted)(p,this.locations,this.epubcfi.compare);return L!=-1?S=this.pages[L]:(L=Object(u.locationOf)(p,this.locations,this.epubcfi.compare),S=L-1>=0?this.pages[L-1]:this.pages[0],S!==void 0||(S=-1)),S}cfiFromPage(p){var S=-1;typeof p!="number"&&(p=parseInt(p));var L=this.pages.indexOf(p);return L!=-1&&(S=this.locations[L]),S}pageFromPercentage(p){var S=Math.round(this.totalPages*p);return S}percentageFromPage(p){var S=(p-this.firstPage)/this.totalPages;return Math.round(S*1e3)/1e3}percentageFromCfi(p){var S=this.pageFromCfi(p),L=this.percentageFromPage(S);return L}destroy(){this.pages=void 0,this.locations=void 0,this.epubcfi=void 0,this.pageList=void 0,this.toc=void 0,this.ncx=void 0}}var dt=pt,Et=n(16),St=n(29),Ct=n.n(St);class Rt{constructor(){this.zip=void 0,this.urlCache={},this.checkRequirements()}checkRequirements(){try{this.zip=new Ct.a}catch(p){throw new Error("JSZip lib not loaded")}}open(p,S){return this.zip.loadAsync(p,{base64:S})}openUrl(p,S){return s(p,"binary").then(function(L){return this.zip.loadAsync(L,{base64:S})}.bind(this))}request(p,S){var L=new u.defer,M,X=new E.a(p);return S||(S=X.extension),S=="blob"?M=this.getBlob(p):M=this.getText(p),M?M.then(function(J){let lt=this.handleResponse(J,S);L.resolve(lt)}.bind(this)):L.reject({message:"File not found in the epub: "+p,stack:new Error().stack}),L.promise}handleResponse(p,S){var L;return S=="json"?L=JSON.parse(p):Object(u.isXml)(S)?L=Object(u.parse)(p,"text/xml"):S=="xhtml"?L=Object(u.parse)(p,"application/xhtml+xml"):S=="html"||S=="htm"?L=Object(u.parse)(p,"text/html"):L=p,L}getBlob(p,S){var L=window.decodeURIComponent(p.substr(1)),M=this.zip.file(L);if(M)return S=S||Z.lookup(M.name),M.async("uint8array").then(function(X){return new Blob([X],{type:S})})}getText(p,S){var L=window.decodeURIComponent(p.substr(1)),M=this.zip.file(L);if(M)return M.async("string").then(function(X){return X})}getBase64(p,S){var L=window.decodeURIComponent(p.substr(1)),M=this.zip.file(L);if(M)return S=S||Z.lookup(M.name),M.async("base64").then(function(X){return"data:"+S+";base64,"+X})}createUrl(p,S){var L=new u.defer,M=window.URL||window.webkitURL||window.mozURL,X,J,lt=S&&S.base64;return p in this.urlCache?(L.resolve(this.urlCache[p]),L.promise):(lt?(J=this.getBase64(p),J&&J.then(function(vt){this.urlCache[p]=vt,L.resolve(vt)}.bind(this))):(J=this.getBlob(p),J&&J.then(function(vt){X=M.createObjectURL(vt),this.urlCache[p]=X,L.resolve(X)}.bind(this))),J||L.reject({message:"File not found in the epub: "+p,stack:new Error().stack}),L.promise)}revokeUrl(p){var S=window.URL||window.webkitURL||window.mozURL,L=this.urlCache[p];L&&S.revokeObjectURL(L)}destroy(){var p=window.URL||window.webkitURL||window.mozURL;for(let S in this.urlCache)p.revokeObjectURL(S);this.zip=void 0,this.urlCache={}}}var Dt=Rt,Nt=n(23),K=n.n(Nt);class it{constructor(p,S,L){this.urlCache={},this.storage=void 0,this.name=p,this.requester=S||s,this.resolver=L,this.online=!0,this.checkRequirements(),this.addListeners()}checkRequirements(){try{let p;typeof K.a=="undefined"&&(p=K.a),this.storage=p.createInstance({name:this.name})}catch(p){throw new Error("localForage lib not loaded")}}addListeners(){this._status=this.status.bind(this),window.addEventListener("online",this._status),window.addEventListener("offline",this._status)}removeListeners(){window.removeEventListener("online",this._status),window.removeEventListener("offline",this._status),this._status=void 0}status(p){let S=navigator.onLine;this.online=S,S?this.emit("online",this):this.emit("offline",this)}add(p,S){let L=p.resources.map(M=>{let{href:X}=M,J=this.resolver(X),lt=window.encodeURIComponent(J);return this.storage.getItem(lt).then(vt=>!vt||S?this.requester(J,"binary").then(Tt=>this.storage.setItem(lt,Tt)):vt)});return Promise.all(L)}put(p,S,L){let M=window.encodeURIComponent(p);return this.storage.getItem(M).then(X=>X||this.requester(p,"binary",S,L).then(J=>this.storage.setItem(M,J)))}request(p,S,L,M){return this.online?this.requester(p,S,L,M).then(X=>(this.put(p),X)):this.retrieve(p,S)}retrieve(p,S){new u.defer;var L,M=new E.a(p);return S||(S=M.extension),S=="blob"?L=this.getBlob(p):L=this.getText(p),L.then(X=>{var J=new u.defer,lt;return X?(lt=this.handleResponse(X,S),J.resolve(lt)):J.reject({message:"File not found in storage: "+p,stack:new Error().stack}),J.promise})}handleResponse(p,S){var L;return S=="json"?L=JSON.parse(p):Object(u.isXml)(S)?L=Object(u.parse)(p,"text/xml"):S=="xhtml"?L=Object(u.parse)(p,"application/xhtml+xml"):S=="html"||S=="htm"?L=Object(u.parse)(p,"text/html"):L=p,L}getBlob(p,S){let L=window.encodeURIComponent(p);return this.storage.getItem(L).then(function(M){if(M)return S=S||Z.lookup(p),new Blob([M],{type:S})})}getText(p,S){let L=window.encodeURIComponent(p);return S=S||Z.lookup(p),this.storage.getItem(L).then(function(M){var X=new u.defer,J=new FileReader,lt;if(M)return lt=new Blob([M],{type:S}),J.addEventListener("loadend",()=>{X.resolve(J.result)}),J.readAsText(lt,S),X.promise})}getBase64(p,S){let L=window.encodeURIComponent(p);return S=S||Z.lookup(p),this.storage.getItem(L).then(M=>{var X=new u.defer,J=new FileReader,lt;if(M)return lt=new Blob([M],{type:S}),J.addEventListener("loadend",()=>{X.resolve(J.result)}),J.readAsDataURL(lt,S),X.promise})}createUrl(p,S){var L=new u.defer,M=window.URL||window.webkitURL||window.mozURL,X,J,lt=S&&S.base64;return p in this.urlCache?(L.resolve(this.urlCache[p]),L.promise):(lt?(J=this.getBase64(p),J&&J.then(function(vt){this.urlCache[p]=vt,L.resolve(vt)}.bind(this))):(J=this.getBlob(p),J&&J.then(function(vt){X=M.createObjectURL(vt),this.urlCache[p]=X,L.resolve(X)}.bind(this))),J||L.reject({message:"File not found in storage: "+p,stack:new Error().stack}),L.promise)}revokeUrl(p){var S=window.URL||window.webkitURL||window.mozURL,L=this.urlCache[p];L&&S.revokeObjectURL(L)}destroy(){var p=window.URL||window.webkitURL||window.mozURL;for(let S in this.urlCache)p.revokeObjectURL(S);this.urlCache={},this.removeListeners()}}d()(it.prototype);var m=it;class U{constructor(p){this.interactive="",this.fixedLayout="",this.openToSpread="",this.orientationLock="",p&&this.parse(p)}parse(p){if(!p)return this;const S=Object(u.qs)(p,"display_options");return S?(Object(u.qsa)(S,"option").forEach(M=>{let X="";switch(M.childNodes.length&&(X=M.childNodes[0].nodeValue),M.attributes.name.value){case"interactive":this.interactive=X;break;case"fixed-layout":this.fixedLayout=X;break;case"open-to-spread":this.openToSpread=X;break;case"orientation-lock":this.orientationLock=X;break}}),this):this}destroy(){this.interactive=void 0,this.fixedLayout=void 0,this.openToSpread=void 0,this.orientationLock=void 0}}var j=U;const N="META-INF/container.xml",P="META-INF/com.apple.ibooks.display-options.xml",W={BINARY:"binary",BASE64:"base64",EPUB:"epub",OPF:"opf",MANIFEST:"json",DIRECTORY:"directory"};class G{constructor(p,S){typeof S=="undefined"&&typeof p!="string"&&!(p instanceof Blob)&&!(p instanceof ArrayBuffer)&&(S=p,p=void 0),this.settings=Object(u.extend)(this.settings||{},{requestMethod:void 0,requestCredentials:void 0,requestHeaders:void 0,encoding:void 0,replacements:void 0,canonical:void 0,openAs:void 0,store:void 0}),Object(u.extend)(this.settings,S),this.opening=new u.defer,this.opened=this.opening.promise,this.isOpen=!1,this.loading={manifest:new u.defer,spine:new u.defer,metadata:new u.defer,cover:new u.defer,navigation:new u.defer,pageList:new u.defer,resources:new u.defer,displayOptions:new u.defer},this.loaded={manifest:this.loading.manifest.promise,spine:this.loading.spine.promise,metadata:this.loading.metadata.promise,cover:this.loading.cover.promise,navigation:this.loading.navigation.promise,pageList:this.loading.pageList.promise,resources:this.loading.resources.promise,displayOptions:this.loading.displayOptions.promise},this.ready=Promise.all([this.loaded.manifest,this.loaded.spine,this.loaded.metadata,this.loaded.cover,this.loaded.navigation,this.loaded.resources,this.loaded.displayOptions]),this.isRendered=!1,this.request=this.settings.requestMethod||s,this.spine=new x,this.locations=new A(this.spine,this.load.bind(this)),this.navigation=void 0,this.pageList=void 0,this.url=void 0,this.path=void 0,this.archived=!1,this.archive=void 0,this.storage=void 0,this.resources=void 0,this.rendition=void 0,this.container=void 0,this.packaging=void 0,this.displayOptions=void 0,this.settings.store&&this.store(this.settings.store),p&&this.open(p,this.settings.openAs).catch(L=>{var M=new Error("Cannot load book at "+p);this.emit(f.c.BOOK.OPEN_FAILED,M)})}open(p,S){var L,M=S||this.determineType(p);return M===W.BINARY?(this.archived=!0,this.url=new T.a("/",""),L=this.openEpub(p)):M===W.BASE64?(this.archived=!0,this.url=new T.a("/",""),L=this.openEpub(p,M)):M===W.EPUB?(this.archived=!0,this.url=new T.a("/",""),L=this.request(p,"binary",this.settings.requestCredentials,this.settings.requestHeaders).then(this.openEpub.bind(this))):M==W.OPF?(this.url=new T.a(p),L=this.openPackaging(this.url.Path.toString())):M==W.MANIFEST?(this.url=new T.a(p),L=this.openManifest(this.url.Path.toString())):(this.url=new T.a(p),L=this.openContainer(N).then(this.openPackaging.bind(this))),L}openEpub(p,S){return this.unarchive(p,S||this.settings.encoding).then(()=>this.openContainer(N)).then(L=>this.openPackaging(L))}openContainer(p){return this.load(p).then(S=>(this.container=new I(S),this.resolve(this.container.packagePath)))}openPackaging(p){return this.path=new E.a(p),this.load(p).then(S=>(this.packaging=new O(S),this.unpack(this.packaging)))}openManifest(p){return this.path=new E.a(p),this.load(p).then(S=>(this.packaging=new O,this.packaging.load(S),this.unpack(this.packaging)))}load(p){var S=this.resolve(p);return this.archived?this.archive.request(S):this.request(S,null,this.settings.requestCredentials,this.settings.requestHeaders)}resolve(p,S){if(p){var L=p,M=p.indexOf("://")>-1;return M?p:(this.path&&(L=this.path.resolve(p)),S!=!1&&this.url&&(L=this.url.resolve(L)),L)}}canonical(p){var S=p;return p?(this.settings.canonical?S=this.settings.canonical(p):S=this.resolve(p,!0),S):""}determineType(p){var S,L,M;if(this.settings.encoding==="base64")return W.BASE64;if(typeof p!="string")return W.BINARY;if(S=new T.a(p),L=S.path(),M=L.extension,M&&(M=M.replace(/\?.*$/,"")),!M)return W.DIRECTORY;if(M==="epub")return W.EPUB;if(M==="opf")return W.OPF;if(M==="json")return W.MANIFEST}unpack(p){this.package=p,this.packaging.metadata.layout===""?this.load(this.url.resolve(P)).then(S=>{this.displayOptions=new j(S),this.loading.displayOptions.resolve(this.displayOptions)}).catch(S=>{this.displayOptions=new j,this.loading.displayOptions.resolve(this.displayOptions)}):(this.displayOptions=new j,this.loading.displayOptions.resolve(this.displayOptions)),this.spine.unpack(this.packaging,this.resolve.bind(this),this.canonical.bind(this)),this.resources=new gt(this.packaging.manifest,{archive:this.archive,resolver:this.resolve.bind(this),request:this.request.bind(this),replacements:this.settings.replacements||(this.archived?"blobUrl":"base64")}),this.loadNavigation(this.packaging).then(()=>{this.loading.navigation.resolve(this.navigation)}),this.packaging.coverPath&&(this.cover=this.resolve(this.packaging.coverPath)),this.loading.manifest.resolve(this.packaging.manifest),this.loading.metadata.resolve(this.packaging.metadata),this.loading.spine.resolve(this.spine),this.loading.cover.resolve(this.cover),this.loading.resources.resolve(this.resources),this.loading.pageList.resolve(this.pageList),this.isOpen=!0,this.archived||this.settings.replacements&&this.settings.replacements!="none"?this.replacements().then(()=>{this.loaded.displayOptions.then(()=>{this.opening.resolve(this)})}).catch(S=>{console.error(S)}):this.loaded.displayOptions.then(()=>{this.opening.resolve(this)})}loadNavigation(p){let S=p.navPath||p.ncxPath,L=p.toc;return L?new Promise((M,X)=>{this.navigation=new tt(L),p.pageList&&(this.pageList=new dt(p.pageList)),M(this.navigation)}):S?this.load(S,"xml").then(M=>(this.navigation=new tt(M),this.pageList=new dt(M),this.navigation)):new Promise((M,X)=>{this.navigation=new tt,this.pageList=new dt,M(this.navigation)})}section(p){return this.spine.get(p)}renderTo(p,S){return this.rendition=new Et.a(this,S),this.rendition.attachTo(p),this.rendition}setRequestCredentials(p){this.settings.requestCredentials=p}setRequestHeaders(p){this.settings.requestHeaders=p}unarchive(p,S){return this.archive=new Dt,this.archive.open(p,S)}store(p){let S=this.settings.replacements&&this.settings.replacements!=="none",L=this.url,M=this.settings.requestMethod||s.bind(this);return this.storage=new m(p,M,this.resolve.bind(this)),this.request=this.storage.request.bind(this.storage),this.opened.then(()=>{this.archived&&(this.storage.requester=this.archive.request.bind(this.archive));let X=(J,lt)=>{lt.output=this.resources.substitute(J,lt.url)};this.resources.settings.replacements=S||"blobUrl",this.resources.replacements().then(()=>this.resources.replaceCss()),this.storage.on("offline",()=>{this.url=new T.a("/",""),this.spine.hooks.serialize.register(X)}),this.storage.on("online",()=>{this.url=L,this.spine.hooks.serialize.deregister(X)})}),this.storage}coverUrl(){return this.loaded.cover.then(()=>this.cover?this.archived?this.archive.createUrl(this.cover):this.cover:null)}replacements(){return this.spine.hooks.serialize.register((p,S)=>{S.output=this.resources.substitute(p,S.url)}),this.resources.replacements().then(()=>this.resources.replaceCss())}getRange(p){var S=new y.a(p),L=this.spine.get(S.spinePos),M=this.load.bind(this);return L?L.load(M).then(function(X){var J=S.toRange(L.document);return J}):new Promise((X,J)=>{J("CFI could not be found")})}key(p){var S=p||this.packaging.metadata.identifier||this.url.filename;return`epubjs:${f.b}:${S}`}destroy(){this.opened=void 0,this.loading=void 0,this.loaded=void 0,this.ready=void 0,this.isOpen=!1,this.isRendered=!1,this.spine&&this.spine.destroy(),this.locations&&this.locations.destroy(),this.pageList&&this.pageList.destroy(),this.archive&&this.archive.destroy(),this.resources&&this.resources.destroy(),this.container&&this.container.destroy(),this.packaging&&this.packaging.destroy(),this.rendition&&this.rendition.destroy(),this.displayOptions&&this.displayOptions.destroy(),this.spine=void 0,this.locations=void 0,this.pageList=void 0,this.archive=void 0,this.resources=void 0,this.container=void 0,this.packaging=void 0,this.rendition=void 0,this.navigation=void 0,this.url=void 0,this.path=void 0,this.archived=!1}}d()(G.prototype),i.a=G},function(a,i,n){var c=n(14),d=c.NAMESPACE;function u(z){return z!==""}function T(z){return z?z.split(/[\t\n\f\r ]+/).filter(u):[]}function E(z,$){return z.hasOwnProperty($)||(z[$]=!0),z}function y(z){if(!z)return[];var $=T(z);return Object.keys($.reduce(E,{}))}function o(z){return function($){return z&&z.indexOf($)!==-1}}function l(z,$){for(var nt in z)$[nt]=z[nt]}function b(z,$){var nt=z.prototype;if(!(nt instanceof $)){let ft=function(){};ft.prototype=$.prototype,ft=new ft,l(nt,ft),z.prototype=nt=ft}nt.constructor!=z&&(typeof z!="function"&&console.error("unknown Class:"+z),nt.constructor=z)}var s={},v=s.ELEMENT_NODE=1,g=s.ATTRIBUTE_NODE=2,w=s.TEXT_NODE=3,h=s.CDATA_SECTION_NODE=4,x=s.ENTITY_REFERENCE_NODE=5,_=s.ENTITY_NODE=6,f=s.PROCESSING_INSTRUCTION_NODE=7,k=s.COMMENT_NODE=8,A=s.DOCUMENT_NODE=9,D=s.DOCUMENT_TYPE_NODE=10,C=s.DOCUMENT_FRAGMENT_NODE=11,R=s.NOTATION_NODE=12,I={},B={};I.INDEX_SIZE_ERR=(B[1]="Index size error",1),I.DOMSTRING_SIZE_ERR=(B[2]="DOMString size error",2);var O=I.HIERARCHY_REQUEST_ERR=(B[3]="Hierarchy request error",3);I.WRONG_DOCUMENT_ERR=(B[4]="Wrong document",4),I.INVALID_CHARACTER_ERR=(B[5]="Invalid character",5),I.NO_DATA_ALLOWED_ERR=(B[6]="No data allowed",6),I.NO_MODIFICATION_ALLOWED_ERR=(B[7]="No modification allowed",7);var H=I.NOT_FOUND_ERR=(B[8]="Not found",8);I.NOT_SUPPORTED_ERR=(B[9]="Not supported",9);var tt=I.INUSE_ATTRIBUTE_ERR=(B[10]="Attribute in use",10);I.INVALID_STATE_ERR=(B[11]="Invalid state",11),I.SYNTAX_ERR=(B[12]="Syntax error",12),I.INVALID_MODIFICATION_ERR=(B[13]="Invalid modification",13),I.NAMESPACE_ERR=(B[14]="Invalid namespace",14),I.INVALID_ACCESS_ERR=(B[15]="Invalid access",15);function Y(z,$){if($ instanceof Error)var nt=$;else nt=this,Error.call(this,B[z]),this.message=B[z],Error.captureStackTrace&&Error.captureStackTrace(this,Y);return nt.code=z,$&&(this.message=this.message+": "+$),nt}Y.prototype=Error.prototype,l(I,Y);function at(){}at.prototype={length:0,item:function(z){return this[z]||null},toString:function(z,$){for(var nt=[],ft=0;ft<this.length;ft++)Lt(this[ft],nt,z,$);return nt.join("")}};function rt(z,$){this._node=z,this._refresh=$,ut(this)}function ut(z){var $=z._node._inc||z._node.ownerDocument._inc;if(z._inc!=$){var nt=z._refresh(z._node);zt(z,"length",nt.length),l(nt,z),z._inc=$}}rt.prototype.item=function(z){return ut(this),this[z]},b(rt,at);function Z(){}function et(z,$){for(var nt=z.length;nt--;)if(z[nt]===$)return nt}function gt(z,$,nt,ft){if(ft?$[et($,ft)]=nt:$[$.length++]=nt,z){nt.ownerElement=z;var xt=z.ownerDocument;xt&&(ft&&Nt(xt,z,ft),Dt(xt,z,nt))}}function pt(z,$,nt){var ft=et($,nt);if(ft>=0){for(var xt=$.length-1;ft<xt;)$[ft]=$[++ft];if($.length=xt,z){var Wt=z.ownerDocument;Wt&&(Nt(Wt,z,nt),nt.ownerElement=null)}}else throw Y(H,new Error(z.tagName+"@"+nt))}Z.prototype={length:0,item:at.prototype.item,getNamedItem:function(z){for(var $=this.length;$--;){var nt=this[$];if(nt.nodeName==z)return nt}},setNamedItem:function(z){var $=z.ownerElement;if($&&$!=this._ownerElement)throw new Y(tt);var nt=this.getNamedItem(z.nodeName);return gt(this._ownerElement,this,z,nt),nt},setNamedItemNS:function(z){var $=z.ownerElement,nt;if($&&$!=this._ownerElement)throw new Y(tt);return nt=this.getNamedItemNS(z.namespaceURI,z.localName),gt(this._ownerElement,this,z,nt),nt},removeNamedItem:function(z){var $=this.getNamedItem(z);return pt(this._ownerElement,this,$),$},removeNamedItemNS:function(z,$){var nt=this.getNamedItemNS(z,$);return pt(this._ownerElement,this,nt),nt},getNamedItemNS:function(z,$){for(var nt=this.length;nt--;){var ft=this[nt];if(ft.localName==$&&ft.namespaceURI==z)return ft}return null}};function dt(){}dt.prototype={hasFeature:function(z,$){return!0},createDocument:function(z,$,nt){var ft=new Rt;if(ft.implementation=this,ft.childNodes=new at,ft.doctype=nt||null,nt&&ft.appendChild(nt),$){var xt=ft.createElementNS(z,$);ft.appendChild(xt)}return ft},createDocumentType:function(z,$,nt){var ft=new p;return ft.name=z,ft.nodeName=z,ft.publicId=$||"",ft.systemId=nt||"",ft}};function Et(){}Et.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(z,$){return m(this,z,$)},replaceChild:function(z,$){this.insertBefore(z,$),$&&this.removeChild($)},removeChild:function(z){return it(this,z)},appendChild:function(z){return this.insertBefore(z,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(z){return Ut(this.ownerDocument||this,this,z)},normalize:function(){for(var z=this.firstChild;z;){var $=z.nextSibling;$&&$.nodeType==w&&z.nodeType==w?(this.removeChild($),z.appendData($.data)):(z.normalize(),z=$)}},isSupported:function(z,$){return this.ownerDocument.implementation.hasFeature(z,$)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(z){for(var $=this;$;){var nt=$._nsMap;if(nt){for(var ft in nt)if(nt[ft]==z)return ft}$=$.nodeType==g?$.ownerDocument:$.parentNode}return null},lookupNamespaceURI:function(z){for(var $=this;$;){var nt=$._nsMap;if(nt&&z in nt)return nt[z];$=$.nodeType==g?$.ownerDocument:$.parentNode}return null},isDefaultNamespace:function(z){var $=this.lookupPrefix(z);return $==null}};function St(z){return z=="<"&&"&lt;"||z==">"&&"&gt;"||z=="&"&&"&amp;"||z=='"'&&"&quot;"||"&#"+z.charCodeAt()+";"}l(s,Et),l(s,Et.prototype);function Ct(z,$){if($(z))return!0;if(z=z.firstChild)do if(Ct(z,$))return!0;while(z=z.nextSibling)}function Rt(){}function Dt(z,$,nt){z&&z._inc++;var ft=nt.namespaceURI;ft===d.XMLNS&&($._nsMap[nt.prefix?nt.localName:""]=nt.value)}function Nt(z,$,nt,ft){z&&z._inc++;var xt=nt.namespaceURI;xt===d.XMLNS&&delete $._nsMap[nt.prefix?nt.localName:""]}function K(z,$,nt){if(z&&z._inc){z._inc++;var ft=$.childNodes;if(nt)ft[ft.length++]=nt;else{for(var xt=$.firstChild,Wt=0;xt;)ft[Wt++]=xt,xt=xt.nextSibling;ft.length=Wt}}}function it(z,$){var nt=$.previousSibling,ft=$.nextSibling;return nt?nt.nextSibling=ft:z.firstChild=ft,ft?ft.previousSibling=nt:z.lastChild=nt,K(z.ownerDocument,z),$}function m(z,$,nt){var ft=$.parentNode;if(ft&&ft.removeChild($),$.nodeType===C){var xt=$.firstChild;if(xt==null)return $;var Wt=$.lastChild}else xt=Wt=$;var Jt=nt?nt.previousSibling:z.lastChild;xt.previousSibling=Jt,Wt.nextSibling=nt,Jt?Jt.nextSibling=xt:z.firstChild=xt,nt==null?z.lastChild=Wt:nt.previousSibling=Wt;do xt.parentNode=z;while(xt!==Wt&&(xt=xt.nextSibling));return K(z.ownerDocument||z,z),$.nodeType==C&&($.firstChild=$.lastChild=null),$}function U(z,$){var nt=$.parentNode;if(nt){var ft=z.lastChild;nt.removeChild($);var ft=z.lastChild}var ft=z.lastChild;return $.parentNode=z,$.previousSibling=ft,$.nextSibling=null,ft?ft.nextSibling=$:z.firstChild=$,z.lastChild=$,K(z.ownerDocument,z,$),$}Rt.prototype={nodeName:"#document",nodeType:A,doctype:null,documentElement:null,_inc:1,insertBefore:function(z,$){if(z.nodeType==C){for(var nt=z.firstChild;nt;){var ft=nt.nextSibling;this.insertBefore(nt,$),nt=ft}return z}return this.documentElement==null&&z.nodeType==v&&(this.documentElement=z),m(this,z,$),z.ownerDocument=this,z},removeChild:function(z){return this.documentElement==z&&(this.documentElement=null),it(this,z)},importNode:function(z,$){return It(this,z,$)},getElementById:function(z){var $=null;return Ct(this.documentElement,function(nt){if(nt.nodeType==v&&nt.getAttribute("id")==z)return $=nt,!0}),$},getElementsByClassName:function(z){var $=y(z);return new rt(this,function(nt){var ft=[];return $.length>0&&Ct(nt.documentElement,function(xt){if(xt!==nt&&xt.nodeType===v){var Wt=xt.getAttribute("class");if(Wt){var Jt=z===Wt;if(!Jt){var se=y(Wt);Jt=$.every(o(se))}Jt&&ft.push(xt)}}}),ft})},createElement:function(z){var $=new j;$.ownerDocument=this,$.nodeName=z,$.tagName=z,$.localName=z,$.childNodes=new at;var nt=$.attributes=new Z;return nt._ownerElement=$,$},createDocumentFragment:function(){var z=new X;return z.ownerDocument=this,z.childNodes=new at,z},createTextNode:function(z){var $=new W;return $.ownerDocument=this,$.appendData(z),$},createComment:function(z){var $=new G;return $.ownerDocument=this,$.appendData(z),$},createCDATASection:function(z){var $=new q;return $.ownerDocument=this,$.appendData(z),$},createProcessingInstruction:function(z,$){var nt=new J;return nt.ownerDocument=this,nt.tagName=nt.target=z,nt.nodeValue=nt.data=$,nt},createAttribute:function(z){var $=new N;return $.ownerDocument=this,$.name=z,$.nodeName=z,$.localName=z,$.specified=!0,$},createEntityReference:function(z){var $=new M;return $.ownerDocument=this,$.nodeName=z,$},createElementNS:function(z,$){var nt=new j,ft=$.split(":"),xt=nt.attributes=new Z;return nt.childNodes=new at,nt.ownerDocument=this,nt.nodeName=$,nt.tagName=$,nt.namespaceURI=z,ft.length==2?(nt.prefix=ft[0],nt.localName=ft[1]):nt.localName=$,xt._ownerElement=nt,nt},createAttributeNS:function(z,$){var nt=new N,ft=$.split(":");return nt.ownerDocument=this,nt.nodeName=$,nt.name=$,nt.namespaceURI=z,nt.specified=!0,ft.length==2?(nt.prefix=ft[0],nt.localName=ft[1]):nt.localName=$,nt}},b(Rt,Et);function j(){this._nsMap={}}j.prototype={nodeType:v,hasAttribute:function(z){return this.getAttributeNode(z)!=null},getAttribute:function(z){var $=this.getAttributeNode(z);return $&&$.value||""},getAttributeNode:function(z){return this.attributes.getNamedItem(z)},setAttribute:function(z,$){var nt=this.ownerDocument.createAttribute(z);nt.value=nt.nodeValue=""+$,this.setAttributeNode(nt)},removeAttribute:function(z){var $=this.getAttributeNode(z);$&&this.removeAttributeNode($)},appendChild:function(z){return z.nodeType===C?this.insertBefore(z,null):U(this,z)},setAttributeNode:function(z){return this.attributes.setNamedItem(z)},setAttributeNodeNS:function(z){return this.attributes.setNamedItemNS(z)},removeAttributeNode:function(z){return this.attributes.removeNamedItem(z.nodeName)},removeAttributeNS:function(z,$){var nt=this.getAttributeNodeNS(z,$);nt&&this.removeAttributeNode(nt)},hasAttributeNS:function(z,$){return this.getAttributeNodeNS(z,$)!=null},getAttributeNS:function(z,$){var nt=this.getAttributeNodeNS(z,$);return nt&&nt.value||""},setAttributeNS:function(z,$,nt){var ft=this.ownerDocument.createAttributeNS(z,$);ft.value=ft.nodeValue=""+nt,this.setAttributeNode(ft)},getAttributeNodeNS:function(z,$){return this.attributes.getNamedItemNS(z,$)},getElementsByTagName:function(z){return new rt(this,function($){var nt=[];return Ct($,function(ft){ft!==$&&ft.nodeType==v&&(z==="*"||ft.tagName==z)&&nt.push(ft)}),nt})},getElementsByTagNameNS:function(z,$){return new rt(this,function(nt){var ft=[];return Ct(nt,function(xt){xt!==nt&&xt.nodeType===v&&(z==="*"||xt.namespaceURI===z)&&($==="*"||xt.localName==$)&&ft.push(xt)}),ft})}},Rt.prototype.getElementsByTagName=j.prototype.getElementsByTagName,Rt.prototype.getElementsByTagNameNS=j.prototype.getElementsByTagNameNS,b(j,Et);function N(){}N.prototype.nodeType=g,b(N,Et);function P(){}P.prototype={data:"",substringData:function(z,$){return this.data.substring(z,z+$)},appendData:function(z){z=this.data+z,this.nodeValue=this.data=z,this.length=z.length},insertData:function(z,$){this.replaceData(z,0,$)},appendChild:function(z){throw new Error(B[O])},deleteData:function(z,$){this.replaceData(z,$,"")},replaceData:function(z,$,nt){var ft=this.data.substring(0,z),xt=this.data.substring(z+$);nt=ft+nt+xt,this.nodeValue=this.data=nt,this.length=nt.length}},b(P,Et);function W(){}W.prototype={nodeName:"#text",nodeType:w,splitText:function(z){var $=this.data,nt=$.substring(z);$=$.substring(0,z),this.data=this.nodeValue=$,this.length=$.length;var ft=this.ownerDocument.createTextNode(nt);return this.parentNode&&this.parentNode.insertBefore(ft,this.nextSibling),ft}},b(W,P);function G(){}G.prototype={nodeName:"#comment",nodeType:k},b(G,P);function q(){}q.prototype={nodeName:"#cdata-section",nodeType:h},b(q,P);function p(){}p.prototype.nodeType=D,b(p,Et);function S(){}S.prototype.nodeType=R,b(S,Et);function L(){}L.prototype.nodeType=_,b(L,Et);function M(){}M.prototype.nodeType=x,b(M,Et);function X(){}X.prototype.nodeName="#document-fragment",X.prototype.nodeType=C,b(X,Et);function J(){}J.prototype.nodeType=f,b(J,Et);function lt(){}lt.prototype.serializeToString=function(z,$,nt){return vt.call(z,$,nt)},Et.prototype.toString=vt;function vt(z,$){var nt=[],ft=this.nodeType==9&&this.documentElement||this,xt=ft.prefix,Wt=ft.namespaceURI;if(Wt&&xt==null){var xt=ft.lookupPrefix(Wt);if(xt==null)var Jt=[{namespace:Wt,prefix:null}]}return Lt(this,nt,z,$,Jt),nt.join("")}function Tt(z,$,nt){var ft=z.prefix||"",xt=z.namespaceURI;if(!xt||ft==="xml"&&xt===d.XML||xt===d.XMLNS)return!1;for(var Wt=nt.length;Wt--;){var Jt=nt[Wt];if(Jt.prefix===ft)return Jt.namespace!==xt}return!0}function At(z,$,nt){z.push(" ",$,'="',nt.replace(/[<&"]/g,St),'"')}function Lt(z,$,nt,ft,xt){if(xt||(xt=[]),ft)if(z=ft(z),z){if(typeof z=="string"){$.push(z);return}}else return;switch(z.nodeType){case v:var Wt=z.attributes,Jt=Wt.length,pe=z.firstChild,se=z.tagName;nt=d.isHTML(z.namespaceURI)||nt;var Ne=se;if(!nt&&!z.prefix&&z.namespaceURI){for(var ge,oe=0;oe<Wt.length;oe++)if(Wt.item(oe).name==="xmlns"){ge=Wt.item(oe).value;break}if(!ge)for(var Ae=xt.length-1;Ae>=0;Ae--){var er=xt[Ae];if(er.prefix===""&&er.namespace===z.namespaceURI){ge=er.namespace;break}}if(ge!==z.namespaceURI)for(var Ae=xt.length-1;Ae>=0;Ae--){var er=xt[Ae];if(er.namespace===z.namespaceURI){er.prefix&&(Ne=er.prefix+":"+se);break}}}$.push("<",Ne);for(var qe=0;qe<Jt;qe++){var De=Wt.item(qe);De.prefix=="xmlns"?xt.push({prefix:De.localName,namespace:De.value}):De.nodeName=="xmlns"&&xt.push({prefix:"",namespace:De.value})}for(var qe=0;qe<Jt;qe++){var De=Wt.item(qe);if(Tt(De,nt,xt)){var rr=De.prefix||"",kr=De.namespaceURI;At($,rr?"xmlns:"+rr:"xmlns",kr),xt.push({prefix:rr,namespace:kr})}Lt(De,$,nt,ft,xt)}if(se===Ne&&Tt(z,nt,xt)){var rr=z.prefix||"",kr=z.namespaceURI;At($,rr?"xmlns:"+rr:"xmlns",kr),xt.push({prefix:rr,namespace:kr})}if(pe||nt&&!/^(?:meta|link|img|br|hr|input)$/i.test(se)){if($.push(">"),nt&&/^script$/i.test(se))for(;pe;)pe.data?$.push(pe.data):Lt(pe,$,nt,ft,xt.slice()),pe=pe.nextSibling;else for(;pe;)Lt(pe,$,nt,ft,xt.slice()),pe=pe.nextSibling;$.push("</",Ne,">")}else $.push("/>");return;case A:case C:for(var pe=z.firstChild;pe;)Lt(pe,$,nt,ft,xt.slice()),pe=pe.nextSibling;return;case g:return At($,z.name,z.value);case w:return $.push(z.data.replace(/[<&]/g,St).replace(/]]>/g,"]]&gt;"));case h:return $.push("<![CDATA[",z.data,"]]>");case k:return $.push("<!--",z.data,"-->");case D:var qn=z.publicId,fr=z.systemId;if($.push("<!DOCTYPE ",z.name),qn)$.push(" PUBLIC ",qn),fr&&fr!="."&&$.push(" ",fr),$.push(">");else if(fr&&fr!=".")$.push(" SYSTEM ",fr,">");else{var Kn=z.internalSubset;Kn&&$.push(" [",Kn,"]"),$.push(">")}return;case f:return $.push("<?",z.target," ",z.data,"?>");case x:return $.push("&",z.nodeName,";");default:$.push("??",z.nodeName)}}function It(z,$,nt){var ft;switch($.nodeType){case v:ft=$.cloneNode(!1),ft.ownerDocument=z;case C:break;case g:nt=!0;break}if(ft||(ft=$.cloneNode(!1)),ft.ownerDocument=z,ft.parentNode=null,nt)for(var xt=$.firstChild;xt;)ft.appendChild(It(z,xt,nt)),xt=xt.nextSibling;return ft}function Ut(z,$,nt){var ft=new $.constructor;for(var xt in $){var Wt=$[xt];typeof Wt!="object"&&Wt!=ft[xt]&&(ft[xt]=Wt)}switch($.childNodes&&(ft.childNodes=new at),ft.ownerDocument=z,ft.nodeType){case v:var Jt=$.attributes,se=ft.attributes=new Z,Ne=Jt.length;se._ownerElement=ft;for(var ge=0;ge<Ne;ge++)ft.setAttributeNode(Ut(z,Jt.item(ge),!0));break;case g:nt=!0}if(nt)for(var oe=$.firstChild;oe;)ft.appendChild(Ut(z,oe,nt)),oe=oe.nextSibling;return ft}function zt(z,$,nt){z[$]=nt}try{if(Object.defineProperty){let z=function($){switch($.nodeType){case v:case C:var nt=[];for($=$.firstChild;$;)$.nodeType!==7&&$.nodeType!==8&&nt.push(z($)),$=$.nextSibling;return nt.join("");default:return $.nodeValue}};Object.defineProperty(rt.prototype,"length",{get:function(){return ut(this),this.$$length}}),Object.defineProperty(Et.prototype,"textContent",{get:function(){return z(this)},set:function($){switch(this.nodeType){case v:case C:for(;this.firstChild;)this.removeChild(this.firstChild);($||String($))&&this.appendChild(this.ownerDocument.createTextNode($));break;default:this.data=$,this.value=$,this.nodeValue=$}}}),zt=function($,nt,ft){$["$$"+nt]=ft}}}catch(z){}i.DocumentType=p,i.DOMException=Y,i.DOMImplementation=dt,i.Element=j,i.Node=Et,i.NodeList=at,i.XMLSerializer=lt},function(a,i,n){var c=n(52),d=typeof self=="object"&&self&&self.Object===Object&&self,u=c||d||Function("return this")();a.exports=u},function(a,i,n){var c=n(26),d=c.Symbol;a.exports=d},function(a,i,n){var c=n(21),d=n(19),u="Expected a function";function T(E,y,o){var l=!0,b=!0;if(typeof E!="function")throw new TypeError(u);return d(o)&&(l="leading"in o?!!o.leading:l,b="trailing"in o?!!o.trailing:b),c(E,y,{leading:l,maxWait:y,trailing:b})}a.exports=T},function(a,i){a.exports=r},function(a,i,n){n.r(i),function(c){var d=n(24),u=n(16),T=n(2),E=n(12),y=n(0),o=n(1);n(20),n(10),n(22);function l(b,s){return new d.a(b,s)}l.VERSION=o.b,typeof c!="undefined"&&(c.EPUBJS_VERSION=o.b),l.Book=d.a,l.Rendition=u.a,l.Contents=E.a,l.CFI=T.a,l.utils=y,i.default=l}.call(this,n(17))},function(a,i,n){var c=n(32),d=n(40),u=n(41),T=n(42),E;E=a.exports=function(y,o){var l,b,s,v,g;return arguments.length<2||typeof y!="string"?(v=o,o=y,y=null):v=arguments[2],y==null?(l=s=!0,b=!1):(l=T.call(y,"c"),b=T.call(y,"e"),s=T.call(y,"w")),g={value:o,configurable:l,enumerable:b,writable:s},v?c(d(v),g):g},E.gs=function(y,o,l){var b,s,v,g;return typeof y!="string"?(v=l,l=o,o=y,y=null):v=arguments[3],o==null?o=void 0:u(o)?l==null?l=void 0:u(l)||(v=l,l=void 0):(v=o,o=l=void 0),y==null?(b=!0,s=!1):(b=T.call(y,"c"),s=T.call(y,"e")),g={get:o,set:l,configurable:b,enumerable:s},v?c(d(v),g):g}},function(a,i,n){a.exports=n(33)()?Object.assign:n(34)},function(a,i,n){a.exports=function(){var c=Object.assign,d;return typeof c!="function"?!1:(d={foo:"raz"},c(d,{bar:"dwa"},{trzy:"trzy"}),d.foo+d.bar+d.trzy==="razdwatrzy")}},function(a,i,n){var c=n(35),d=n(39),u=Math.max;a.exports=function(T,E){var y,o,l=u(arguments.length,2),b;for(T=Object(d(T)),b=function(s){try{T[s]=E[s]}catch(v){y||(y=v)}},o=1;o<l;++o)E=arguments[o],c(E).forEach(b);if(y!==void 0)throw y;return T}},function(a,i,n){a.exports=n(36)()?Object.keys:n(37)},function(a,i,n){a.exports=function(){try{return Object.keys("primitive"),!0}catch(c){return!1}}},function(a,i,n){var c=n(18),d=Object.keys;a.exports=function(u){return d(c(u)?Object(u):u)}},function(a,i,n){a.exports=function(){}},function(a,i,n){var c=n(18);a.exports=function(d){if(!c(d))throw new TypeError("Cannot use null or undefined");return d}},function(a,i,n){var c=n(18),d=Array.prototype.forEach,u=Object.create,T=function(E,y){var o;for(o in E)y[o]=E[o]};a.exports=function(E){var y=u(null);return d.call(arguments,function(o){c(o)&&T(Object(o),y)}),y}},function(a,i,n){a.exports=function(c){return typeof c=="function"}},function(a,i,n){a.exports=n(43)()?String.prototype.contains:n(44)},function(a,i,n){var c="razdwatrzy";a.exports=function(){return typeof c.contains!="function"?!1:c.contains("dwa")===!0&&c.contains("foo")===!1}},function(a,i,n){var c=String.prototype.indexOf;a.exports=function(d){return c.call(this,d,arguments[1])>-1}},function(a,i,n){a.exports=function(c){if(typeof c!="function")throw new TypeError(c+" is not a function");return c}},function(a,i,n){var c=n(14),d=n(25),u=n(47),T=n(48),E=d.DOMImplementation,y=c.NAMESPACE,o=T.ParseError,l=T.XMLReader;function b(_){this.options=_||{locator:{}}}b.prototype.parseFromString=function(_,f){var k=this.options,A=new l,D=k.domBuilder||new v,C=k.errorHandler,R=k.locator,I=k.xmlns||{},B=/\/x?html?$/.test(f),O=B?u.HTML_ENTITIES:u.XML_ENTITIES;return R&&D.setDocumentLocator(R),A.errorHandler=s(C,D,R),A.domBuilder=k.domBuilder||D,B&&(I[""]=y.HTML),I.xml=I.xml||y.XML,_&&typeof _=="string"?A.parse(_,I,O):A.errorHandler.error("invalid doc source"),D.doc};function s(_,f,k){if(!_){if(f instanceof v)return f;_=f}var A={},D=_ instanceof Function;k=k||{};function C(R){var I=_[R];!I&&D&&(I=_.length==2?function(B){_(R,B)}:_),A[R]=I&&function(B){I("[xmldom "+R+"]	"+B+w(k))}||function(){}}return C("warning"),C("error"),C("fatalError"),A}function v(){this.cdata=!1}function g(_,f){f.lineNumber=_.lineNumber,f.columnNumber=_.columnNumber}v.prototype={startDocument:function(){this.doc=new E().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(_,f,k,A){var D=this.doc,C=D.createElementNS(_,k||f),R=A.length;x(this,C),this.currentElement=C,this.locator&&g(this.locator,C);for(var I=0;I<R;I++){var _=A.getURI(I),B=A.getValue(I),k=A.getQName(I),O=D.createAttributeNS(_,k);this.locator&&g(A.getLocator(I),O),O.value=O.nodeValue=B,C.setAttributeNode(O)}},endElement:function(_,f,k){var A=this.currentElement;A.tagName,this.currentElement=A.parentNode},startPrefixMapping:function(_,f){},endPrefixMapping:function(_){},processingInstruction:function(_,f){var k=this.doc.createProcessingInstruction(_,f);this.locator&&g(this.locator,k),x(this,k)},ignorableWhitespace:function(_,f,k){},characters:function(_,f,k){if(_=h.apply(this,arguments),_){if(this.cdata)var A=this.doc.createCDATASection(_);else var A=this.doc.createTextNode(_);this.currentElement?this.currentElement.appendChild(A):/^\s*$/.test(_)&&this.doc.appendChild(A),this.locator&&g(this.locator,A)}},skippedEntity:function(_){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(_){(this.locator=_)&&(_.lineNumber=0)},comment:function(_,f,k){_=h.apply(this,arguments);var A=this.doc.createComment(_);this.locator&&g(this.locator,A),x(this,A)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(_,f,k){var A=this.doc.implementation;if(A&&A.createDocumentType){var D=A.createDocumentType(_,f,k);this.locator&&g(this.locator,D),x(this,D),this.doc.doctype=D}},warning:function(_){console.warn("[xmldom warning]	"+_,w(this.locator))},error:function(_){console.error("[xmldom error]	"+_,w(this.locator))},fatalError:function(_){throw new o(_,this.locator)}};function w(_){if(_)return`
@`+(_.systemId||"")+"#[line:"+_.lineNumber+",col:"+_.columnNumber+"]"}function h(_,f,k){return typeof _=="string"?_.substr(f,k):_.length>=f+k||f?new java.lang.String(_,f,k)+"":_}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(_){v.prototype[_]=function(){return null}});function x(_,f){_.currentElement?_.currentElement.appendChild(f):_.doc.appendChild(f)}i.__DOMHandler=v,i.DOMParser=b,i.DOMImplementation=d.DOMImplementation,i.XMLSerializer=d.XMLSerializer},function(a,i,n){var c=n(14).freeze;i.XML_ENTITIES=c({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),i.HTML_ENTITIES=c({lt:"<",gt:">",amp:"&",quot:'"',apos:"'",Agrave:"À",Aacute:"Á",Acirc:"Â",Atilde:"Ã",Auml:"Ä",Aring:"Å",AElig:"Æ",Ccedil:"Ç",Egrave:"È",Eacute:"É",Ecirc:"Ê",Euml:"Ë",Igrave:"Ì",Iacute:"Í",Icirc:"Î",Iuml:"Ï",ETH:"Ð",Ntilde:"Ñ",Ograve:"Ò",Oacute:"Ó",Ocirc:"Ô",Otilde:"Õ",Ouml:"Ö",Oslash:"Ø",Ugrave:"Ù",Uacute:"Ú",Ucirc:"Û",Uuml:"Ü",Yacute:"Ý",THORN:"Þ",szlig:"ß",agrave:"à",aacute:"á",acirc:"â",atilde:"ã",auml:"ä",aring:"å",aelig:"æ",ccedil:"ç",egrave:"è",eacute:"é",ecirc:"ê",euml:"ë",igrave:"ì",iacute:"í",icirc:"î",iuml:"ï",eth:"ð",ntilde:"ñ",ograve:"ò",oacute:"ó",ocirc:"ô",otilde:"õ",ouml:"ö",oslash:"ø",ugrave:"ù",uacute:"ú",ucirc:"û",uuml:"ü",yacute:"ý",thorn:"þ",yuml:"ÿ",nbsp:" ",iexcl:"¡",cent:"¢",pound:"£",curren:"¤",yen:"¥",brvbar:"¦",sect:"§",uml:"¨",copy:"©",ordf:"ª",laquo:"«",not:"¬",shy:"­­",reg:"®",macr:"¯",deg:"°",plusmn:"±",sup2:"²",sup3:"³",acute:"´",micro:"µ",para:"¶",middot:"·",cedil:"¸",sup1:"¹",ordm:"º",raquo:"»",frac14:"¼",frac12:"½",frac34:"¾",iquest:"¿",times:"×",divide:"÷",forall:"∀",part:"∂",exist:"∃",empty:"∅",nabla:"∇",isin:"∈",notin:"∉",ni:"∋",prod:"∏",sum:"∑",minus:"−",lowast:"∗",radic:"√",prop:"∝",infin:"∞",ang:"∠",and:"∧",or:"∨",cap:"∩",cup:"∪",int:"∫",there4:"∴",sim:"∼",cong:"≅",asymp:"≈",ne:"≠",equiv:"≡",le:"≤",ge:"≥",sub:"⊂",sup:"⊃",nsub:"⊄",sube:"⊆",supe:"⊇",oplus:"⊕",otimes:"⊗",perp:"⊥",sdot:"⋅",Alpha:"Α",Beta:"Β",Gamma:"Γ",Delta:"Δ",Epsilon:"Ε",Zeta:"Ζ",Eta:"Η",Theta:"Θ",Iota:"Ι",Kappa:"Κ",Lambda:"Λ",Mu:"Μ",Nu:"Ν",Xi:"Ξ",Omicron:"Ο",Pi:"Π",Rho:"Ρ",Sigma:"Σ",Tau:"Τ",Upsilon:"Υ",Phi:"Φ",Chi:"Χ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",omicron:"ο",pi:"π",rho:"ρ",sigmaf:"ς",sigma:"σ",tau:"τ",upsilon:"υ",phi:"φ",chi:"χ",psi:"ψ",omega:"ω",thetasym:"ϑ",upsih:"ϒ",piv:"ϖ",OElig:"Œ",oelig:"œ",Scaron:"Š",scaron:"š",Yuml:"Ÿ",fnof:"ƒ",circ:"ˆ",tilde:"˜",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lrm:"‎",rlm:"‏",ndash:"–",mdash:"—",lsquo:"‘",rsquo:"’",sbquo:"‚",ldquo:"“",rdquo:"”",bdquo:"„",dagger:"†",Dagger:"‡",bull:"•",hellip:"…",permil:"‰",prime:"′",Prime:"″",lsaquo:"‹",rsaquo:"›",oline:"‾",euro:"€",trade:"™",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦"}),i.entityMap=i.HTML_ENTITIES},function(a,i,n){var c=n(14).NAMESPACE,d=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,u=new RegExp("[\\-\\.0-9"+d.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),T=new RegExp("^"+d.source+u.source+"*(?::"+d.source+u.source+"*)?$"),E=0,y=1,o=2,l=3,b=4,s=5,v=6,g=7;function w(H,tt){this.message=H,this.locator=tt,Error.captureStackTrace&&Error.captureStackTrace(this,w)}w.prototype=new Error,w.prototype.name=w.name;function h(){}h.prototype={parse:function(H,tt,Y){var at=this.domBuilder;at.startDocument(),C(tt,tt={}),x(H,tt,Y,at,this.errorHandler),at.endDocument()}};function x(H,tt,Y,at,rt){function ut(J){if(J>65535){J-=65536;var lt=55296+(J>>10),vt=56320+(J&1023);return String.fromCharCode(lt,vt)}else return String.fromCharCode(J)}function Z(J){var lt=J.slice(1,-1);return lt in Y?Y[lt]:lt.charAt(0)==="#"?ut(parseInt(lt.substr(1).replace("x","0x"))):(rt.error("entity not found:"+J),J)}function et(J){if(J>Dt){var lt=H.substring(Dt,J).replace(/&#?\w+;/g,Z);St&&gt(Dt),at.characters(lt,0,J-Dt),Dt=J}}function gt(J,lt){for(;J>=dt&&(lt=Et.exec(H));)pt=lt.index,dt=pt+lt[0].length,St.lineNumber++;St.columnNumber=J-pt+1}for(var pt=0,dt=0,Et=/.*(?:\r\n?|\n)|.*$/g,St=at.locator,Ct=[{currentNSMap:tt}],Rt={},Dt=0;;){try{var Nt=H.indexOf("<",Dt);if(Nt<0){if(!H.substr(Dt).match(/^\s*$/)){var K=at.doc,it=K.createTextNode(H.substr(Dt));K.appendChild(it),at.currentElement=it}return}switch(Nt>Dt&&et(Nt),H.charAt(Nt+1)){case"/":var p=H.indexOf(">",Nt+3),m=H.substring(Nt+2,p).replace(/[ \t\n\r]+$/g,""),U=Ct.pop();p<0?(m=H.substring(Nt+2).replace(/[\s<].*/,""),rt.error("end tag name: "+m+" is not complete:"+U.tagName),p=Nt+1+m.length):m.match(/\s</)&&(m=m.replace(/[\s<].*/,""),rt.error("end tag name: "+m+" maybe not complete"),p=Nt+1+m.length);var j=U.localNSMap,N=U.tagName==m,P=N||U.tagName&&U.tagName.toLowerCase()==m.toLowerCase();if(P){if(at.endElement(U.uri,U.localName,m),j)for(var W in j)at.endPrefixMapping(W);N||rt.fatalError("end tag name: "+m+" is not match the current start tagName:"+U.tagName)}else Ct.push(U);p++;break;case"?":St&&gt(Nt),p=I(H,Nt,at);break;case"!":St&&gt(Nt),p=R(H,Nt,at,rt);break;default:St&&gt(Nt);var G=new B,q=Ct[Ct.length-1].currentNSMap,p=f(H,Nt,G,q,Z,rt),S=G.length;if(!G.closed&&D(H,p,G.tagName,Rt)&&(G.closed=!0,Y.nbsp||rt.warning("unclosed xml attribute")),St&&S){for(var L=_(St,{}),M=0;M<S;M++){var X=G[M];gt(X.offset),X.locator=_(St,{})}at.locator=L,k(G,at,q)&&Ct.push(G),at.locator=St}else k(G,at,q)&&Ct.push(G);c.isHTML(G.uri)&&!G.closed?p=A(H,p,G.tagName,Z,at):p++}}catch(J){if(J instanceof w)throw J;rt.error("element parse error: "+J),p=-1}p>Dt?Dt=p:et(Math.max(Nt,Dt)+1)}}function _(H,tt){return tt.lineNumber=H.lineNumber,tt.columnNumber=H.columnNumber,tt}function f(H,tt,Y,at,rt,ut){function Z(St,Ct,Rt){Y.attributeNames.hasOwnProperty(St)&&ut.fatalError("Attribute "+St+" redefined"),Y.addValue(St,Ct,Rt)}for(var et,gt,pt=++tt,dt=E;;){var Et=H.charAt(pt);switch(Et){case"=":if(dt===y)et=H.slice(tt,pt),dt=l;else if(dt===o)dt=l;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(dt===l||dt===y)if(dt===y&&(ut.warning('attribute value must after "="'),et=H.slice(tt,pt)),tt=pt+1,pt=H.indexOf(Et,tt),pt>0)gt=H.slice(tt,pt).replace(/&#?\w+;/g,rt),Z(et,gt,tt-1),dt=s;else throw new Error("attribute value no end '"+Et+"' match");else if(dt==b)gt=H.slice(tt,pt).replace(/&#?\w+;/g,rt),Z(et,gt,tt),ut.warning('attribute "'+et+'" missed start quot('+Et+")!!"),tt=pt+1,dt=s;else throw new Error('attribute value must after "="');break;case"/":switch(dt){case E:Y.setTagName(H.slice(tt,pt));case s:case v:case g:dt=g,Y.closed=!0;case b:case y:case o:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return ut.error("unexpected end of input"),dt==E&&Y.setTagName(H.slice(tt,pt)),pt;case">":switch(dt){case E:Y.setTagName(H.slice(tt,pt));case s:case v:case g:break;case b:case y:gt=H.slice(tt,pt),gt.slice(-1)==="/"&&(Y.closed=!0,gt=gt.slice(0,-1));case o:dt===o&&(gt=et),dt==b?(ut.warning('attribute "'+gt+'" missed quot(")!'),Z(et,gt.replace(/&#?\w+;/g,rt),tt)):((!c.isHTML(at[""])||!gt.match(/^(?:disabled|checked|selected)$/i))&&ut.warning('attribute "'+gt+'" missed value!! "'+gt+'" instead!!'),Z(gt,gt,tt));break;case l:throw new Error("attribute value missed!!")}return pt;case"":Et=" ";default:if(Et<=" ")switch(dt){case E:Y.setTagName(H.slice(tt,pt)),dt=v;break;case y:et=H.slice(tt,pt),dt=o;break;case b:var gt=H.slice(tt,pt).replace(/&#?\w+;/g,rt);ut.warning('attribute "'+gt+'" missed quot(")!!'),Z(et,gt,tt);case s:dt=v;break}else switch(dt){case o:Y.tagName,(!c.isHTML(at[""])||!et.match(/^(?:disabled|checked|selected)$/i))&&ut.warning('attribute "'+et+'" missed value!! "'+et+'" instead2!!'),Z(et,et,tt),tt=pt,dt=y;break;case s:ut.warning('attribute space is required"'+et+'"!!');case v:dt=y,tt=pt;break;case l:dt=b,tt=pt;break;case g:throw new Error("elements closed character '/' and '>' must be connected to")}}pt++}}function k(H,tt,Y){for(var at=H.tagName,rt=null,Et=H.length;Et--;){var ut=H[Et],Z=ut.qName,et=ut.value,St=Z.indexOf(":");if(St>0)var gt=ut.prefix=Z.slice(0,St),pt=Z.slice(St+1),dt=gt==="xmlns"&&pt;else pt=Z,gt=null,dt=Z==="xmlns"&&"";ut.localName=pt,dt!==!1&&(rt==null&&(rt={},C(Y,Y={})),Y[dt]=rt[dt]=et,ut.uri=c.XMLNS,tt.startPrefixMapping(dt,et))}for(var Et=H.length;Et--;){ut=H[Et];var gt=ut.prefix;gt&&(gt==="xml"&&(ut.uri=c.XML),gt!=="xmlns"&&(ut.uri=Y[gt||""]))}var St=at.indexOf(":");St>0?(gt=H.prefix=at.slice(0,St),pt=H.localName=at.slice(St+1)):(gt=null,pt=H.localName=at);var Ct=H.uri=Y[gt||""];if(tt.startElement(Ct,pt,at,H),H.closed){if(tt.endElement(Ct,pt,at),rt)for(gt in rt)tt.endPrefixMapping(gt)}else return H.currentNSMap=Y,H.localNSMap=rt,!0}function A(H,tt,Y,at,rt){if(/^(?:script|textarea)$/i.test(Y)){var ut=H.indexOf("</"+Y+">",tt),Z=H.substring(tt+1,ut);if(/[&<]/.test(Z))return/^script$/i.test(Y)?(rt.characters(Z,0,Z.length),ut):(Z=Z.replace(/&#?\w+;/g,at),rt.characters(Z,0,Z.length),ut)}return tt+1}function D(H,tt,Y,at){var rt=at[Y];return rt==null&&(rt=H.lastIndexOf("</"+Y+">"),rt<tt&&(rt=H.lastIndexOf("</"+Y)),at[Y]=rt),rt<tt}function C(H,tt){for(var Y in H)tt[Y]=H[Y]}function R(H,tt,Y,at){var rt=H.charAt(tt+2);switch(rt){case"-":if(H.charAt(tt+3)==="-"){var ut=H.indexOf("-->",tt+4);return ut>tt?(Y.comment(H,tt+4,ut-tt-4),ut+3):(at.error("Unclosed comment"),-1)}else return-1;default:if(H.substr(tt+3,6)=="CDATA["){var ut=H.indexOf("]]>",tt+9);return Y.startCDATA(),Y.characters(H,tt+9,ut-tt-9),Y.endCDATA(),ut+3}var Z=O(H,tt),et=Z.length;if(et>1&&/!doctype/i.test(Z[0][0])){var gt=Z[1][0],pt=!1,dt=!1;et>3&&(/^public$/i.test(Z[2][0])?(pt=Z[3][0],dt=et>4&&Z[4][0]):/^system$/i.test(Z[2][0])&&(dt=Z[3][0]));var Et=Z[et-1];return Y.startDTD(gt,pt,dt),Y.endDTD(),Et.index+Et[0].length}}return-1}function I(H,tt,Y){var at=H.indexOf("?>",tt);if(at){var rt=H.substring(tt,at).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return rt?(rt[0].length,Y.processingInstruction(rt[1],rt[2]),at+2):-1}return-1}function B(){this.attributeNames={}}B.prototype={setTagName:function(H){if(!T.test(H))throw new Error("invalid tagName:"+H);this.tagName=H},addValue:function(H,tt,Y){if(!T.test(H))throw new Error("invalid attribute:"+H);this.attributeNames[H]=this.length,this[this.length++]={qName:H,value:tt,offset:Y}},length:0,getLocalName:function(H){return this[H].localName},getLocator:function(H){return this[H].locator},getQName:function(H){return this[H].qName},getURI:function(H){return this[H].uri},getValue:function(H){return this[H].value}};function O(H,tt){var Y,at=[],rt=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(rt.lastIndex=tt,rt.exec(H);Y=rt.exec(H);)if(at.push(Y),Y[1])return at}i.XMLReader=h,i.ParseError=w},function(a,i,n){Object.defineProperty(i,"__esModule",{value:!0}),i.createElement=c;function c(d){return document.createElementNS("http://www.w3.org/2000/svg",d)}i.default={createElement:c}},function(a,i,n){Object.defineProperty(i,"__esModule",{value:!0}),i.proxyMouse=c,i.clone=d,i.default={proxyMouse:c};function c(T,E){function y(s){for(var v=E.length-1;v>=0;v--){var g=E[v],w=s.clientX,h=s.clientY;if(s.touches&&s.touches.length&&(w=s.touches[0].clientX,h=s.touches[0].clientY),!!u(g,T,w,h)){g.dispatchEvent(d(s));break}}}if(T.nodeName==="iframe"||T.nodeName==="IFRAME")try{this.target=T.contentDocument}catch(s){this.target=T}else this.target=T;for(var o=["mouseup","mousedown","click","touchstart"],l=0;l<o.length;l++){var b=o[l];this.target.addEventListener(b,function(s){return y(s)},!1)}}function d(T){var E=Object.assign({},T,{bubbles:!1});try{return new MouseEvent(T.type,E)}catch(o){var y=document.createEvent("MouseEvents");return y.initMouseEvent(T.type,!1,E.cancelable,E.view,E.detail,E.screenX,E.screenY,E.clientX,E.clientY,E.ctrlKey,E.altKey,E.shiftKey,E.metaKey,E.button,E.relatedTarget),y}}function u(T,E,y,o){var l=E.getBoundingClientRect();function b(h,x,_){var f=h.top-l.top,k=h.left-l.left,A=f+h.height,D=k+h.width;return f<=_&&k<=x&&A>_&&D>x}var s=T.getBoundingClientRect();if(!b(s,y,o))return!1;for(var v=T.getClientRects(),g=0,w=v.length;g<w;g++)if(b(v[g],y,o))return!0;return!1}},function(a,i,n){var c=n(26),d=function(){return c.Date.now()};a.exports=d},function(a,i,n){(function(c){var d=typeof c=="object"&&c&&c.Object===Object&&c;a.exports=d}).call(this,n(17))},function(a,i,n){var c=n(54),d=n(19),u=n(56),T=NaN,E=/^[-+]0x[0-9a-f]+$/i,y=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt;function b(s){if(typeof s=="number")return s;if(u(s))return T;if(d(s)){var v=typeof s.valueOf=="function"?s.valueOf():s;s=d(v)?v+"":v}if(typeof s!="string")return s===0?s:+s;s=c(s);var g=y.test(s);return g||o.test(s)?l(s.slice(2),g?2:8):E.test(s)?T:+s}a.exports=b},function(a,i,n){var c=n(55),d=/^\s+/;function u(T){return T&&T.slice(0,c(T)+1).replace(d,"")}a.exports=u},function(a,i){var n=/\s/;function c(d){for(var u=d.length;u--&&n.test(d.charAt(u)););return u}a.exports=c},function(a,i,n){var c=n(57),d=n(60),u="[object Symbol]";function T(E){return typeof E=="symbol"||d(E)&&c(E)==u}a.exports=T},function(a,i,n){var c=n(27),d=n(58),u=n(59),T="[object Null]",E="[object Undefined]",y=c?c.toStringTag:void 0;function o(l){return l==null?l===void 0?E:T:y&&y in Object(l)?d(l):u(l)}a.exports=o},function(a,i,n){var c=n(27),d=Object.prototype,u=d.hasOwnProperty,T=d.toString,E=c?c.toStringTag:void 0;function y(o){var l=u.call(o,E),b=o[E];try{o[E]=void 0;var s=!0}catch(g){}var v=T.call(o);return s&&(l?o[E]=b:delete o[E]),v}a.exports=y},function(a,i){var n=Object.prototype,c=n.toString;function d(u){return c.call(u)}a.exports=d},function(a,i){function n(c){return c!=null&&typeof c=="object"}a.exports=n}]).default})})(da);var fa=da.exports;const Nd=te({__proto__:null,default:ha(fa)},[fa])})();
